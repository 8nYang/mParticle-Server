{"version":3,"sources":["../../node_modules/@mparticle/web-sdk/dist/mparticle.esm.js","../../node_modules/@mparticle/web-appboy-kit/dist/AppboyKit.common.js","../../node_modules/@mparticle/web-media-sdk/dist/mparticle-media.common.js","www.treatwell.co.uk.demo.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["globalThis","regeneratorRuntime","undefined","Base64$2","_keyStr","encode","a","window","btoa","atob","unescape","encodeURIComponent","console","error","_encode","b","c","d","e","f","g","h","j","k","UTF8","length","charCodeAt","isNaN","charAt","decode","decodeURIComponent","escape","_decode","replace","indexOf","String","fromCharCode","Polyfill","forEach","TypeError","Object","arguments","call","map","Array","i","filter","push","isArray","prototype","toString","Base64","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","_TriggerUploadType","MessageType$1","SessionStart","SessionEnd","PageView","PageEvent","CrashReport","OptOut","AppStateTransition","Profile","Commerce","Media","UserAttributeChange","UserIdentityChange","TriggerUploadType","EventType","Unknown","Navigation","Location","Search","Transaction","UserContent","UserPreference","Social","Other","getName","CommerceEventType","ProductAddToCart","ProductAddToWishlist","ProductCheckout","ProductCheckoutOption","ProductClick","ProductImpression","ProductPurchase","ProductRefund","ProductRemoveFromCart","ProductRemoveFromWishlist","ProductViewDetail","PromotionClick","PromotionView","IdentityType","CustomerId","Facebook","Twitter","Google","Microsoft","Yahoo","Email","FacebookCustomAudienceId","Other2","Other3","Other4","Other5","Other6","Other7","Other8","Other9","Other10","MobileNumber","PhoneNumber2","PhoneNumber3","isValid","hasOwnProperty","mParticle","getIdentityType","getIdentityName","ProductActionType","AddToCart","RemoveFromCart","Checkout","CheckoutOption","Click","ViewDetail","Purchase","Refund","AddToWishlist","RemoveFromWishlist","getExpansionName","PromotionActionType","ProfileMessageType","Logout","ApplicationTransitionType$1","AppInit","Types","MessageType","ApplicationTransitionType","version","Constants","sdkVersion","sdkVendor","platform","Messages","ErrorMessages","NoToken","EventNameInvalidType","EventDataInvalidType","LoggingDisabled","CookieParseError","EventEmpty","APIRequestEmpty","NoEventType","TransactionIdRequired","TransactionRequired","PromotionIdRequired","BadAttribute","BadKey","BadLogPurchase","InformationMessages","CookieSearch","CookieFound","CookieNotFound","CookieSet","CookieSync","SendBegin","SendIdentityBegin","SendWindowsPhone","SendIOS","SendAndroid","SendHttp","SendAliasHttp","SendIdentityHttp","StartingNewSession","StartingLogEvent","StartingLogOptOut","StartingEndSession","StartingInitialization","StartingLogCommerceEvent","StartingAliasRequest","LoadingConfig","AbandonLogEvent","AbandonAliasUsers","AbandonStartSession","AbandonEndSession","NoSessionToEnd","ValidationMessages","ModifyIdentityRequestUserIdentitiesPresent","IdentityRequesetInvalidKey","OnUserAliasType","UserIdentities","UserIdentitiesInvalidKey","UserIdentitiesInvalidValues","AliasMissingMpid","AliasNonUniqueMpid","AliasMissingTime","AliasStartBeforeEndTime","NativeSdkPaths","LogEvent","SetUserTag","RemoveUserTag","SetUserAttribute","RemoveUserAttribute","SetSessionAttribute","ClearCart","LogOut","SetUserAttributeList","RemoveAllUserAttributes","GetUserAttributesLists","GetAllUserAttributes","Identify","Login","Modify","Alias","Upload","StorageNames","localStorageName","localStorageNameV3","cookieName","cookieNameV2","cookieNameV3","localStorageNameV4","localStorageProductsV4","cookieNameV4","currentStorageName","currentStorageProductsName","DefaultConfig","cookieDomain","cookieExpiration","logLevel","timeout","sessionTimeout","maxProducts","forwarderStatsTimeout","integrationDelayTimeout","maxCookieSize","aliasMaxWindow","uploadInterval","DefaultUrls","v1SecureServiceUrl","v2SecureServiceUrl","v3SecureServiceUrl","configUrl","identityUrl","aliasUrl","Base64CookieKeys","csm","sa","ss","ua","ui","csd","ia","con","SDKv2NonMPIDCookieKeys","gs","cu","l","globalSettings","currentUserMPID","HTTPCodes","noHttpCoverage","activeIdentityRequest","activeSession","validationIssue","nativeIdentityRequest","loggingDisabledOrMissingAPIKey","tooManyRequests","FeatureFlags","ReportBatching","EventsV3","EventBatchingIntervalMillis","DefaultInstance","_typeof","Symbol","iterator","constructor","extendStatics","setPrototypeOf","__proto__","p","__extends","__","create","__assign","assign","t","s","n","apply","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","y","verb","v","op","pop","SDKProductActionType","SDKIdentityTypeEnum","other","customerId","facebook","twitter","google","microsoft","yahoo","email","alias","facebookCustomAudienceId","otherId2","otherId3","otherId4","otherId5","otherId6","otherId7","otherId8","otherId9","otherId10","mobileNumber","phoneNumber2","phoneNumber3","commonjsGlobal","global","self","dist","exports","ApplicationInformationOsEnum","ApplicationStateTransitionEventEventTypeEnum","ApplicationStateTransitionEventDataApplicationTransitionTypeEnum","BatchEnvironmentEnum","BreadcrumbEventEventTypeEnum","CommerceEventEventTypeEnum","CommerceEventDataCustomEventTypeEnum","CrashReportEventEventTypeEnum","CustomEventEventTypeEnum","CustomEventDataCustomEventTypeEnum","DeviceCurrentStateDeviceOrientationEnum","DeviceCurrentStateStatusBarOrientationEnum","DeviceInformationPlatformEnum","EventTypeEnum","IdentityTypeEnum","NetworkPerformanceEventEventTypeEnum","OptOutEventEnum","ProductActionActionEnum","ProfileEventEventTypeEnum","ProfileEventDataProfileEventTypeEnum","PromotionActionActionEnum","PushMessageEventEventTypeEnum","PushMessageEventDataPushMessageTypeEnum","PushMessageEventDataApplicationStateEnum","PushMessageEventDataPushMessageBehaviorEnum","PushRegistrationEventEventTypeEnum","SessionEndEventEventTypeEnum","SessionStartEventEventTypeEnum","SourceInformationChannelEnum","UserAttributeChangeEventEventTypeEnum","UserIdentityChangeEventEventTypeEnum","convertEvents","convertEvent","source_request_id","_Helpers","generateUniqueId","mpid","timestamp_unixtime_ms","Date","getTime","environment","Debug","development","production","events","mp_deviceid","DeviceId","sdk_version","SDKVersion","application_info","application_version","AppVersion","application_name","AppName","package","Package","device_info","web","screen_width","screen","width","screen_height","height","user_attributes","UserAttributes","user_identities","convertUserIdentities","consent_state","convertConsentState","ConsentState","integration_attributes","IntegrationAttributes","DataPlan","PlanId","context","data_plan","plan_id","plan_version","PlanVersion","gdpr","convertGdprConsentState","getGDPRConsentState","ccpa","convertCcpaConsentState","getCCPAConsentState","consented","Consented","hardware_id","HardwareId","document","ConsentDocument","Timestamp","location","data_sale_opt_out","Type","customer_id","Identity","facebook_custom_audience_id","other_id_2","other_id_3","other_id_4","other_id_5","other_id_6","other_id_7","other_id_8","other_id_9","other_id_10","mobile_number","phone_number_2","phone_number_3","EventDataType","convertAST","convertCommerceEvent","convertCrashReportEvent","convertOptOutEvent","convertCustomEvent","convertPageViewEvent","convertSessionEndEvent","convertSessionStartEvent","convertUserAttributeChangeEvent","convertUserIdentityChangeEvent","convertProductActionType","unknown","addToCart","addToWishlist","checkout","checkoutOption","click","purchase","refund","removeFromCart","removeFromWishlist","viewDetail","convertProductAction","ProductAction","action","checkout_step","CheckoutStep","checkout_options","CheckoutOptions","transaction_id","TransactionId","affiliation","Affiliation","total_amount","TotalAmount","tax_amount","TaxAmount","shipping_amount","ShippingAmount","coupon_code","CouponCode","products","convertProducts","ProductList","id","Sku","name","Name","brand","Brand","category","Category","variant","Variant","total_product_amount","position","Position","price","Price","quantity","Quantity","custom_attributes","Attributes","convertPromotionAction","PromotionAction","promotions","convertPromotions","PromotionList","Id","creative","Creative","convertImpressions","ProductImpressions","product_impression_list","ProductImpressionList","convertShoppingCart","ShoppingCart","convertBaseEventData","custom_flags","CustomFlags","product_action","promotion_action","product_impressions","shopping_cart","currency_code","CurrencyCode","event_type","commerceEvent","data","message","EventName","crashReport","application_transition_type","applicationInitialized","is_first_run","IsFirstRun","is_upgrade","launch_referral","LaunchReferral","applicationStateTransition","session_duration_ms","SessionLength","sessionEnd","sessionStart","screen_name","screenView","is_opted_out","optOut","custom_event_type","convertSdkEventType","EventCategory","event_name","customEvent","navigation","search","social","transaction","userContent","userPreference","media","impression","promotionClick","promotionView","session_uuid","SessionId","session_start_unixtime_ms","SessionStartDate","EventAttributes","convertSDKLocation","source_message_id","SourceMessageId","keys","latitude","lat","longitude","lng","user_attribute_name","UserAttributeChanges","UserAttributeName","new","New","old","Old","deleted","Deleted","is_new_attribute","IsNewAttribute","userAttributeChange","identity_type","convertUserIdentityTypeToServerIdentityType","UserIdentityChanges","identity","created_this_batch","CreatedThisBatch","userIdentityChange","BatchUploader","mpInstance","uploadIntervalMillis","batchingEnabled","MINIMUM_INTERVAL_MILLIS","pendingEvents","pendingUploads","_Store","SDKConfig","devToken","createServiceUrl","uploadUrl","concat","setTimeout","prepareAndUpload","addEventListeners","addEventListener","isBeaconAvailable","navigator","sendBeacon","queueEvent","Logger","verbose","JSON","stringify","createNewUploads","Map","MPID","getMPID","get","set","from","entries","m","o","q","r","u","onCreateBatch","modified","warning","getCurrentUser","upload","unshift","method","headers","Accept","CONTENT_TYPE","Blob","type","fetch","FetchUploader","XHRUploader","status","slice","AsyncUploader","url","logger","makeRequest","XMLHttpRequest","onreadystatechange","readyState","open","send","Messages$9","APIClient","uploader","queueEventForBatchUpload","getFeatureFlag","shouldEnableBatching","parseInt","getRampNumber","deviceId","processQueuedEvents","eventQueue","appendUserInfoToEvents","sendEventToServer","_ServerModel","appendUserInfo","extend","shouldUploadEvent","webviewBridgeEnabled","_NativeSdkHelpers","sendToNative","requireDelay","isDelayedByIntegration","_preInit","integrationDelays","integrationDelayTimeoutStart","now","configurationLoaded","sendSingleEventToServer","kitBlockingEnabled","createBlockedEvent","_Forwarders","sendEventToForwarders","xhrCallback","statusText","_Persistence","update","createXHR","convertEventToDTO","sendBatchForwardingStatsToServer","uuid","sendSingleForwardingStatsToServer","prepareForwardingStats","getForwarderStatsQueue","isVisible","mid","esid","eventSubscriptionId","attrs","sdk","dt","et","dbg","ct","eec","ExpandedEventCount","dp","setForwarderStatsQueue","slugify","module","root","factory","charMap","parse","locales","string","options","Error","replacement","locale","trim","slug","normalize","split","reduce","ch","appendChar","remove","strict","lower","toLowerCase","customMap","Slugify","inArray","findKeyInObject","isObject","parseNumber","isFinite","parseFloat","returnConvertedBoolean","decoded","converted","Validators","isValidAttributeValue","isValidKeyValue","isFunction","isStringOrNumber","isNumber","validateIdentities","userIdentities","onUserAlias","copyUserAttributes","valid","StorageNames$2","Helpers","crypto","getRandomValues","Uint8Array","Math","random","canLog","isEnabled","flags","generateHash","abs","invokeCallback","httpCode","getUser","getPreviousUser","getUsers","shift","invokeAliasCallback","hasOwn","class2type","isPlainObject","nodeType","isWindow","forceHttps","protocol","XDomainRequest","onload","filterUserIdentities","filterUserIdentitiesForForwarders","filterUserAttributes","isEventType","parseStringOrNumber","sanitizeAttributes","createMainStorageName","createProductStorageName","isSlug","Messages$8","androidBridgeNameBase","iosBridgeNameBase","NativeSdkHelpers","isBridgeV2Available","webkit","messageHandlers","uiwebviewBridgeName","isWebviewEnabled","bridgeV2Available","bridgeV1Available","isBridgeV1Available","useNativeSdk","mParticleAndroid","isIOS","minWebviewBridgeVersion","sendViaBridgeV2","requiredWebviewBridgeName","sendViaBridgeV1","sendViaIframeToIOS","createElement","setAttribute","documentElement","appendChild","parentNode","removeChild","postMessage","path","Messages$7","cookieSyncManager","attemptCookieSync","pixelConfigurations","filteringConsentRuleValues","values","moduleId","frequencyCap","pixelUrl","replaceAmp","redirectUrl","replaceMPID","getPersistence","performCookieSync","_Consent","isEnabledForUserConsent","saveUserCookieSyncDatesToPersistence","src","Messages$6","SessionManager","initialize","sessionId","dateLastEventSent","endSession","startNewSession","identify","identifyRequest","identityCallback","identifyCalled","getSession","toUpperCase","currentSessionMPIDs","sessionStartDate","setSessionTimer","_Events","logEvent","messageType","sessionAttributes","sid","les","globalTimer","resetSessionTimer","clearSessionTimeout","startNewSessionIfNeeded","clearTimeout","Messages$5","Ecommerce","convertTransactionAttributesToProductAction","sanitizeAmount","Revenue","Shipping","Tax","Step","Option","getProductActionEventName","getPromotionActionEventName","convertProductActionToEventType","convertPromotionActionToEventType","generateExpandedEcommerceName","extractProductAttributes","extractTransactionId","extractActionAttributes","extractPromotionAttributes","buildProductList","createProduct","createPromotion","createImpression","Product","createTransactionAttributes","expandProductImpression","createEventObject","eventType","expandCommerceEvent","expandProductAction","expandPromotionAction","createCommerceEventObject","currencyCode","join","createSDKConfig","Store","consentState","isFirstRun","clientId","migrationData","serverSettings","currentPosition","isTracking","watchPositionId","cartProducts","identityCallInFlight","migratingToIDSyncCookies","nonCurrentUserMPIDs","isLoggedIn","cookieSyncDates","integrationAttributes","isLocalStorageAvailable","storageName","prodStorageName","activeForwarders","kits","configuredForwarders","isDevelopmentMode","useCookieStorage","appName","appVersion","dataPlan","planId","planVersion","customFlags","dataPlanOptions","ConsoleLogger","setLogLevel","info","warn","Base64$1","Messages$4","StorageNames$1","ie","av","cgid","das","ssd","localStorage","removeItem","encodePersistence","useLocalStorage","initializeStorage","getLocalStorage","getCookie","storeDataInMemory","expireCookies","getItem","storeProductsInMemory","setCookie","setLocalStorage","cp","determineLocalStorageAvailability","_forceNoLocalStorage","setItem","getUserProductsFromLS","getAllUserProductsFromLS","decodePersistence","getCookieDomain","setTime","toUTCString","cookie","toGMTString","reduceAndEncodePersistence","findPrevCookiesBasedOnUI","createCookieString","revertCookieString","replaceCommasWithPipes","replacePipesWithCommas","replaceApostrophesWithQuotes","replaceQuotesWithApostrophes","getDomain","hostname","getUserIdentities","getAllUserAttributes","getCartProducts","setCartProducts","saveUserIdentitiesToPersistence","savePersistence","saveUserAttributesToPersistence","saveUserConsentStateToCookies","ConsentSerialization","toMinifiedJsonObject","getConsentState","fromMinifiedJsonObject","getFirstSeenTime","fst","setFirstSeenTime","getLastSeenTime","lst","setLastSeenTime","getDeviceId","setDeviceId","resetPersistence","_isTestEnv","forwardingStatsBatches","uploadsTable","forwardingStatsEventQueue","Messages$3","Events","_APIClient","startTracking","geolocation","watchPosition","coords","stopTracking","clearWatch","logOptOut","logAST","logCheckoutEvent","_Ecommerce","logCommerceEvent","logProductActionEvent","logPurchaseEvent","logRefundEvent","logPromotionEvent","logImpressionEvent","addEventHandler","handler","timeoutHandler","href","submit","target","preventDefault","returnValue","querySelectorAll","attachEvent","CookiesGlobalSettingsKeys","MPIDKeys","Migrations","convertSDKv1CookiesV3ToSDKv2CookiesV4","CookieExpiration","pb","migrate","filteredMparticleUser","isIdentityBlocked","userIdentityFilters","getUserAttributesLists","isAttributeKeyBlocked","userAttributeFilters","Forwarders","initForwarders","sort","settings","PriorityValue","isEnabledForUserAttributes","filteringUserAttributeValue","isEnabledForUnknownUser","excludeAnonymousUser","initialized","init","userAttributeName","userAttributeValue","includeOnMatch","applyToForwarders","splice","filteringEventAttributeValue","eventAttributeName","eventAttributeValue","eventNameFilters","eventTypeFilters","screenNameFilters","attributeFilters","screenAttributeFilters","process","callSetUserAttributeOnForwarders","setUserAttribute","setForwarderUserIdentities","setUserIdentity","setForwarderOnUserIdentified","onUserIdentified","setForwarderOnIdentityComplete","onIdentifyComplete","onLoginComplete","onLogoutComplete","onModifyComplete","configureForwarder","forwarderConstructors","isDebug","isSandbox","hasSandbox","hasDebugString","configurePixel","isProduction","processForwarders","kitConfigs","pixelConfigs","ServerModel","nm","pr","qt","br","va","ca","ps","cc","tpa","convertToConsentStateDTO","ts","toEventAPIObject","sourceMessageId","userAttributeChanges","userIdentityChanges","getAppVersion","getAppName","ClientGeneratedId","str","sl","lc","smpids","dp_id","dp_v","fr","iu","at","lr","sc","pl","pd","an","cs","co","ti","ta","tcc","tr","tt","pm","cr","pi","pil","pet","forwardingStatsUploader","uploading","startForwardingStatsTimer","_forwardingStatsTimer","setInterval","Messages$2","HTTPCodes$2","checkIdentitySwap","IdentityRequest","createKnownIdentities","device_application_stamp","preProcessIdentityRequest","createIdentityRequest","client_sdk","sdk_vendor","request_id","request_timestamp_ms","previous_mpid","known_identities","createModifyIdentityRequest","identity_changes","createIdentityChanges","old_value","new_value","combineUserIdentities","createAliasNetworkRequest","request_type","api_key","destination_mpid","destinationMpid","source_mpid","sourceMpid","start_unixtime_ms","startTime","end_unixtime_ms","endTime","scope","convertAliasToNative","DestinationMpid","SourceMpid","StartUnixtimeMs","EndUnixtimeMs","convertToNative","IdentityAPI","_Identity","_IdentityAPIClient","sendIdentityRequest","parseIdentityResponse","logout","logOut","login","modify","mParticleUser","aliasUsers","sendAliasRequest","createAliasRequest","maxAliasWindow","setUserTag","removeUserTag","removeUserAttribute","_SessionManager","sendUserAttributeChangeEvent","setUserAttributes","setUserAttributeList","removeAllUserAttributes","getCart","mParticleUserCart","setConsentState","_CookieSyncManager","add","clear","I","responseText","is_logged_in","S","userAttributes","A","sendUserIdentityChangeEvent","errors","createUserIdentityChange","userInMemory","createUserAttributeChange","Consent","some","consentPurpose","hasConsented","createPrivacyConsent","createConsentState","addGDPRConsentState","setCCPAConsentState","setGDPRConsentState","removeGDPRConsentState","removeCCPAState","removeCCPAConsentState","DataPlanMatchType","ScreenView","CustomEvent","KitBlocker","dataPlanMatchLookups","blockEvents","blockEventAttributes","blockUserAttributes","blockUserIdentities","dtpn","blok","ev","ea","vers","version_document","data_points","addToMatchLookups","match","validator","generateMatchKey","getPlannedProperties","generateProductAttributeMatchKey","getProductProperties","criteria","definition","properties","additionalProperties","items","w","x","z","B","getMatchKey","getProductAttributeMatchKey","transformEventAndEventAttributes","transformProductAttributes","transformUserAttributes","transformUserIdentities","ConfigAPIClient","getSDKConfiguration","HTTPCodes$1","Messages$1","IdentityAPIClient","setRequestHeader","mParticleInstance","_instanceName","_Migrations","_ForwardingStatsUploader","readyQueue","PromotionType","config","rq","runPreConfigFetchInitialization","requestConfig","completeSDKInitialization","reset","_resetForTests","ready","isInitialized","getVersion","setAppVersion","queueIfNotInitialized","setAppName","stopTrackingLocation","startTrackingLocation","setPosition","logBaseEvent","logError","stack","logLink","logForm","logPageView","title","createCCPAConsent","createGDPRConsent","eCommerce","Cart","setCurrencyCode","logCheckout","logProductAction","logPurchase","logPromotion","logImpression","logRefund","setSessionAttribute","setOptOut","setIntegrationAttribute","getIntegrationAttributes","addForwarder","_getActiveForwarders","_getIntegrationDelays","_setIntegrationDelay","createKitBlocker","workspaceToken","matched_identities","is_ephemeral","processPreloadedItem","dataPlanVersion","error_message","dataPlanResult","_BatchValidator","getMPInstance","getInstance","returnBatch","mParticle$1","_instances","log","sessionManager","mparticleInstance","WEBKEY","mpKey","mParticleConfig","mediaSession","MediaSession","logMediaSessionStart","logPlay","host","nav_base_class","nav_base_dropdown_class","personalise_class","background_colour","button_colour","customerid","mobile","user_profile","loginDisplay","btn","loggedInAs","innerText","dataset","mp_login","identityRequest","callback","mPcookies","propertyName","includes","find","marketing_consent","analytics_consent","personalise_banner","mp_logout","request_token","client_id","client_secret","audience","grant_type","mode","json","access_token","token_expiration","expires_in","request_user_profile","Headers","Authorization","gtag_report_conversion","gtag","uuidv4","fetch_o_xpath","parent_object","child_filter","attribute_name","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","getAttribute","dataLayer","hyperlink_events","targetNode","childList","subtree","characterData","attributes","mutationsList","observer","mutation","className","tagName","s_Category","o_subcategory_base","parentElement","ORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","o_links","snapshotItem","getElementsByTagName","evt","MutationObserver","observe","mp_init","toggleLogin","currentTarget","o_personalise_base","srcset","loginBtn","style","cssText","tmp","innerHTML","children","o_category_base","o_categories","worker","Worker","appboy","registerAppboyPushMessages","fire_campaignEvent","curr_location","decodeURI","a_match","a_utm_match","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","getElementById","stackTrace","getParents","modules","parents","dep","Function","deps","cached","cache","cb"],"mappings":"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AAS9wB,CAAT,EAAW;IAAC,OAAOT,CAAC,CAAC80C,WAAF,GAAgBvjB,YAAhB,CAA6B9wB,CAA7B,CAAP;EAAuC,CAAl1M,EAAm1M,KAAKuzC,YAAL,GAAkB,UAASvzC,CAAT,EAAW;IAACT,CAAC,CAAC80C,WAAF,GAAgBd,YAAhB,CAA6BvzC,CAA7B;EAAiC,CAAl5M,EAAm5M,KAAKwzC,oBAAL,GAA0B,YAAU;IAAC,OAAOj0C,CAAC,CAAC80C,WAAF,GAAgBb,oBAAhB,EAAP;EAA8C,CAAt+M;AAAw+M;;AAAA,IAAImB,iBAAiB,GAAC,IAAIJ,WAAJ,EAAtB;;AAAsC,eAAa,OAAO/0C,MAApB,KAA6BA,MAAM,CAACoH,SAAP,GAAiB+tC,iBAAjB,EAAmCn1C,MAAM,CAACoH,SAAP,CAAiButC,eAAjB,GAAiC,IAAIA,eAAJ,EAAjG;;;AC3nCrhN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACl2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACphCA;;AACA;;AACA;;;;;;+CAFA;;;;;;;;;;;;AAIA,IAAIS,MAAM,GAAG7Y,YAAY,CAAC8Y,KAAb,IAAsB,sCAAnC,EAEA;;AACA,IAAMC,eAAe,GAAG;EACpBpa,iBAAiB,EAAE,IADC;EAEpBI,QAAQ,EAAE;IACNC,MAAM,EAAE,OADF;IAENC,WAAW,EAAE;EAFP,CAFU;EAMpBhF,gBAAgB,EAAE,0BAAS71B,CAAT,EAAY;IAC1BA,CAAC,CAAC+wB,OAAF;EACH;AARmB,CAAxB,EAYA;;AACAtqB,eAAA,CAAUm8B,IAAV,CAAe,sCAAf,EAAuD+R,eAAvD;;AAEA,IAAMC,YAAY,GAAG,IAAIC,oBAAJ,CACjBpuC,eADiB,EACa;AAC9B,SAFiB,EAEa;AAC9B,0BAHiB,EAGa;AAC9B,MAJiB,EAIa;AAC9B,OALiB,EAKa;AAC9B,UANiB,EAMc;AAC/B,IAPiB,EAOa;AAC9B,IARiB,CAArB;AAWAmuC,YAAY,CAACE,oBAAb;AACAF,YAAY,CAACG,OAAb;AAEA,IAAIC,IAAI,GAAG,qBAAX;AAEA,IAAIC,cAAc,GAAG,iCAArB;AACA,IAAIC,uBAAuB,GAAG,0CAA9B;AACA,IAAIC,iBAAiB,GAAG,sCAAxB;AAEA,IAAIC,iBAAiB,GAAG,mBAAxB;AACA,IAAIC,aAAa,GAAG,SAApB;AAEA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","file":"www.treatwell.co.uk.demo.js","sourceRoot":"../../src/public","sourcesContent":["if (typeof globalThis !== 'undefined') {globalThis.regeneratorRuntime = undefined}\n\n// Base64 encoder/decoder - http://www.webtoolkit.info/javascript_base64.html\nvar Base64$2={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",// Input must be a string\nencode:function(a){try{if(window.btoa&&window.atob)return window.btoa(unescape(encodeURIComponent(a)))}catch(a){console.error(\"Error encoding cookie values into Base64:\"+a);}return this._encode(a)},_encode:function(a){var b,c,d,e,f,g,h,j=\"\",k=0;for(a=UTF8.encode(a);k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),j=j+Base64$2._keyStr.charAt(e)+Base64$2._keyStr.charAt(f)+Base64$2._keyStr.charAt(g)+Base64$2._keyStr.charAt(h);return j},decode:function(a){try{if(window.btoa&&window.atob)return decodeURIComponent(escape(window.atob(a)))}catch(a){//log(e);\n}return Base64$2._decode(a)},_decode:function(a){var b,c,d,e,f,g,h,j=\"\",k=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");k<a.length;)e=Base64$2._keyStr.indexOf(a.charAt(k++)),f=Base64$2._keyStr.indexOf(a.charAt(k++)),g=Base64$2._keyStr.indexOf(a.charAt(k++)),h=Base64$2._keyStr.indexOf(a.charAt(k++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,j+=String.fromCharCode(b),64!==g&&(j+=String.fromCharCode(c)),64!==h&&(j+=String.fromCharCode(d));return j=UTF8.decode(j),j}},UTF8={encode:function(a){for(var b,d=\"\",e=0;e<a.length;e++)b=a.charCodeAt(e),128>b?d+=String.fromCharCode(b):127<b&&2048>b?(d+=String.fromCharCode(192|b>>6),d+=String.fromCharCode(128|63&b)):(d+=String.fromCharCode(224|b>>12),d+=String.fromCharCode(128|63&b>>6),d+=String.fromCharCode(128|63&b));return d},decode:function(a){for(var b=\"\",d=0,e=0,f=0,g=0;d<a.length;)e=a.charCodeAt(d),128>e?(b+=String.fromCharCode(e),d++):191<e&&224>e?(f=a.charCodeAt(d+1),b+=String.fromCharCode((31&e)<<6|63&f),d+=2):(f=a.charCodeAt(d+1),g=a.charCodeAt(d+2),b+=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g),d+=3);return b}};var Polyfill = {// forEach polyfill\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nforEach:function forEach(a,b){var c,d;if(null==this)throw new TypeError(\" this is null or not defined\");var e=Object(this),f=e.length>>>0;if(\"function\"!=typeof a)throw new TypeError(a+\" is not a function\");for(1<arguments.length&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++;}},// map polyfill\n// Production steps of ECMA-262, Edition 5, 15.4.4.19\n// Reference: http://es5.github.io/#x15.4.4.19\nmap:function map(a,b){var c,d,e;if(null===this)throw new TypeError(\" this is null or not defined\");var f=Object(this),g=f.length>>>0;if(\"function\"!=typeof a)throw new TypeError(a+\" is not a function\");for(1<arguments.length&&(c=b),d=Array(g),e=0;e<g;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++;}return d},// filter polyfill\n// Prodcution steps of ECMA-262, Edition 5\n// Reference: http://es5.github.io/#x15.4.4.20\nfilter:function filter(a/*, thisArg*/){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(\"function\"!=typeof a)throw new TypeError;for(var d=[],e=2<=arguments.length?arguments[1]:void 0,f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g);}return d},// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\nisArray:function isArray(a){return \"[object Array]\"===Object.prototype.toString.call(a)},Base64:Base64$2};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _TriggerUploadType,MessageType$1={SessionStart:1,SessionEnd:2,PageView:3,PageEvent:4,CrashReport:5,OptOut:6,AppStateTransition:10,Profile:14,Commerce:16,Media:20,UserAttributeChange:17,UserIdentityChange:18},TriggerUploadType=(_TriggerUploadType={},_defineProperty(_TriggerUploadType,MessageType$1.Commerce,1),_defineProperty(_TriggerUploadType,MessageType$1.UserAttributeChange,1),_defineProperty(_TriggerUploadType,MessageType$1.UserIdentityChange,1),_TriggerUploadType),EventType={Unknown:0,Navigation:1,Location:2,Search:3,Transaction:4,UserContent:5,UserPreference:6,Social:7,Other:8,Media:9,getName:function getName(a){return a===EventType.Unknown?\"Unknown\":a===EventType.Navigation?\"Navigation\":a===EventType.Location?\"Location\":a===EventType.Search?\"Search\":a===EventType.Transaction?\"Transaction\":a===EventType.UserContent?\"User Content\":a===EventType.UserPreference?\"User Preference\":a===EventType.Social?\"Social\":a===CommerceEventType.ProductAddToCart?\"Product Added to Cart\":a===CommerceEventType.ProductAddToWishlist?\"Product Added to Wishlist\":a===CommerceEventType.ProductCheckout?\"Product Checkout\":a===CommerceEventType.ProductCheckoutOption?\"Product Checkout Options\":a===CommerceEventType.ProductClick?\"Product Click\":a===CommerceEventType.ProductImpression?\"Product Impression\":a===CommerceEventType.ProductPurchase?\"Product Purchased\":a===CommerceEventType.ProductRefund?\"Product Refunded\":a===CommerceEventType.ProductRemoveFromCart?\"Product Removed From Cart\":a===CommerceEventType.ProductRemoveFromWishlist?\"Product Removed from Wishlist\":a===CommerceEventType.ProductViewDetail?\"Product View Details\":a===CommerceEventType.PromotionClick?\"Promotion Click\":a===CommerceEventType.PromotionView?\"Promotion View\":\"Other\"}},CommerceEventType={ProductAddToCart:10,ProductRemoveFromCart:11,ProductCheckout:12,ProductCheckoutOption:13,ProductClick:14,ProductViewDetail:15,ProductPurchase:16,ProductRefund:17,PromotionView:18,PromotionClick:19,ProductAddToWishlist:20,ProductRemoveFromWishlist:21,ProductImpression:22},IdentityType={Other:0,CustomerId:1,Facebook:2,Twitter:3,Google:4,Microsoft:5,Yahoo:6,Email:7,FacebookCustomAudienceId:9,Other2:10,Other3:11,Other4:12,Other5:13,Other6:14,Other7:15,Other8:16,Other9:17,Other10:18,MobileNumber:19,PhoneNumber2:20,PhoneNumber3:21};IdentityType.isValid=function(a){if(\"number\"==typeof a)for(var b in IdentityType)if(IdentityType.hasOwnProperty(b)&&IdentityType[b]===a)return !0;return !1},IdentityType.getName=function(a){return a===window.mParticle.IdentityType.CustomerId?\"Customer ID\":a===window.mParticle.IdentityType.Facebook?\"Facebook ID\":a===window.mParticle.IdentityType.Twitter?\"Twitter ID\":a===window.mParticle.IdentityType.Google?\"Google ID\":a===window.mParticle.IdentityType.Microsoft?\"Microsoft ID\":a===window.mParticle.IdentityType.Yahoo?\"Yahoo ID\":a===window.mParticle.IdentityType.Email?\"Email\":a===window.mParticle.IdentityType.FacebookCustomAudienceId?\"Facebook App User ID\":\"Other ID\"},IdentityType.getIdentityType=function(a){return \"other\"===a?IdentityType.Other:\"customerid\"===a?IdentityType.CustomerId:\"facebook\"===a?IdentityType.Facebook:\"twitter\"===a?IdentityType.Twitter:\"google\"===a?IdentityType.Google:\"microsoft\"===a?IdentityType.Microsoft:\"yahoo\"===a?IdentityType.Yahoo:\"email\"===a?IdentityType.Email:\"facebookcustomaudienceid\"===a?IdentityType.FacebookCustomAudienceId:\"other2\"===a?IdentityType.Other2:\"other3\"===a?IdentityType.Other3:\"other4\"===a?IdentityType.Other4:\"other5\"===a?IdentityType.Other5:\"other6\"===a?IdentityType.Other6:\"other7\"===a?IdentityType.Other7:\"other8\"===a?IdentityType.Other8:\"other9\"===a?IdentityType.Other9:\"other10\"===a?IdentityType.Other10:\"mobile_number\"===a?IdentityType.MobileNumber:\"phone_number_2\"===a?IdentityType.PhoneNumber2:!(\"phone_number_3\"!=a)&&IdentityType.PhoneNumber3},IdentityType.getIdentityName=function(a){return a===IdentityType.Other?\"other\":a===IdentityType.CustomerId?\"customerid\":a===IdentityType.Facebook?\"facebook\":a===IdentityType.Twitter?\"twitter\":a===IdentityType.Google?\"google\":a===IdentityType.Microsoft?\"microsoft\":a===IdentityType.Yahoo?\"yahoo\":a===IdentityType.Email?\"email\":a===IdentityType.FacebookCustomAudienceId?\"facebookcustomaudienceid\":a===IdentityType.Other2?\"other2\":a===IdentityType.Other3?\"other3\":a===IdentityType.Other4?\"other4\":a===IdentityType.Other5?\"other5\":a===IdentityType.Other6?\"other6\":a===IdentityType.Other7?\"other7\":a===IdentityType.Other8?\"other8\":a===IdentityType.Other9?\"other9\":a===IdentityType.Other10?\"other10\":a===IdentityType.MobileNumber?\"mobile_number\":a===IdentityType.PhoneNumber2?\"phone_number_2\":a===IdentityType.PhoneNumber3?\"phone_number_3\":void 0};var ProductActionType={Unknown:0,AddToCart:1,RemoveFromCart:2,Checkout:3,CheckoutOption:4,Click:5,ViewDetail:6,Purchase:7,Refund:8,AddToWishlist:9,RemoveFromWishlist:10};ProductActionType.getName=function(a){return a===ProductActionType.AddToCart?\"Add to Cart\":a===ProductActionType.RemoveFromCart?\"Remove from Cart\":a===ProductActionType.Checkout?\"Checkout\":a===ProductActionType.CheckoutOption?\"Checkout Option\":a===ProductActionType.Click?\"Click\":a===ProductActionType.ViewDetail?\"View Detail\":a===ProductActionType.Purchase?\"Purchase\":a===ProductActionType.Refund?\"Refund\":a===ProductActionType.AddToWishlist?\"Add to Wishlist\":a===ProductActionType.RemoveFromWishlist?\"Remove from Wishlist\":\"Unknown\"},ProductActionType.getExpansionName=function(a){return a===ProductActionType.AddToCart?\"add_to_cart\":a===ProductActionType.RemoveFromCart?\"remove_from_cart\":a===ProductActionType.Checkout?\"checkout\":a===ProductActionType.CheckoutOption?\"checkout_option\":a===ProductActionType.Click?\"click\":a===ProductActionType.ViewDetail?\"view_detail\":a===ProductActionType.Purchase?\"purchase\":a===ProductActionType.Refund?\"refund\":a===ProductActionType.AddToWishlist?\"add_to_wishlist\":a===ProductActionType.RemoveFromWishlist?\"remove_from_wishlist\":\"unknown\"};var PromotionActionType={Unknown:0,PromotionView:1,PromotionClick:2};PromotionActionType.getName=function(a){return a===PromotionActionType.PromotionView?\"view\":a===PromotionActionType.PromotionClick?\"click\":\"unknown\"},PromotionActionType.getExpansionName=function(a){return a===PromotionActionType.PromotionView?\"view\":a===PromotionActionType.PromotionClick?\"click\":\"unknown\"};var ProfileMessageType={Logout:3},ApplicationTransitionType$1={AppInit:1};var Types = {MessageType:MessageType$1,EventType:EventType,CommerceEventType:CommerceEventType,IdentityType:IdentityType,ProfileMessageType:ProfileMessageType,ApplicationTransitionType:ApplicationTransitionType$1,ProductActionType:ProductActionType,PromotionActionType:PromotionActionType,TriggerUploadType:TriggerUploadType};\n\nvar version = \"2.16.3\";\n\nvar Constants={sdkVersion:version,sdkVendor:\"mparticle\",platform:\"web\",Messages:{ErrorMessages:{NoToken:\"A token must be specified.\",EventNameInvalidType:\"Event name must be a valid string value.\",EventDataInvalidType:\"Event data must be a valid object hash.\",LoggingDisabled:\"Event logging is currently disabled.\",CookieParseError:\"Could not parse cookie\",EventEmpty:\"Event object is null or undefined, cancelling send\",APIRequestEmpty:\"APIRequest is null or undefined, cancelling send\",NoEventType:\"Event type must be specified.\",TransactionIdRequired:\"Transaction ID is required\",TransactionRequired:\"A transaction attributes object is required\",PromotionIdRequired:\"Promotion ID is required\",BadAttribute:\"Attribute value cannot be object or array\",BadKey:\"Key value cannot be object or array\",BadLogPurchase:\"Transaction attributes and a product are both required to log a purchase, https://docs.mparticle.com/?javascript#measuring-transactions\"},InformationMessages:{CookieSearch:\"Searching for cookie\",CookieFound:\"Cookie found, parsing values\",CookieNotFound:\"Cookies not found\",CookieSet:\"Setting cookie\",CookieSync:\"Performing cookie sync\",SendBegin:\"Starting to send event\",SendIdentityBegin:\"Starting to send event to identity server\",SendWindowsPhone:\"Sending event to Windows Phone container\",SendIOS:\"Calling iOS path: \",SendAndroid:\"Calling Android JS interface method: \",SendHttp:\"Sending event to mParticle HTTP service\",SendAliasHttp:\"Sending alias request to mParticle HTTP service\",SendIdentityHttp:\"Sending event to mParticle HTTP service\",StartingNewSession:\"Starting new Session\",StartingLogEvent:\"Starting to log event\",StartingLogOptOut:\"Starting to log user opt in/out\",StartingEndSession:\"Starting to end session\",StartingInitialization:\"Starting to initialize\",StartingLogCommerceEvent:\"Starting to log commerce event\",StartingAliasRequest:\"Starting to Alias MPIDs\",LoadingConfig:\"Loading configuration options\",AbandonLogEvent:\"Cannot log event, logging disabled or developer token not set\",AbandonAliasUsers:\"Cannot Alias Users, logging disabled or developer token not set\",AbandonStartSession:\"Cannot start session, logging disabled or developer token not set\",AbandonEndSession:\"Cannot end session, logging disabled or developer token not set\",NoSessionToEnd:\"Cannot end session, no active session found\"},ValidationMessages:{ModifyIdentityRequestUserIdentitiesPresent:\"identityRequests to modify require userIdentities to be present. Request not sent to server. Please fix and try again\",IdentityRequesetInvalidKey:\"There is an invalid key on your identityRequest object. It can only contain a `userIdentities` object and a `onUserAlias` function. Request not sent to server. Please fix and try again.\",OnUserAliasType:\"The onUserAlias value must be a function.\",UserIdentities:\"The userIdentities key must be an object with keys of identityTypes and values of strings. Request not sent to server. Please fix and try again.\",UserIdentitiesInvalidKey:\"There is an invalid identity key on your `userIdentities` object within the identityRequest. Request not sent to server. Please fix and try again.\",UserIdentitiesInvalidValues:\"All user identity values must be strings or null. Request not sent to server. Please fix and try again.\",AliasMissingMpid:\"Alias Request must contain both a destinationMpid and a sourceMpid\",AliasNonUniqueMpid:\"Alias Request's destinationMpid and sourceMpid must be unique\",AliasMissingTime:\"Alias Request must have both a startTime and an endTime\",AliasStartBeforeEndTime:\"Alias Request's endTime must be later than its startTime\"}},NativeSdkPaths:{LogEvent:\"logEvent\",SetUserTag:\"setUserTag\",RemoveUserTag:\"removeUserTag\",SetUserAttribute:\"setUserAttribute\",RemoveUserAttribute:\"removeUserAttribute\",SetSessionAttribute:\"setSessionAttribute\",AddToCart:\"addToCart\",RemoveFromCart:\"removeFromCart\",ClearCart:\"clearCart\",LogOut:\"logOut\",SetUserAttributeList:\"setUserAttributeList\",RemoveAllUserAttributes:\"removeAllUserAttributes\",GetUserAttributesLists:\"getUserAttributesLists\",GetAllUserAttributes:\"getAllUserAttributes\",Identify:\"identify\",Logout:\"logout\",Login:\"login\",Modify:\"modify\",Alias:\"aliasUsers\",Upload:\"upload\"},StorageNames:{localStorageName:\"mprtcl-api\",localStorageNameV3:\"mprtcl-v3\",cookieName:\"mprtcl-api\",cookieNameV2:\"mprtcl-v2\",cookieNameV3:\"mprtcl-v3\",localStorageNameV4:\"mprtcl-v4\",localStorageProductsV4:\"mprtcl-prodv4\",cookieNameV4:\"mprtcl-v4\",currentStorageName:\"mprtcl-v4\",currentStorageProductsName:\"mprtcl-prodv4\"},DefaultConfig:{cookieDomain:null,cookieExpiration:365,logLevel:null,timeout:300,sessionTimeout:30,maxProducts:20,forwarderStatsTimeout:5e3,integrationDelayTimeout:5e3,maxCookieSize:3e3,aliasMaxWindow:90,uploadInterval:0// Maximum milliseconds in between batch uploads, below 500 will mean immediate upload\n},DefaultUrls:{v1SecureServiceUrl:\"jssdks.mparticle.com/v1/JS/\",v2SecureServiceUrl:\"jssdks.mparticle.com/v2/JS/\",v3SecureServiceUrl:\"jssdks.mparticle.com/v3/JS/\",configUrl:\"jssdkcdns.mparticle.com/JS/v2/\",identityUrl:\"identity.mparticle.com/v1/\",aliasUrl:\"jssdks.mparticle.com/v1/identity/\"},Base64CookieKeys:{csm:1,sa:1,ss:1,ua:1,ui:1,csd:1,ia:1,con:1},SDKv2NonMPIDCookieKeys:{gs:1,cu:1,l:1,globalSettings:1,currentUserMPID:1},HTTPCodes:{noHttpCoverage:-1,activeIdentityRequest:-2,activeSession:-3,validationIssue:-4,nativeIdentityRequest:-5,loggingDisabledOrMissingAPIKey:-6,tooManyRequests:429},FeatureFlags:{ReportBatching:\"reportBatching\",EventsV3:\"eventsV3\",EventBatchingIntervalMillis:\"eventBatchingIntervalMillis\"},DefaultInstance:\"default_instance\"};\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar SDKProductActionType;(function(a){a[a.Unknown=0]=\"Unknown\",a[a.AddToCart=1]=\"AddToCart\",a[a.RemoveFromCart=2]=\"RemoveFromCart\",a[a.Checkout=3]=\"Checkout\",a[a.CheckoutOption=4]=\"CheckoutOption\",a[a.Click=5]=\"Click\",a[a.ViewDetail=6]=\"ViewDetail\",a[a.Purchase=7]=\"Purchase\",a[a.Refund=8]=\"Refund\",a[a.AddToWishlist=9]=\"AddToWishlist\",a[a.RemoveFromWishlist=10]=\"RemoveFromWishlist\";})(SDKProductActionType||(SDKProductActionType={}));var SDKIdentityTypeEnum;(function(a){a.other=\"other\",a.customerId=\"customerid\",a.facebook=\"facebook\",a.twitter=\"twitter\",a.google=\"google\",a.microsoft=\"microsoft\",a.yahoo=\"yahoo\",a.email=\"email\",a.alias=\"alias\",a.facebookCustomAudienceId=\"facebookcustomaudienceid\",a.otherId2=\"other2\",a.otherId3=\"other3\",a.otherId4=\"other4\",a.otherId5=\"other5\",a.otherId6=\"other6\",a.otherId7=\"other7\",a.otherId8=\"other8\",a.otherId9=\"other9\",a.otherId10=\"other10\",a.mobileNumber=\"mobile_number\",a.phoneNumber2=\"phone_number_2\",a.phoneNumber3=\"phone_number_3\";})(SDKIdentityTypeEnum||(SDKIdentityTypeEnum={}));\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar dist = {};\n\n(function (exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t(function (ApplicationInformationOsEnum) {\n\t    ApplicationInformationOsEnum[\"unknown\"] = \"Unknown\";\n\t    ApplicationInformationOsEnum[\"iOS\"] = \"IOS\";\n\t    ApplicationInformationOsEnum[\"android\"] = \"Android\";\n\t    ApplicationInformationOsEnum[\"windowsPhone\"] = \"WindowsPhone\";\n\t    ApplicationInformationOsEnum[\"mobileWeb\"] = \"MobileWeb\";\n\t    ApplicationInformationOsEnum[\"unityIOS\"] = \"UnityIOS\";\n\t    ApplicationInformationOsEnum[\"unityAndroid\"] = \"UnityAndroid\";\n\t    ApplicationInformationOsEnum[\"desktop\"] = \"Desktop\";\n\t    ApplicationInformationOsEnum[\"tvOS\"] = \"TVOS\";\n\t    ApplicationInformationOsEnum[\"roku\"] = \"Roku\";\n\t    ApplicationInformationOsEnum[\"outOfBand\"] = \"OutOfBand\";\n\t    ApplicationInformationOsEnum[\"alexa\"] = \"Alexa\";\n\t    ApplicationInformationOsEnum[\"smartTV\"] = \"SmartTV\";\n\t    ApplicationInformationOsEnum[\"fireTV\"] = \"FireTV\";\n\t    ApplicationInformationOsEnum[\"xbox\"] = \"Xbox\";\n\t})(exports.ApplicationInformationOsEnum || (exports.ApplicationInformationOsEnum = {}));\n\t(function (ApplicationStateTransitionEventEventTypeEnum) {\n\t    ApplicationStateTransitionEventEventTypeEnum[\"applicationStateTransition\"] = \"application_state_transition\";\n\t})(exports.ApplicationStateTransitionEventEventTypeEnum || (exports.ApplicationStateTransitionEventEventTypeEnum = {}));\n\t(function (ApplicationStateTransitionEventDataApplicationTransitionTypeEnum) {\n\t    ApplicationStateTransitionEventDataApplicationTransitionTypeEnum[\"applicationInitialized\"] = \"application_initialized\";\n\t    ApplicationStateTransitionEventDataApplicationTransitionTypeEnum[\"applicationExit\"] = \"application_exit\";\n\t    ApplicationStateTransitionEventDataApplicationTransitionTypeEnum[\"applicationBackground\"] = \"application_background\";\n\t    ApplicationStateTransitionEventDataApplicationTransitionTypeEnum[\"applicationForeground\"] = \"application_foreground\";\n\t})(exports.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum || (exports.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum = {}));\n\t(function (BatchEnvironmentEnum) {\n\t    BatchEnvironmentEnum[\"unknown\"] = \"unknown\";\n\t    BatchEnvironmentEnum[\"development\"] = \"development\";\n\t    BatchEnvironmentEnum[\"production\"] = \"production\";\n\t})(exports.BatchEnvironmentEnum || (exports.BatchEnvironmentEnum = {}));\n\t(function (BreadcrumbEventEventTypeEnum) {\n\t    BreadcrumbEventEventTypeEnum[\"breadcrumb\"] = \"breadcrumb\";\n\t})(exports.BreadcrumbEventEventTypeEnum || (exports.BreadcrumbEventEventTypeEnum = {}));\n\t(function (CommerceEventEventTypeEnum) {\n\t    CommerceEventEventTypeEnum[\"commerceEvent\"] = \"commerce_event\";\n\t})(exports.CommerceEventEventTypeEnum || (exports.CommerceEventEventTypeEnum = {}));\n\t(function (CommerceEventDataCustomEventTypeEnum) {\n\t    CommerceEventDataCustomEventTypeEnum[\"addToCart\"] = \"add_to_cart\";\n\t    CommerceEventDataCustomEventTypeEnum[\"removeFromCart\"] = \"remove_from_cart\";\n\t    CommerceEventDataCustomEventTypeEnum[\"checkout\"] = \"checkout\";\n\t    CommerceEventDataCustomEventTypeEnum[\"checkoutOption\"] = \"checkout_option\";\n\t    CommerceEventDataCustomEventTypeEnum[\"click\"] = \"click\";\n\t    CommerceEventDataCustomEventTypeEnum[\"viewDetail\"] = \"view_detail\";\n\t    CommerceEventDataCustomEventTypeEnum[\"purchase\"] = \"purchase\";\n\t    CommerceEventDataCustomEventTypeEnum[\"refund\"] = \"refund\";\n\t    CommerceEventDataCustomEventTypeEnum[\"promotionView\"] = \"promotion_view\";\n\t    CommerceEventDataCustomEventTypeEnum[\"promotionClick\"] = \"promotion_click\";\n\t    CommerceEventDataCustomEventTypeEnum[\"addToWishlist\"] = \"add_to_wishlist\";\n\t    CommerceEventDataCustomEventTypeEnum[\"removeFromWishlist\"] = \"remove_from_wishlist\";\n\t    CommerceEventDataCustomEventTypeEnum[\"impression\"] = \"impression\";\n\t})(exports.CommerceEventDataCustomEventTypeEnum || (exports.CommerceEventDataCustomEventTypeEnum = {}));\n\t(function (CrashReportEventEventTypeEnum) {\n\t    CrashReportEventEventTypeEnum[\"crashReport\"] = \"crash_report\";\n\t})(exports.CrashReportEventEventTypeEnum || (exports.CrashReportEventEventTypeEnum = {}));\n\t(function (CustomEventEventTypeEnum) {\n\t    CustomEventEventTypeEnum[\"customEvent\"] = \"custom_event\";\n\t})(exports.CustomEventEventTypeEnum || (exports.CustomEventEventTypeEnum = {}));\n\t(function (CustomEventDataCustomEventTypeEnum) {\n\t    CustomEventDataCustomEventTypeEnum[\"navigation\"] = \"navigation\";\n\t    CustomEventDataCustomEventTypeEnum[\"location\"] = \"location\";\n\t    CustomEventDataCustomEventTypeEnum[\"search\"] = \"search\";\n\t    CustomEventDataCustomEventTypeEnum[\"transaction\"] = \"transaction\";\n\t    CustomEventDataCustomEventTypeEnum[\"userContent\"] = \"user_content\";\n\t    CustomEventDataCustomEventTypeEnum[\"userPreference\"] = \"user_preference\";\n\t    CustomEventDataCustomEventTypeEnum[\"social\"] = \"social\";\n\t    CustomEventDataCustomEventTypeEnum[\"media\"] = \"media\";\n\t    CustomEventDataCustomEventTypeEnum[\"other\"] = \"other\";\n\t    CustomEventDataCustomEventTypeEnum[\"unknown\"] = \"unknown\";\n\t})(exports.CustomEventDataCustomEventTypeEnum || (exports.CustomEventDataCustomEventTypeEnum = {}));\n\t(function (DeviceCurrentStateDeviceOrientationEnum) {\n\t    DeviceCurrentStateDeviceOrientationEnum[\"portrait\"] = \"portrait\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"portraitUpsideDown\"] = \"portrait_upside_down\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"landscape\"] = \"landscape\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"landscapeLeft\"] = \"LandscapeLeft\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"landscapeRight\"] = \"LandscapeRight\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"faceUp\"] = \"FaceUp\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"faceDown\"] = \"FaceDown\";\n\t    DeviceCurrentStateDeviceOrientationEnum[\"square\"] = \"Square\";\n\t})(exports.DeviceCurrentStateDeviceOrientationEnum || (exports.DeviceCurrentStateDeviceOrientationEnum = {}));\n\t(function (DeviceCurrentStateStatusBarOrientationEnum) {\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"portrait\"] = \"portrait\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"portraitUpsideDown\"] = \"portrait_upside_down\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"landscape\"] = \"landscape\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"landscapeLeft\"] = \"LandscapeLeft\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"landscapeRight\"] = \"LandscapeRight\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"faceUp\"] = \"FaceUp\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"faceDown\"] = \"FaceDown\";\n\t    DeviceCurrentStateStatusBarOrientationEnum[\"square\"] = \"Square\";\n\t})(exports.DeviceCurrentStateStatusBarOrientationEnum || (exports.DeviceCurrentStateStatusBarOrientationEnum = {}));\n\t(function (DeviceInformationPlatformEnum) {\n\t    DeviceInformationPlatformEnum[\"iOS\"] = \"iOS\";\n\t    DeviceInformationPlatformEnum[\"android\"] = \"Android\";\n\t    DeviceInformationPlatformEnum[\"web\"] = \"web\";\n\t    DeviceInformationPlatformEnum[\"desktop\"] = \"desktop\";\n\t    DeviceInformationPlatformEnum[\"tvOS\"] = \"tvOS\";\n\t    DeviceInformationPlatformEnum[\"roku\"] = \"roku\";\n\t    DeviceInformationPlatformEnum[\"outOfBand\"] = \"out_of_band\";\n\t    DeviceInformationPlatformEnum[\"smartTV\"] = \"smart_tv\";\n\t    DeviceInformationPlatformEnum[\"xbox\"] = \"xbox\";\n\t})(exports.DeviceInformationPlatformEnum || (exports.DeviceInformationPlatformEnum = {}));\n\t(function (EventTypeEnum) {\n\t    EventTypeEnum[\"unknown\"] = \"unknown\";\n\t    EventTypeEnum[\"sessionStart\"] = \"session_start\";\n\t    EventTypeEnum[\"sessionEnd\"] = \"session_end\";\n\t    EventTypeEnum[\"screenView\"] = \"screen_view\";\n\t    EventTypeEnum[\"customEvent\"] = \"custom_event\";\n\t    EventTypeEnum[\"crashReport\"] = \"crash_report\";\n\t    EventTypeEnum[\"optOut\"] = \"opt_out\";\n\t    EventTypeEnum[\"firstRun\"] = \"first_run\";\n\t    EventTypeEnum[\"preAttribution\"] = \"pre_attribution\";\n\t    EventTypeEnum[\"pushRegistration\"] = \"push_registration\";\n\t    EventTypeEnum[\"applicationStateTransition\"] = \"application_state_transition\";\n\t    EventTypeEnum[\"pushMessage\"] = \"push_message\";\n\t    EventTypeEnum[\"networkPerformance\"] = \"network_performance\";\n\t    EventTypeEnum[\"breadcrumb\"] = \"breadcrumb\";\n\t    EventTypeEnum[\"profile\"] = \"profile\";\n\t    EventTypeEnum[\"pushReaction\"] = \"push_reaction\";\n\t    EventTypeEnum[\"commerceEvent\"] = \"commerce_event\";\n\t    EventTypeEnum[\"userAttributeChange\"] = \"user_attribute_change\";\n\t    EventTypeEnum[\"userIdentityChange\"] = \"user_identity_change\";\n\t    EventTypeEnum[\"uninstall\"] = \"uninstall\";\n\t    EventTypeEnum[\"validationResult\"] = \"validation_result\";\n\t})(exports.EventTypeEnum || (exports.EventTypeEnum = {}));\n\t(function (IdentityTypeEnum) {\n\t    IdentityTypeEnum[\"other\"] = \"other\";\n\t    IdentityTypeEnum[\"customerId\"] = \"customer_id\";\n\t    IdentityTypeEnum[\"facebook\"] = \"facebook\";\n\t    IdentityTypeEnum[\"twitter\"] = \"twitter\";\n\t    IdentityTypeEnum[\"google\"] = \"google\";\n\t    IdentityTypeEnum[\"microsoft\"] = \"microsoft\";\n\t    IdentityTypeEnum[\"yahoo\"] = \"yahoo\";\n\t    IdentityTypeEnum[\"email\"] = \"email\";\n\t    IdentityTypeEnum[\"alias\"] = \"alias\";\n\t    IdentityTypeEnum[\"facebookCustomAudienceId\"] = \"facebook_custom_audience_id\";\n\t    IdentityTypeEnum[\"otherId2\"] = \"other_id_2\";\n\t    IdentityTypeEnum[\"otherId3\"] = \"other_id_3\";\n\t    IdentityTypeEnum[\"otherId4\"] = \"other_id_4\";\n\t    IdentityTypeEnum[\"otherId5\"] = \"other_id_5\";\n\t    IdentityTypeEnum[\"otherId6\"] = \"other_id_6\";\n\t    IdentityTypeEnum[\"otherId7\"] = \"other_id_7\";\n\t    IdentityTypeEnum[\"otherId8\"] = \"other_id_8\";\n\t    IdentityTypeEnum[\"otherId9\"] = \"other_id_9\";\n\t    IdentityTypeEnum[\"otherId10\"] = \"other_id_10\";\n\t    IdentityTypeEnum[\"mobileNumber\"] = \"mobile_number\";\n\t    IdentityTypeEnum[\"phoneNumber2\"] = \"phone_number_2\";\n\t    IdentityTypeEnum[\"phoneNumber3\"] = \"phone_number_3\";\n\t})(exports.IdentityTypeEnum || (exports.IdentityTypeEnum = {}));\n\t(function (NetworkPerformanceEventEventTypeEnum) {\n\t    NetworkPerformanceEventEventTypeEnum[\"networkPerformance\"] = \"network_performance\";\n\t})(exports.NetworkPerformanceEventEventTypeEnum || (exports.NetworkPerformanceEventEventTypeEnum = {}));\n\t(function (OptOutEventEnum) {\n\t    OptOutEventEnum[\"optOut\"] = \"opt_out\";\n\t})(exports.OptOutEventEnum || (exports.OptOutEventEnum = {}));\n\t(function (ProductActionActionEnum) {\n\t    ProductActionActionEnum[\"unknown\"] = \"unknown\";\n\t    ProductActionActionEnum[\"addToCart\"] = \"add_to_cart\";\n\t    ProductActionActionEnum[\"removeFromCart\"] = \"remove_from_cart\";\n\t    ProductActionActionEnum[\"checkout\"] = \"checkout\";\n\t    ProductActionActionEnum[\"checkoutOption\"] = \"checkout_option\";\n\t    ProductActionActionEnum[\"click\"] = \"click\";\n\t    ProductActionActionEnum[\"viewDetail\"] = \"view_detail\";\n\t    ProductActionActionEnum[\"purchase\"] = \"purchase\";\n\t    ProductActionActionEnum[\"refund\"] = \"refund\";\n\t    ProductActionActionEnum[\"addToWishlist\"] = \"add_to_wishlist\";\n\t    ProductActionActionEnum[\"removeFromWishlist\"] = \"remove_from_wish_list\";\n\t})(exports.ProductActionActionEnum || (exports.ProductActionActionEnum = {}));\n\t(function (ProfileEventEventTypeEnum) {\n\t    ProfileEventEventTypeEnum[\"profile\"] = \"profile\";\n\t})(exports.ProfileEventEventTypeEnum || (exports.ProfileEventEventTypeEnum = {}));\n\t(function (ProfileEventDataProfileEventTypeEnum) {\n\t    ProfileEventDataProfileEventTypeEnum[\"signup\"] = \"signup\";\n\t    ProfileEventDataProfileEventTypeEnum[\"login\"] = \"login\";\n\t    ProfileEventDataProfileEventTypeEnum[\"logout\"] = \"logout\";\n\t    ProfileEventDataProfileEventTypeEnum[\"update\"] = \"update\";\n\t    ProfileEventDataProfileEventTypeEnum[\"delete\"] = \"delete\";\n\t})(exports.ProfileEventDataProfileEventTypeEnum || (exports.ProfileEventDataProfileEventTypeEnum = {}));\n\t(function (PromotionActionActionEnum) {\n\t    PromotionActionActionEnum[\"view\"] = \"view\";\n\t    PromotionActionActionEnum[\"click\"] = \"click\";\n\t})(exports.PromotionActionActionEnum || (exports.PromotionActionActionEnum = {}));\n\t(function (PushMessageEventEventTypeEnum) {\n\t    PushMessageEventEventTypeEnum[\"pushMessage\"] = \"push_message\";\n\t})(exports.PushMessageEventEventTypeEnum || (exports.PushMessageEventEventTypeEnum = {}));\n\t(function (PushMessageEventDataPushMessageTypeEnum) {\n\t    PushMessageEventDataPushMessageTypeEnum[\"sent\"] = \"sent\";\n\t    PushMessageEventDataPushMessageTypeEnum[\"received\"] = \"received\";\n\t    PushMessageEventDataPushMessageTypeEnum[\"action\"] = \"action\";\n\t})(exports.PushMessageEventDataPushMessageTypeEnum || (exports.PushMessageEventDataPushMessageTypeEnum = {}));\n\t(function (PushMessageEventDataApplicationStateEnum) {\n\t    PushMessageEventDataApplicationStateEnum[\"notRunning\"] = \"not_running\";\n\t    PushMessageEventDataApplicationStateEnum[\"background\"] = \"background\";\n\t    PushMessageEventDataApplicationStateEnum[\"foreground\"] = \"foreground\";\n\t})(exports.PushMessageEventDataApplicationStateEnum || (exports.PushMessageEventDataApplicationStateEnum = {}));\n\t(function (PushMessageEventDataPushMessageBehaviorEnum) {\n\t    PushMessageEventDataPushMessageBehaviorEnum[\"received\"] = \"Received\";\n\t    PushMessageEventDataPushMessageBehaviorEnum[\"directOpen\"] = \"DirectOpen\";\n\t    PushMessageEventDataPushMessageBehaviorEnum[\"read\"] = \"Read\";\n\t    PushMessageEventDataPushMessageBehaviorEnum[\"influencedOpen\"] = \"InfluencedOpen\";\n\t    PushMessageEventDataPushMessageBehaviorEnum[\"displayed\"] = \"Displayed\";\n\t})(exports.PushMessageEventDataPushMessageBehaviorEnum || (exports.PushMessageEventDataPushMessageBehaviorEnum = {}));\n\t(function (PushRegistrationEventEventTypeEnum) {\n\t    PushRegistrationEventEventTypeEnum[\"pushRegistration\"] = \"push_registration\";\n\t})(exports.PushRegistrationEventEventTypeEnum || (exports.PushRegistrationEventEventTypeEnum = {}));\n\t(function (SessionEndEventEventTypeEnum) {\n\t    SessionEndEventEventTypeEnum[\"sessionEnd\"] = \"session_end\";\n\t})(exports.SessionEndEventEventTypeEnum || (exports.SessionEndEventEventTypeEnum = {}));\n\t(function (SessionStartEventEventTypeEnum) {\n\t    SessionStartEventEventTypeEnum[\"sessionStart\"] = \"session_start\";\n\t})(exports.SessionStartEventEventTypeEnum || (exports.SessionStartEventEventTypeEnum = {}));\n\t(function (SourceInformationChannelEnum) {\n\t    SourceInformationChannelEnum[\"native\"] = \"native\";\n\t    SourceInformationChannelEnum[\"javascript\"] = \"javascript\";\n\t    SourceInformationChannelEnum[\"pixel\"] = \"pixel\";\n\t    SourceInformationChannelEnum[\"desktop\"] = \"desktop\";\n\t    SourceInformationChannelEnum[\"partner\"] = \"partner\";\n\t    SourceInformationChannelEnum[\"serverToServer\"] = \"server_to_server\";\n\t})(exports.SourceInformationChannelEnum || (exports.SourceInformationChannelEnum = {}));\n\t(function (UserAttributeChangeEventEventTypeEnum) {\n\t    UserAttributeChangeEventEventTypeEnum[\"userAttributeChange\"] = \"user_attribute_change\";\n\t})(exports.UserAttributeChangeEventEventTypeEnum || (exports.UserAttributeChangeEventEventTypeEnum = {}));\n\t(function (UserIdentityChangeEventEventTypeEnum) {\n\t    UserIdentityChangeEventEventTypeEnum[\"userIdentityChange\"] = \"user_identity_change\";\n\t})(exports.UserIdentityChangeEventEventTypeEnum || (exports.UserIdentityChangeEventEventTypeEnum = {}));\n} (dist));\n\nfunction convertEvents(a,b,c){if(!a)return null;if(!b||1>b.length)return null;for(var d,e=[],f=null,g=0,h=b;g<h.length;g++)if(d=h[g],d){f=d;var i=convertEvent(d);i&&e.push(i);}if(!f)return null;var j={source_request_id:c._Helpers.generateUniqueId(),mpid:a,timestamp_unixtime_ms:new Date().getTime(),environment:f.Debug?dist.BatchEnvironmentEnum.development:dist.BatchEnvironmentEnum.production,events:e,mp_deviceid:f.DeviceId,sdk_version:f.SDKVersion,application_info:{application_version:f.AppVersion,application_name:f.AppName,package:f.Package},device_info:{platform:dist.DeviceInformationPlatformEnum.web,screen_width:window.screen.width,screen_height:window.screen.height},user_attributes:f.UserAttributes,user_identities:convertUserIdentities(f.UserIdentities),consent_state:convertConsentState(f.ConsentState),integration_attributes:f.IntegrationAttributes};return f.DataPlan&&f.DataPlan.PlanId&&(j.context={data_plan:{plan_id:f.DataPlan.PlanId,plan_version:f.DataPlan.PlanVersion||void 0}}),j}function convertConsentState(a){if(!a)return null;var b={gdpr:convertGdprConsentState(a.getGDPRConsentState()),ccpa:convertCcpaConsentState(a.getCCPAConsentState())};return b}function convertGdprConsentState(a){if(!a)return null;var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]={consented:a[c].Consented,hardware_id:a[c].HardwareId,document:a[c].ConsentDocument,timestamp_unixtime_ms:a[c].Timestamp,location:a[c].Location});return b}function convertCcpaConsentState(a){if(!a)return null;var b={data_sale_opt_out:{consented:a.Consented,hardware_id:a.HardwareId,document:a.ConsentDocument,timestamp_unixtime_ms:a.Timestamp,location:a.Location}};return b}function convertUserIdentities(a){if(!a||!a.length)return null;for(var b,c={},d=0,e=a;d<e.length;d++)switch(b=e[d],b.Type){case Types.IdentityType.CustomerId:c.customer_id=b.Identity;break;case Types.IdentityType.Email:c.email=b.Identity;break;case Types.IdentityType.Facebook:c.facebook=b.Identity;break;case Types.IdentityType.FacebookCustomAudienceId:c.facebook_custom_audience_id=b.Identity;break;case Types.IdentityType.Google:c.google=b.Identity;break;case Types.IdentityType.Microsoft:c.microsoft=b.Identity;break;case Types.IdentityType.Other:c.other=b.Identity;break;case Types.IdentityType.Other2:c.other_id_2=b.Identity;break;case Types.IdentityType.Other3:c.other_id_3=b.Identity;break;case Types.IdentityType.Other4:c.other_id_4=b.Identity;break;case Types.IdentityType.Other5:c.other_id_5=b.Identity;break;case Types.IdentityType.Other6:c.other_id_6=b.Identity;break;case Types.IdentityType.Other7:c.other_id_7=b.Identity;break;case Types.IdentityType.Other8:c.other_id_8=b.Identity;break;case Types.IdentityType.Other9:c.other_id_9=b.Identity;break;case Types.IdentityType.Other10:c.other_id_10=b.Identity;break;case Types.IdentityType.MobileNumber:c.mobile_number=b.Identity;break;case Types.IdentityType.PhoneNumber2:c.phone_number_2=b.Identity;break;case Types.IdentityType.PhoneNumber3:c.phone_number_3=b.Identity;break;}return c}function convertEvent(a){if(!a)return null;switch(a.EventDataType){case Types.MessageType.AppStateTransition:return convertAST(a);case Types.MessageType.Commerce:return convertCommerceEvent(a);case Types.MessageType.CrashReport:return convertCrashReportEvent(a);case Types.MessageType.OptOut:return convertOptOutEvent(a);case Types.MessageType.PageEvent:// Note: Media Events are also sent as PageEvents/CustomEvents\nreturn convertCustomEvent(a);case Types.MessageType.PageView:return convertPageViewEvent(a);case Types.MessageType.Profile://deprecated and not supported by the web SDK\nreturn null;case Types.MessageType.SessionEnd:return convertSessionEndEvent(a);case Types.MessageType.SessionStart:return convertSessionStartEvent(a);case Types.MessageType.UserAttributeChange:return convertUserAttributeChangeEvent(a);case Types.MessageType.UserIdentityChange:return convertUserIdentityChangeEvent(a);}return null}function convertProductActionType(a){if(!a)return dist.ProductActionActionEnum.unknown;return a===SDKProductActionType.AddToCart?dist.ProductActionActionEnum.addToCart:a===SDKProductActionType.AddToWishlist?dist.ProductActionActionEnum.addToWishlist:a===SDKProductActionType.Checkout?dist.ProductActionActionEnum.checkout:a===SDKProductActionType.CheckoutOption?dist.ProductActionActionEnum.checkoutOption:a===SDKProductActionType.Click?dist.ProductActionActionEnum.click:a===SDKProductActionType.Purchase?dist.ProductActionActionEnum.purchase:a===SDKProductActionType.Refund?dist.ProductActionActionEnum.refund:a===SDKProductActionType.RemoveFromCart?dist.ProductActionActionEnum.removeFromCart:a===SDKProductActionType.RemoveFromWishlist?dist.ProductActionActionEnum.removeFromWishlist:a===SDKProductActionType.ViewDetail?dist.ProductActionActionEnum.viewDetail:dist.ProductActionActionEnum.unknown}function convertProductAction(a){if(!a.ProductAction)return null;var b={action:convertProductActionType(a.ProductAction.ProductActionType),checkout_step:a.ProductAction.CheckoutStep,checkout_options:a.ProductAction.CheckoutOptions,transaction_id:a.ProductAction.TransactionId,affiliation:a.ProductAction.Affiliation,total_amount:a.ProductAction.TotalAmount,tax_amount:a.ProductAction.TaxAmount,shipping_amount:a.ProductAction.ShippingAmount,coupon_code:a.ProductAction.CouponCode,products:convertProducts(a.ProductAction.ProductList)};return b}function convertProducts(a){if(!a||!a.length)return null;for(var b=[],c=0,d=a;c<d.length;c++){var e=d[c],f={id:e.Sku,name:e.Name,brand:e.Brand,category:e.Category,variant:e.Variant,total_product_amount:e.TotalAmount,position:e.Position,price:e.Price,quantity:e.Quantity,coupon_code:e.CouponCode,custom_attributes:e.Attributes};b.push(f);}return b}function convertPromotionAction(a){if(!a.PromotionAction)return null;var b={action:a.PromotionAction.PromotionActionType,promotions:convertPromotions(a.PromotionAction.PromotionList)};return b}function convertPromotions(a){if(!a||!a.length)return null;for(var b=[],c=0,d=a;c<d.length;c++){var e=d[c],f={id:e.Id,name:e.Name,creative:e.Creative,position:e.Position};b.push(f);}return b}function convertImpressions(a){if(!a.ProductImpressions)return null;for(var b=[],c=0,d=a.ProductImpressions;c<d.length;c++){var e=d[c],f={product_impression_list:e.ProductImpressionList,products:convertProducts(e.ProductList)};b.push(f);}return b}function convertShoppingCart(a){if(!a.ShoppingCart||!a.ShoppingCart.ProductList||!a.ShoppingCart.ProductList.length)return null;var b={products:convertProducts(a.ShoppingCart.ProductList)};return b}function convertCommerceEvent(a){var b=convertBaseEventData(a),c={custom_flags:a.CustomFlags,product_action:convertProductAction(a),promotion_action:convertPromotionAction(a),product_impressions:convertImpressions(a),shopping_cart:convertShoppingCart(a),currency_code:a.CurrencyCode};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.commerceEvent,data:c}}function convertCrashReportEvent(a){var b=convertBaseEventData(a),c={message:a.EventName};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.crashReport,data:c}}function convertAST(a){var b=convertBaseEventData(a),c={application_transition_type:dist.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum.applicationInitialized,is_first_run:a.IsFirstRun,is_upgrade:!1,launch_referral:a.LaunchReferral};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.applicationStateTransition,data:c}}function convertSessionEndEvent(a){var b=convertBaseEventData(a),c={session_duration_ms:a.SessionLength//note: External Events DTO does not support the session mpids array as of this time.\n//spanning_mpids: sdkEvent.SessionMpids\n};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.sessionEnd,data:c}}function convertSessionStartEvent(a){var b=convertBaseEventData(a),c={};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.sessionStart,data:c}}function convertPageViewEvent(a){var b=convertBaseEventData(a),c={custom_flags:a.CustomFlags,screen_name:a.EventName};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.screenView,data:c}}function convertOptOutEvent(a){var b=convertBaseEventData(a),c={is_opted_out:a.OptOut};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.optOut,data:c}}function convertCustomEvent(a){var b=convertBaseEventData(a),c={custom_event_type:convertSdkEventType(a.EventCategory),custom_flags:a.CustomFlags,event_name:a.EventName};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.customEvent,data:c}}function convertSdkEventType(a){return a===Types.EventType.Other?dist.CustomEventDataCustomEventTypeEnum.other:a===Types.EventType.Location?dist.CustomEventDataCustomEventTypeEnum.location:a===Types.EventType.Navigation?dist.CustomEventDataCustomEventTypeEnum.navigation:a===Types.EventType.Search?dist.CustomEventDataCustomEventTypeEnum.search:a===Types.EventType.Social?dist.CustomEventDataCustomEventTypeEnum.social:a===Types.EventType.Transaction?dist.CustomEventDataCustomEventTypeEnum.transaction:a===Types.EventType.UserContent?dist.CustomEventDataCustomEventTypeEnum.userContent:a===Types.EventType.UserPreference?dist.CustomEventDataCustomEventTypeEnum.userPreference:a===Types.EventType.Media?dist.CustomEventDataCustomEventTypeEnum.media:a===Types.CommerceEventType.ProductAddToCart?dist.CommerceEventDataCustomEventTypeEnum.addToCart:a===Types.CommerceEventType.ProductAddToWishlist?dist.CommerceEventDataCustomEventTypeEnum.addToWishlist:a===Types.CommerceEventType.ProductCheckout?dist.CommerceEventDataCustomEventTypeEnum.checkout:a===Types.CommerceEventType.ProductCheckoutOption?dist.CommerceEventDataCustomEventTypeEnum.checkoutOption:a===Types.CommerceEventType.ProductClick?dist.CommerceEventDataCustomEventTypeEnum.click:a===Types.CommerceEventType.ProductImpression?dist.CommerceEventDataCustomEventTypeEnum.impression:a===Types.CommerceEventType.ProductPurchase?dist.CommerceEventDataCustomEventTypeEnum.purchase:a===Types.CommerceEventType.ProductRefund?dist.CommerceEventDataCustomEventTypeEnum.refund:a===Types.CommerceEventType.ProductRemoveFromCart?dist.CommerceEventDataCustomEventTypeEnum.removeFromCart:a===Types.CommerceEventType.ProductRemoveFromWishlist?dist.CommerceEventDataCustomEventTypeEnum.removeFromWishlist:a===Types.CommerceEventType.ProductViewDetail?dist.CommerceEventDataCustomEventTypeEnum.viewDetail:a===Types.CommerceEventType.PromotionClick?dist.CommerceEventDataCustomEventTypeEnum.promotionClick:a===Types.CommerceEventType.PromotionView?dist.CommerceEventDataCustomEventTypeEnum.promotionView:dist.CustomEventDataCustomEventTypeEnum.unknown}function convertBaseEventData(a){var b={timestamp_unixtime_ms:a.Timestamp,session_uuid:a.SessionId,session_start_unixtime_ms:a.SessionStartDate,custom_attributes:a.EventAttributes,location:convertSDKLocation(a.Location),source_message_id:a.SourceMessageId};return b}function convertSDKLocation(a){return a&&Object.keys(a).length?{latitude:a.lat,longitude:a.lng}:null}function convertUserAttributeChangeEvent(a){var b=convertBaseEventData(a),c={user_attribute_name:a.UserAttributeChanges.UserAttributeName,new:a.UserAttributeChanges.New,old:a.UserAttributeChanges.Old,deleted:a.UserAttributeChanges.Deleted,is_new_attribute:a.UserAttributeChanges.IsNewAttribute};return c=__assign(__assign({},c),b),{event_type:dist.EventTypeEnum.userAttributeChange,data:c}}function convertUserIdentityChangeEvent(a){var b=convertBaseEventData(a),c={new:{identity_type:convertUserIdentityTypeToServerIdentityType(a.UserIdentityChanges.New.IdentityType),identity:a.UserIdentityChanges.New.Identity||null,timestamp_unixtime_ms:a.Timestamp,created_this_batch:a.UserIdentityChanges.New.CreatedThisBatch},old:{identity_type:convertUserIdentityTypeToServerIdentityType(a.UserIdentityChanges.Old.IdentityType),identity:a.UserIdentityChanges.Old.Identity||null,timestamp_unixtime_ms:a.Timestamp,created_this_batch:a.UserIdentityChanges.Old.CreatedThisBatch}};return c=Object.assign(c,b),{event_type:dist.EventTypeEnum.userIdentityChange,data:c}}function convertUserIdentityTypeToServerIdentityType(a){return a===SDKIdentityTypeEnum.other?dist.IdentityTypeEnum.other:a===SDKIdentityTypeEnum.customerId?dist.IdentityTypeEnum.customerId:a===SDKIdentityTypeEnum.facebook?dist.IdentityTypeEnum.facebook:a===SDKIdentityTypeEnum.twitter?dist.IdentityTypeEnum.twitter:a===SDKIdentityTypeEnum.google?dist.IdentityTypeEnum.google:a===SDKIdentityTypeEnum.microsoft?dist.IdentityTypeEnum.microsoft:a===SDKIdentityTypeEnum.yahoo?dist.IdentityTypeEnum.yahoo:a===SDKIdentityTypeEnum.email?dist.IdentityTypeEnum.email:a===SDKIdentityTypeEnum.alias?dist.IdentityTypeEnum.alias:a===SDKIdentityTypeEnum.facebookCustomAudienceId?dist.IdentityTypeEnum.facebookCustomAudienceId:a===SDKIdentityTypeEnum.otherId2?dist.IdentityTypeEnum.otherId2:a===SDKIdentityTypeEnum.otherId3?dist.IdentityTypeEnum.otherId3:a===SDKIdentityTypeEnum.otherId4?dist.IdentityTypeEnum.otherId4:a===SDKIdentityTypeEnum.otherId5?dist.IdentityTypeEnum.otherId5:a===SDKIdentityTypeEnum.otherId6?dist.IdentityTypeEnum.otherId6:a===SDKIdentityTypeEnum.otherId7?dist.IdentityTypeEnum.otherId7:a===SDKIdentityTypeEnum.otherId8?dist.IdentityTypeEnum.otherId8:a===SDKIdentityTypeEnum.otherId9?dist.IdentityTypeEnum.otherId9:a===SDKIdentityTypeEnum.otherId10?dist.IdentityTypeEnum.otherId10:a===SDKIdentityTypeEnum.mobileNumber?dist.IdentityTypeEnum.mobileNumber:a===SDKIdentityTypeEnum.phoneNumber2?dist.IdentityTypeEnum.phoneNumber2:a===SDKIdentityTypeEnum.phoneNumber3?dist.IdentityTypeEnum.phoneNumber3:void 0}\n\nvar BatchUploader=/** @class */function(){function a(b,c){var d=this;this.mpInstance=b,this.uploadIntervalMillis=c,this.batchingEnabled=c>=a.MINIMUM_INTERVAL_MILLIS,this.uploadIntervalMillis<a.MINIMUM_INTERVAL_MILLIS&&(this.uploadIntervalMillis=a.MINIMUM_INTERVAL_MILLIS),this.pendingEvents=[],this.pendingUploads=[];var e=this.mpInstance._Store,f=e.SDKConfig,g=e.devToken,h=this.mpInstance._Helpers.createServiceUrl(f.v3SecureServiceUrl,g);this.uploadUrl=\"\".concat(h,\"/events\"),setTimeout(function(){d.prepareAndUpload(!0,!1);},this.uploadIntervalMillis),this.addEventListeners();}return a.prototype.addEventListeners=function(){var a=this;document.addEventListener(\"visibilitychange\",function(){a.prepareAndUpload(!1,a.isBeaconAvailable());}),window.addEventListener(\"beforeunload\",function(){a.prepareAndUpload(!1,a.isBeaconAvailable());}),window.addEventListener(\"pagehide\",function(){a.prepareAndUpload(!1,a.isBeaconAvailable());});},a.prototype.isBeaconAvailable=function(){return !!navigator.sendBeacon},a.prototype.queueEvent=function(a){a&&(this.pendingEvents.push(a),this.mpInstance.Logger.verbose(\"Queuing event: \".concat(JSON.stringify(a))),this.mpInstance.Logger.verbose(\"Queued event count: \".concat(this.pendingEvents.length)),(!this.batchingEnabled||Types.TriggerUploadType[a.EventDataType])&&this.prepareAndUpload(!1,!1));},a.createNewUploads=function(a,b,c){if(!b||!a||!a.length)return null;//bucket by MPID, and then by session, ordered by timestamp\nfor(var d,e=[],f=new Map,g=0,h=a;g<h.length;g++){//on initial startup, there may be events logged without an mpid.\nif(d=h[g],!d.MPID){var i=b.getMPID();d.MPID=i;}var j=f.get(d.MPID);j||(j=[]),j.push(d),f.set(d.MPID,j);}for(var k=0,l=Array.from(f.entries());k<l.length;k++){for(var m=l[k],i=m[0],n=m[1],o=new Map,p=0,q=n;p<q.length;p++){var d=q[p],j=o.get(d.SessionId);j||(j=[]),j.push(d),o.set(d.SessionId,j);}for(var r=0,s=Array.from(o.entries());r<s.length;r++){var t=s[r],u=convertEvents(i,t[1],c),v=c._Store.SDKConfig.onCreateBatch;v&&(u=v(u),u?u.modified=!0:c.Logger.warning(\"Skiping batch upload because no batch was returned from onCreateBatch callback\")),u&&e.push(u);}}return e},a.prototype.prepareAndUpload=function(b,c){return __awaiter(this,void 0,void 0,function(){var d,e,f,g,h,i,j,k=this;return __generator(this,function(l){switch(l.label){case 0:return d=this.mpInstance.Identity.getCurrentUser(),e=this.pendingEvents,this.pendingEvents=[],f=a.createNewUploads(e,d,this.mpInstance),f&&f.length&&(i=this.pendingUploads).push.apply(i,f),g=this.pendingUploads,this.pendingUploads=[],[4/*yield*/,this.upload(this.mpInstance.Logger,g,c)];case 1:return h=l.sent(),h&&h.length&&(j=this.pendingUploads).unshift.apply(j,h),b&&setTimeout(function(){k.prepareAndUpload(!0,!1);},this.uploadIntervalMillis),[2/*return*/];}})})},a.prototype.upload=function(b,c,d){return __awaiter(this,void 0,void 0,function(){var e,f,g,h,j,k;return __generator(this,function(i){switch(i.label){case 0:if(!c||1>c.length)return [2/*return*/,null];b.verbose(\"Uploading batches: \".concat(JSON.stringify(c))),b.verbose(\"Batch count: \".concat(c.length)),f=0,i.label=1;case 1:return f<c.length?(g={method:\"POST\",headers:{Accept:a.CONTENT_TYPE,\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify(c[f])},!(d&&this.isBeaconAvailable()))?[3/*break*/,2]:(h=new Blob([g.body],{type:\"text/plain;charset=UTF-8\"}),navigator.sendBeacon(this.uploadUrl,h),[3/*break*/,6]):[3/*break*/,7];case 2:e||(window.fetch?e=new FetchUploader(this.uploadUrl,b):e=new XHRUploader(this.uploadUrl,b)),i.label=3;case 3:return i.trys.push([3,5,,6]),[4/*yield*/,e.upload(g,c,f)];case 4:if(j=i.sent(),200<=j.status&&300>j.status)b.verbose(\"Upload success for request ID: \".concat(c[f].source_request_id));else {if(500<=j.status||429===j.status)//server error, add back current events and try again later\nreturn b.error(\"HTTP error status \".concat(j.status,\" received\")),[2/*return*/,c.slice(f,c.length)];if(401<=j.status)//if we're getting a 401, assume we'll keep getting a 401 and clear the uploads.\nreturn b.error(\"HTTP error status \".concat(j.status,\" while uploading - please verify your API key.\")),[2/*return*/,null]}return [3/*break*/,6];case 5:return k=i.sent(),b.error(\"Error sending event to mParticle servers. \".concat(k)),[2/*return*/,c.slice(f,c.length)];case 6:return f++,[3/*break*/,1];case 7:return [2/*return*/,null];}})})},a.CONTENT_TYPE=\"text/plain;charset=UTF-8\",a.MINIMUM_INTERVAL_MILLIS=500,a}();var AsyncUploader=/** @class */function(){function a(a,b){this.url=a,this.logger=b;}return a}(),FetchUploader=/** @class */function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.upload=function(a){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(c){switch(c.label){case 0:return [4/*yield*/,fetch(this.url,a)];case 1:return b=c.sent(),[2/*return*/,b];}})})},b}(AsyncUploader),XHRUploader=/** @class */function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.upload=function(a){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(c){switch(c.label){case 0:return [4/*yield*/,this.makeRequest(this.url,this.logger,a.body)];case 1:return b=c.sent(),[2/*return*/,b];}})})},b.prototype.makeRequest=function(a,b,c){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(){return b=new XMLHttpRequest,[2/*return*/,new Promise(function(d,e){b.onreadystatechange=function(){4!==b.readyState||(200<=b.status&&300>b.status?d(b):e(b));},b.open(\"post\",a),b.send(c);})]})})},b}(AsyncUploader);\n\nvar Messages$9=Constants.Messages;function APIClient(a,b){this.uploader=null;var c=this;this.queueEventForBatchUpload=function(b){if(!this.uploader){var c=a._Helpers.getFeatureFlag(Constants.FeatureFlags.EventBatchingIntervalMillis);this.uploader=new BatchUploader(a,c);}this.uploader.queueEvent(b);},this.shouldEnableBatching=function(){// Returns a string of a number that must be parsed\n// Invalid strings will be parsed to NaN which is falsey\nvar b=parseInt(a._Helpers.getFeatureFlag(Constants.FeatureFlags.EventsV3),10);if(!b)return !1;var c=a._Helpers.getRampNumber(a._Store.deviceId);return b>=c},this.processQueuedEvents=function(){var b,d=a.Identity.getCurrentUser();if(d&&(b=d.getMPID()),a._Store.eventQueue.length&&b){var e=a._Store.eventQueue;a._Store.eventQueue=[],this.appendUserInfoToEvents(d,e),e.forEach(function(a){c.sendEventToServer(a);});}},this.appendUserInfoToEvents=function(b,c){c.forEach(function(c){c.MPID||a._ServerModel.appendUserInfo(b,c);});},this.sendEventToServer=function(c,d){var e=a._Helpers.extend({shouldUploadEvent:!0},d);if(a._Store.webviewBridgeEnabled)return void a._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.LogEvent,JSON.stringify(c));var f,g=a.Identity.getCurrentUser();// We queue events if there is no MPID (MPID is null, or === 0), or there are integrations that that require this to stall because integration attributes\n// need to be set, or if we are still fetching the config (self hosted only), and so require delaying events\nreturn g&&(f=g.getMPID()),a._Store.requireDelay=a._Helpers.isDelayedByIntegration(a._preInit.integrationDelays,a._Store.integrationDelayTimeoutStart,Date.now()),f&&!a._Store.requireDelay&&a._Store.configurationLoaded?void(this.processQueuedEvents(),c&&e.shouldUploadEvent&&(this.shouldEnableBatching()?this.queueEventForBatchUpload(c):this.sendSingleEventToServer(c)),c&&c.EventName!==Types.MessageType.AppStateTransition&&(b&&b.kitBlockingEnabled&&(c=b.createBlockedEvent(c)),c&&a._Forwarders.sendEventToForwarders(c))):(a.Logger.verbose(\"Event was added to eventQueue. eventQueue will be processed once a valid MPID is returned or there is no more integration imposed delay.\"),void a._Store.eventQueue.push(c))},this.sendSingleEventToServer=function(b){if(b.EventDataType!==Types.MessageType.Media){var c,d=function xhrCallback(){4===c.readyState&&(a.Logger.verbose(\"Received \"+c.statusText+\" from server\"),a._Persistence.update());};if(!b)return void a.Logger.error(Messages$9.ErrorMessages.EventEmpty);if(a.Logger.verbose(Messages$9.InformationMessages.SendHttp),c=a._Helpers.createXHR(d),c)try{c.open(\"post\",a._Helpers.createServiceUrl(a._Store.SDKConfig.v2SecureServiceUrl,a._Store.devToken)+\"/Events\"),c.send(JSON.stringify(a._ServerModel.convertEventToDTO(b)));}catch(b){a.Logger.error(\"Error sending event to mParticle servers. \"+b);}}},this.sendBatchForwardingStatsToServer=function(b,c){var d,e;try{d=a._Helpers.createServiceUrl(a._Store.SDKConfig.v2SecureServiceUrl,a._Store.devToken),e={uuid:a._Helpers.generateUniqueId(),data:b},c&&(c.open(\"post\",d+\"/Forwarding\"),c.send(JSON.stringify(e)));}catch(b){a.Logger.error(\"Error sending forwarding stats to mParticle servers.\");}},this.sendSingleForwardingStatsToServer=function(b){var c,d;try{var e=function xhrCallback(){4===f.readyState&&202===f.status&&a.Logger.verbose(\"Successfully sent  \"+f.statusText+\" from server\");},f=a._Helpers.createXHR(e);c=a._Helpers.createServiceUrl(a._Store.SDKConfig.v1SecureServiceUrl,a._Store.devToken),d=b,f&&(f.open(\"post\",c+\"/Forwarding\"),f.send(JSON.stringify(d)));}catch(b){a.Logger.error(\"Error sending forwarding stats to mParticle servers.\");}},this.prepareForwardingStats=function(b,d){var e,f=a._Forwarders.getForwarderStatsQueue();b&&b.isVisible&&(e={mid:b.id,esid:b.eventSubscriptionId,n:d.EventName,attrs:d.EventAttributes,sdk:d.SDKVersion,dt:d.EventDataType,et:d.EventCategory,dbg:d.Debug,ct:d.Timestamp,eec:d.ExpandedEventCount,dp:d.DataPlan},a._Helpers.getFeatureFlag(Constants.FeatureFlags.ReportBatching)?(f.push(e),a._Forwarders.setForwarderStatsQueue(f)):c.sendSingleForwardingStatsToServer(e));};}\n\nvar slugify = {exports: {}};\n\n(function (module, exports) {\n(function (name, root, factory) {\n\t  {\n\t    module.exports = factory();\n\t    module.exports['default'] = factory();\n\t  }\n\t}('slugify', commonjsGlobal, function () {\n\t  var charMap = JSON.parse('{\"$\":\"dollar\",\"%\":\"percent\",\"&\":\"and\",\"<\":\"less\",\">\":\"greater\",\"|\":\"or\",\"¢\":\"cent\",\"£\":\"pound\",\"¤\":\"currency\",\"¥\":\"yen\",\"©\":\"(c)\",\"ª\":\"a\",\"®\":\"(r)\",\"º\":\"o\",\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Æ\":\"AE\",\"Ç\":\"C\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ð\":\"D\",\"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\"Þ\":\"TH\",\"ß\":\"ss\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"æ\":\"ae\",\"ç\":\"c\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ð\":\"d\",\"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"þ\":\"th\",\"ÿ\":\"y\",\"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\"Ć\":\"C\",\"ć\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\"Đ\":\"DJ\",\"đ\":\"dj\",\"Ē\":\"E\",\"ē\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\"Ę\":\"e\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"i\",\"ī\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\"ı\":\"i\",\"Ķ\":\"k\",\"ķ\":\"k\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\"Ł\":\"L\",\"ł\":\"l\",\"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\"Ō\":\"O\",\"ō\":\"o\",\"Ő\":\"O\",\"ő\":\"o\",\"Œ\":\"OE\",\"œ\":\"oe\",\"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\"Ś\":\"S\",\"ś\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"u\",\"ū\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\",\"Ə\":\"E\",\"ƒ\":\"f\",\"Ơ\":\"O\",\"ơ\":\"o\",\"Ư\":\"U\",\"ư\":\"u\",\"ǈ\":\"LJ\",\"ǉ\":\"lj\",\"ǋ\":\"NJ\",\"ǌ\":\"nj\",\"Ș\":\"S\",\"ș\":\"s\",\"Ț\":\"T\",\"ț\":\"t\",\"ə\":\"e\",\"˚\":\"o\",\"Ά\":\"A\",\"Έ\":\"E\",\"Ή\":\"H\",\"Ί\":\"I\",\"Ό\":\"O\",\"Ύ\":\"Y\",\"Ώ\":\"W\",\"ΐ\":\"i\",\"Α\":\"A\",\"Β\":\"B\",\"Γ\":\"G\",\"Δ\":\"D\",\"Ε\":\"E\",\"Ζ\":\"Z\",\"Η\":\"H\",\"Θ\":\"8\",\"Ι\":\"I\",\"Κ\":\"K\",\"Λ\":\"L\",\"Μ\":\"M\",\"Ν\":\"N\",\"Ξ\":\"3\",\"Ο\":\"O\",\"Π\":\"P\",\"Ρ\":\"R\",\"Σ\":\"S\",\"Τ\":\"T\",\"Υ\":\"Y\",\"Φ\":\"F\",\"Χ\":\"X\",\"Ψ\":\"PS\",\"Ω\":\"W\",\"Ϊ\":\"I\",\"Ϋ\":\"Y\",\"ά\":\"a\",\"έ\":\"e\",\"ή\":\"h\",\"ί\":\"i\",\"ΰ\":\"y\",\"α\":\"a\",\"β\":\"b\",\"γ\":\"g\",\"δ\":\"d\",\"ε\":\"e\",\"ζ\":\"z\",\"η\":\"h\",\"θ\":\"8\",\"ι\":\"i\",\"κ\":\"k\",\"λ\":\"l\",\"μ\":\"m\",\"ν\":\"n\",\"ξ\":\"3\",\"ο\":\"o\",\"π\":\"p\",\"ρ\":\"r\",\"ς\":\"s\",\"σ\":\"s\",\"τ\":\"t\",\"υ\":\"y\",\"φ\":\"f\",\"χ\":\"x\",\"ψ\":\"ps\",\"ω\":\"w\",\"ϊ\":\"i\",\"ϋ\":\"y\",\"ό\":\"o\",\"ύ\":\"y\",\"ώ\":\"w\",\"Ё\":\"Yo\",\"Ђ\":\"DJ\",\"Є\":\"Ye\",\"І\":\"I\",\"Ї\":\"Yi\",\"Ј\":\"J\",\"Љ\":\"LJ\",\"Њ\":\"NJ\",\"Ћ\":\"C\",\"Џ\":\"DZ\",\"А\":\"A\",\"Б\":\"B\",\"В\":\"V\",\"Г\":\"G\",\"Д\":\"D\",\"Е\":\"E\",\"Ж\":\"Zh\",\"З\":\"Z\",\"И\":\"I\",\"Й\":\"J\",\"К\":\"K\",\"Л\":\"L\",\"М\":\"M\",\"Н\":\"N\",\"О\":\"O\",\"П\":\"P\",\"Р\":\"R\",\"С\":\"S\",\"Т\":\"T\",\"У\":\"U\",\"Ф\":\"F\",\"Х\":\"H\",\"Ц\":\"C\",\"Ч\":\"Ch\",\"Ш\":\"Sh\",\"Щ\":\"Sh\",\"Ъ\":\"U\",\"Ы\":\"Y\",\"Ь\":\"\",\"Э\":\"E\",\"Ю\":\"Yu\",\"Я\":\"Ya\",\"а\":\"a\",\"б\":\"b\",\"в\":\"v\",\"г\":\"g\",\"д\":\"d\",\"е\":\"e\",\"ж\":\"zh\",\"з\":\"z\",\"и\":\"i\",\"й\":\"j\",\"к\":\"k\",\"л\":\"l\",\"м\":\"m\",\"н\":\"n\",\"о\":\"o\",\"п\":\"p\",\"р\":\"r\",\"с\":\"s\",\"т\":\"t\",\"у\":\"u\",\"ф\":\"f\",\"х\":\"h\",\"ц\":\"c\",\"ч\":\"ch\",\"ш\":\"sh\",\"щ\":\"sh\",\"ъ\":\"u\",\"ы\":\"y\",\"ь\":\"\",\"э\":\"e\",\"ю\":\"yu\",\"я\":\"ya\",\"ё\":\"yo\",\"ђ\":\"dj\",\"є\":\"ye\",\"і\":\"i\",\"ї\":\"yi\",\"ј\":\"j\",\"љ\":\"lj\",\"њ\":\"nj\",\"ћ\":\"c\",\"ѝ\":\"u\",\"џ\":\"dz\",\"Ґ\":\"G\",\"ґ\":\"g\",\"Ғ\":\"GH\",\"ғ\":\"gh\",\"Қ\":\"KH\",\"қ\":\"kh\",\"Ң\":\"NG\",\"ң\":\"ng\",\"Ү\":\"UE\",\"ү\":\"ue\",\"Ұ\":\"U\",\"ұ\":\"u\",\"Һ\":\"H\",\"һ\":\"h\",\"Ә\":\"AE\",\"ә\":\"ae\",\"Ө\":\"OE\",\"ө\":\"oe\",\"Ա\":\"A\",\"Բ\":\"B\",\"Գ\":\"G\",\"Դ\":\"D\",\"Ե\":\"E\",\"Զ\":\"Z\",\"Է\":\"E\\'\",\"Ը\":\"Y\\'\",\"Թ\":\"T\\'\",\"Ժ\":\"JH\",\"Ի\":\"I\",\"Լ\":\"L\",\"Խ\":\"X\",\"Ծ\":\"C\\'\",\"Կ\":\"K\",\"Հ\":\"H\",\"Ձ\":\"D\\'\",\"Ղ\":\"GH\",\"Ճ\":\"TW\",\"Մ\":\"M\",\"Յ\":\"Y\",\"Ն\":\"N\",\"Շ\":\"SH\",\"Չ\":\"CH\",\"Պ\":\"P\",\"Ջ\":\"J\",\"Ռ\":\"R\\'\",\"Ս\":\"S\",\"Վ\":\"V\",\"Տ\":\"T\",\"Ր\":\"R\",\"Ց\":\"C\",\"Փ\":\"P\\'\",\"Ք\":\"Q\\'\",\"Օ\":\"O\\'\\'\",\"Ֆ\":\"F\",\"և\":\"EV\",\"ء\":\"a\",\"آ\":\"aa\",\"أ\":\"a\",\"ؤ\":\"u\",\"إ\":\"i\",\"ئ\":\"e\",\"ا\":\"a\",\"ب\":\"b\",\"ة\":\"h\",\"ت\":\"t\",\"ث\":\"th\",\"ج\":\"j\",\"ح\":\"h\",\"خ\":\"kh\",\"د\":\"d\",\"ذ\":\"th\",\"ر\":\"r\",\"ز\":\"z\",\"س\":\"s\",\"ش\":\"sh\",\"ص\":\"s\",\"ض\":\"dh\",\"ط\":\"t\",\"ظ\":\"z\",\"ع\":\"a\",\"غ\":\"gh\",\"ف\":\"f\",\"ق\":\"q\",\"ك\":\"k\",\"ل\":\"l\",\"م\":\"m\",\"ن\":\"n\",\"ه\":\"h\",\"و\":\"w\",\"ى\":\"a\",\"ي\":\"y\",\"ً\":\"an\",\"ٌ\":\"on\",\"ٍ\":\"en\",\"َ\":\"a\",\"ُ\":\"u\",\"ِ\":\"e\",\"ْ\":\"\",\"٠\":\"0\",\"١\":\"1\",\"٢\":\"2\",\"٣\":\"3\",\"٤\":\"4\",\"٥\":\"5\",\"٦\":\"6\",\"٧\":\"7\",\"٨\":\"8\",\"٩\":\"9\",\"پ\":\"p\",\"چ\":\"ch\",\"ژ\":\"zh\",\"ک\":\"k\",\"گ\":\"g\",\"ی\":\"y\",\"۰\":\"0\",\"۱\":\"1\",\"۲\":\"2\",\"۳\":\"3\",\"۴\":\"4\",\"۵\":\"5\",\"۶\":\"6\",\"۷\":\"7\",\"۸\":\"8\",\"۹\":\"9\",\"฿\":\"baht\",\"ა\":\"a\",\"ბ\":\"b\",\"გ\":\"g\",\"დ\":\"d\",\"ე\":\"e\",\"ვ\":\"v\",\"ზ\":\"z\",\"თ\":\"t\",\"ი\":\"i\",\"კ\":\"k\",\"ლ\":\"l\",\"მ\":\"m\",\"ნ\":\"n\",\"ო\":\"o\",\"პ\":\"p\",\"ჟ\":\"zh\",\"რ\":\"r\",\"ს\":\"s\",\"ტ\":\"t\",\"უ\":\"u\",\"ფ\":\"f\",\"ქ\":\"k\",\"ღ\":\"gh\",\"ყ\":\"q\",\"შ\":\"sh\",\"ჩ\":\"ch\",\"ც\":\"ts\",\"ძ\":\"dz\",\"წ\":\"ts\",\"ჭ\":\"ch\",\"ხ\":\"kh\",\"ჯ\":\"j\",\"ჰ\":\"h\",\"Ṣ\":\"S\",\"ṣ\":\"s\",\"Ẁ\":\"W\",\"ẁ\":\"w\",\"Ẃ\":\"W\",\"ẃ\":\"w\",\"Ẅ\":\"W\",\"ẅ\":\"w\",\"ẞ\":\"SS\",\"Ạ\":\"A\",\"ạ\":\"a\",\"Ả\":\"A\",\"ả\":\"a\",\"Ấ\":\"A\",\"ấ\":\"a\",\"Ầ\":\"A\",\"ầ\":\"a\",\"Ẩ\":\"A\",\"ẩ\":\"a\",\"Ẫ\":\"A\",\"ẫ\":\"a\",\"Ậ\":\"A\",\"ậ\":\"a\",\"Ắ\":\"A\",\"ắ\":\"a\",\"Ằ\":\"A\",\"ằ\":\"a\",\"Ẳ\":\"A\",\"ẳ\":\"a\",\"Ẵ\":\"A\",\"ẵ\":\"a\",\"Ặ\":\"A\",\"ặ\":\"a\",\"Ẹ\":\"E\",\"ẹ\":\"e\",\"Ẻ\":\"E\",\"ẻ\":\"e\",\"Ẽ\":\"E\",\"ẽ\":\"e\",\"Ế\":\"E\",\"ế\":\"e\",\"Ề\":\"E\",\"ề\":\"e\",\"Ể\":\"E\",\"ể\":\"e\",\"Ễ\":\"E\",\"ễ\":\"e\",\"Ệ\":\"E\",\"ệ\":\"e\",\"Ỉ\":\"I\",\"ỉ\":\"i\",\"Ị\":\"I\",\"ị\":\"i\",\"Ọ\":\"O\",\"ọ\":\"o\",\"Ỏ\":\"O\",\"ỏ\":\"o\",\"Ố\":\"O\",\"ố\":\"o\",\"Ồ\":\"O\",\"ồ\":\"o\",\"Ổ\":\"O\",\"ổ\":\"o\",\"Ỗ\":\"O\",\"ỗ\":\"o\",\"Ộ\":\"O\",\"ộ\":\"o\",\"Ớ\":\"O\",\"ớ\":\"o\",\"Ờ\":\"O\",\"ờ\":\"o\",\"Ở\":\"O\",\"ở\":\"o\",\"Ỡ\":\"O\",\"ỡ\":\"o\",\"Ợ\":\"O\",\"ợ\":\"o\",\"Ụ\":\"U\",\"ụ\":\"u\",\"Ủ\":\"U\",\"ủ\":\"u\",\"Ứ\":\"U\",\"ứ\":\"u\",\"Ừ\":\"U\",\"ừ\":\"u\",\"Ử\":\"U\",\"ử\":\"u\",\"Ữ\":\"U\",\"ữ\":\"u\",\"Ự\":\"U\",\"ự\":\"u\",\"Ỳ\":\"Y\",\"ỳ\":\"y\",\"Ỵ\":\"Y\",\"ỵ\":\"y\",\"Ỷ\":\"Y\",\"ỷ\":\"y\",\"Ỹ\":\"Y\",\"ỹ\":\"y\",\"–\":\"-\",\"‘\":\"\\'\",\"’\":\"\\'\",\"“\":\"\\\\\\\"\",\"”\":\"\\\\\\\"\",\"„\":\"\\\\\\\"\",\"†\":\"+\",\"•\":\"*\",\"…\":\"...\",\"₠\":\"ecu\",\"₢\":\"cruzeiro\",\"₣\":\"french franc\",\"₤\":\"lira\",\"₥\":\"mill\",\"₦\":\"naira\",\"₧\":\"peseta\",\"₨\":\"rupee\",\"₩\":\"won\",\"₪\":\"new shequel\",\"₫\":\"dong\",\"€\":\"euro\",\"₭\":\"kip\",\"₮\":\"tugrik\",\"₯\":\"drachma\",\"₰\":\"penny\",\"₱\":\"peso\",\"₲\":\"guarani\",\"₳\":\"austral\",\"₴\":\"hryvnia\",\"₵\":\"cedi\",\"₸\":\"kazakhstani tenge\",\"₹\":\"indian rupee\",\"₺\":\"turkish lira\",\"₽\":\"russian ruble\",\"₿\":\"bitcoin\",\"℠\":\"sm\",\"™\":\"tm\",\"∂\":\"d\",\"∆\":\"delta\",\"∑\":\"sum\",\"∞\":\"infinity\",\"♥\":\"love\",\"元\":\"yuan\",\"円\":\"yen\",\"﷼\":\"rial\",\"ﻵ\":\"laa\",\"ﻷ\":\"laa\",\"ﻹ\":\"lai\",\"ﻻ\":\"la\"}');\n\t  var locales = JSON.parse('{\"bg\":{\"Й\":\"Y\",\"Ц\":\"Ts\",\"Щ\":\"Sht\",\"Ъ\":\"A\",\"Ь\":\"Y\",\"й\":\"y\",\"ц\":\"ts\",\"щ\":\"sht\",\"ъ\":\"a\",\"ь\":\"y\"},\"de\":{\"Ä\":\"AE\",\"ä\":\"ae\",\"Ö\":\"OE\",\"ö\":\"oe\",\"Ü\":\"UE\",\"ü\":\"ue\",\"ß\":\"ss\",\"%\":\"prozent\",\"&\":\"und\",\"|\":\"oder\",\"∑\":\"summe\",\"∞\":\"unendlich\",\"♥\":\"liebe\"},\"es\":{\"%\":\"por ciento\",\"&\":\"y\",\"<\":\"menor que\",\">\":\"mayor que\",\"|\":\"o\",\"¢\":\"centavos\",\"£\":\"libras\",\"¤\":\"moneda\",\"₣\":\"francos\",\"∑\":\"suma\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"fr\":{\"%\":\"pourcent\",\"&\":\"et\",\"<\":\"plus petit\",\">\":\"plus grand\",\"|\":\"ou\",\"¢\":\"centime\",\"£\":\"livre\",\"¤\":\"devise\",\"₣\":\"franc\",\"∑\":\"somme\",\"∞\":\"infini\",\"♥\":\"amour\"},\"pt\":{\"%\":\"porcento\",\"&\":\"e\",\"<\":\"menor\",\">\":\"maior\",\"|\":\"ou\",\"¢\":\"centavo\",\"∑\":\"soma\",\"£\":\"libra\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"uk\":{\"И\":\"Y\",\"и\":\"y\",\"Й\":\"Y\",\"й\":\"y\",\"Ц\":\"Ts\",\"ц\":\"ts\",\"Х\":\"Kh\",\"х\":\"kh\",\"Щ\":\"Shch\",\"щ\":\"shch\",\"Г\":\"H\",\"г\":\"h\"},\"vi\":{\"Đ\":\"D\",\"đ\":\"d\"},\"da\":{\"Ø\":\"OE\",\"ø\":\"oe\",\"Å\":\"AA\",\"å\":\"aa\",\"%\":\"procent\",\"&\":\"og\",\"|\":\"eller\",\"$\":\"dollar\",\"<\":\"mindre end\",\">\":\"større end\"},\"nb\":{\"&\":\"og\",\"Å\":\"AA\",\"Æ\":\"AE\",\"Ø\":\"OE\",\"å\":\"aa\",\"æ\":\"ae\",\"ø\":\"oe\"},\"it\":{\"&\":\"e\"},\"nl\":{\"&\":\"en\"},\"sv\":{\"&\":\"och\",\"Å\":\"AA\",\"Ä\":\"AE\",\"Ö\":\"OE\",\"å\":\"aa\",\"ä\":\"ae\",\"ö\":\"oe\"}}');\n\n\t  function replace (string, options) {\n\t    if (typeof string !== 'string') {\n\t      throw new Error('slugify: string argument expected')\n\t    }\n\n\t    options = (typeof options === 'string')\n\t      ? {replacement: options}\n\t      : options || {};\n\n\t    var locale = locales[options.locale] || {};\n\n\t    var replacement = options.replacement === undefined ? '-' : options.replacement;\n\n\t    var trim = options.trim === undefined ? true : options.trim;\n\n\t    var slug = string.normalize().split('')\n\t      // replace characters based on charMap\n\t      .reduce(function (result, ch) {\n\t        var appendChar = locale[ch] || charMap[ch] || ch;\n\t        if (appendChar === replacement) {\n\t          appendChar = ' ';\n\t        }\n\t        return result + appendChar\n\t          // remove not allowed characters\n\t          .replace(options.remove || /[^\\w\\s$*_+~.()'\"!\\-:@]+/g, '')\n\t      }, '');\n\n\t    if (options.strict) {\n\t      slug = slug.replace(/[^A-Za-z0-9\\s]/g, '');\n\t    }\n\n\t    if (trim) {\n\t      slug = slug.trim();\n\t    }\n\n\t    // Replace spaces with replacement character, treating multiple consecutive\n\t    // spaces as a single space.\n\t    slug = slug.replace(/\\s+/g, replacement);\n\n\t    if (options.lower) {\n\t      slug = slug.toLowerCase();\n\t    }\n\n\t    return slug\n\t  }\n\n\t  replace.extend = function (customMap) {\n\t    Object.assign(charMap, customMap);\n\t  };\n\n\t  return replace\n\t}));\n} (slugify));\n\nvar Slugify = slugify.exports;\n\nvar inArray=function(a,b){var c=0;if(Array.prototype.indexOf)return 0<=a.indexOf(b,0);for(var d=a.length;c<d;c++)if(c in a&&a[c]===b)return !0;return !1},findKeyInObject=function(a,b){if(b&&a)for(var c in a)if(a.hasOwnProperty(c)&&c.toLowerCase()===b.toLowerCase())return c;return null},isObject=function(a){var b=Object.prototype.toString.call(a);return \"[object Object]\"===b||\"[object Error]\"===b},parseNumber=function(a){if(isNaN(a)||!isFinite(a))return 0;var b=parseFloat(a);return isNaN(b)?0:b},returnConvertedBoolean=function(a){return \"false\"!==a&&\"0\"!==a&&!!a},decoded=function(a){return decodeURIComponent(a.replace(/\\+/g,\" \"))},converted=function(a){return 0===a.indexOf(\"\\\"\")&&(a=a.slice(1,-1).replace(/\\\\\"/g,\"\\\"\").replace(/\\\\\\\\/g,\"\\\\\")),a};\n\nvar Validators={isValidAttributeValue:function isValidAttributeValue(a){return a!==void 0&&!isObject(a)&&!Array.isArray(a)},// Neither null nor undefined can be a valid Key\nisValidKeyValue:function isValidKeyValue(a){return !(!a||isObject(a)||Array.isArray(a)||this.isFunction(a))},isStringOrNumber:function isStringOrNumber(a){return \"string\"==typeof a||\"number\"==typeof a},isNumber:function isNumber(a){return \"number\"==typeof a},isFunction:function isFunction(a){return \"function\"==typeof a},validateIdentities:function validateIdentities(a,b){var c={userIdentities:1,onUserAlias:1,copyUserAttributes:1};if(a){if(\"modify\"===b&&(isObject(a.userIdentities)&&!Object.keys(a.userIdentities).length||!isObject(a.userIdentities)))return {valid:!1,error:Constants.Messages.ValidationMessages.ModifyIdentityRequestUserIdentitiesPresent};for(var d in a)if(a.hasOwnProperty(d)){if(!c[d])return {valid:!1,error:Constants.Messages.ValidationMessages.IdentityRequesetInvalidKey};if(\"onUserAlias\"===d&&!Validators.isFunction(a[d]))return {valid:!1,error:Constants.Messages.ValidationMessages.OnUserAliasType}}if(0===Object.keys(a).length)return {valid:!0};// identityApiData.userIdentities can't be undefined\nif(void 0===a.userIdentities)return {valid:!1,error:Constants.Messages.ValidationMessages.UserIdentities};// identityApiData.userIdentities can be null, but if it isn't null or undefined (above conditional), it must be an object\nif(null!==a.userIdentities&&!isObject(a.userIdentities))return {valid:!1,error:Constants.Messages.ValidationMessages.UserIdentities};if(isObject(a.userIdentities)&&Object.keys(a.userIdentities).length)for(var e in a.userIdentities)if(a.userIdentities.hasOwnProperty(e)){if(!1===Types.IdentityType.getIdentityType(e))return {valid:!1,error:Constants.Messages.ValidationMessages.UserIdentitiesInvalidKey};if(\"string\"!=typeof a.userIdentities[e]&&null!==a.userIdentities[e])return {valid:!1,error:Constants.Messages.ValidationMessages.UserIdentitiesInvalidValues}}}return {valid:!0}}};\n\nvar StorageNames$2=Constants.StorageNames;function Helpers(a){function b(b){var a;return window.crypto&&window.crypto.getRandomValues&&(a=window.crypto.getRandomValues(new Uint8Array(1))),a?(b^a[0]%16>>b/4).toString(16):(b^16*Math.random()>>b/4).toString(16)}var c=this;/**\n     * Returns a value between 1-100 inclusive.\n     */ // Standalone version of jQuery.extend, from https://github.com/dansdom/extend\n// Utility Functions\n// Imported Validators\nthis.canLog=function(){return !!(a._Store.isEnabled&&(a._Store.devToken||a._Store.webviewBridgeEnabled))},this.getFeatureFlag=function(b){return a._Store.SDKConfig.flags.hasOwnProperty(b)?a._Store.SDKConfig.flags[b]:null},this.getRampNumber=function(a){if(!a)return 100;var b=c.generateHash(a);return Math.abs(b%100)+1},this.invokeCallback=function(b,d,e,f,g){b||a.Logger.warning(\"There is no callback provided\");try{c.Validators.isFunction(b)&&b({httpCode:d,body:e,getUser:function getUser(){return f?f:a.Identity.getCurrentUser()},getPreviousUser:function getPreviousUser(){if(!g){var b=a.Identity.getUsers(),c=b.shift(),d=f||a.Identity.getCurrentUser();return c&&d&&c.getMPID()===d.getMPID()&&(c=b.shift()),c||null}return a.Identity.getUser(g)}});}catch(b){a.Logger.error(\"There was an error with your callback: \"+b);}},this.invokeAliasCallback=function(b,d,e){b||a.Logger.warning(\"There is no callback provided\");try{if(c.Validators.isFunction(b)){var f={httpCode:d};e&&(f.message=e),b(f);}}catch(b){a.Logger.error(\"There was an error with your callback: \"+b);}},this.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},j=1,k=arguments.length,l=!1,// helper which replicates the jquery internal functions\nm={hasOwn:Object.prototype.hasOwnProperty,class2type:{},type:function type(a){return null==a?a+\"\":m.class2type[Object.prototype.toString.call(a)]||\"object\"},isPlainObject:function isPlainObject(a){if(!a||\"object\"!==m.type(a)||a.nodeType||m.isWindow(a))return !1;try{if(a.constructor&&!m.hasOwn.call(a,\"constructor\")&&!m.hasOwn.call(a.constructor.prototype,\"isPrototypeOf\"))return !1}catch(a){return !1}for(var b in a);// eslint-disable-line no-empty\nreturn b===void 0||m.hasOwn.call(a,b)},isArray:Array.isArray||function(a){return \"array\"===m.type(a)},isFunction:function isFunction(a){return \"function\"===m.type(a)},isWindow:function isWindow(a){return null!=a&&a==a.window}};// end of objectHelper\n// Handle a deep copy situation\nfor(\"boolean\"==typeof h&&(l=h,h=arguments[1]||{},j=2),\"object\"===_typeof(h)||m.isFunction(h)||(h={}),k===j&&(h=this,--j);j<k;j++)// Only deal with non-null/undefined values\nif(null!=(a=arguments[j]))// Extend the base object\nfor(b in a)// Prevent never-ending loop\n(d=h[b],e=a[b],h!==e)&&(l&&e&&(m.isPlainObject(e)||(f=m.isArray(e)))?(f?(f=!1,g=d&&m.isArray(d)?d:[]):g=d&&m.isPlainObject(d)?d:{},h[b]=c.extend(l,g,e)):void 0!==e&&(h[b]=e));// Recurse if we're merging plain objects or arrays\n// Return the modified object\nreturn h},this.createServiceUrl=function(b,c){var d,e=window.mParticle&&a._Store.SDKConfig.forceHttps?\"https://\":window.location.protocol+\"//\";return d=a._Store.SDKConfig.forceHttps?\"https://\"+b:e+b,c&&(d+=c),d},this.createXHR=function(b){var c;try{c=new window.XMLHttpRequest;}catch(b){a.Logger.error(\"Error creating XMLHttpRequest object.\");}if(c&&b&&\"withCredentials\"in c)c.onreadystatechange=b;else if(\"undefined\"!=typeof window.XDomainRequest){a.Logger.verbose(\"Creating XDomainRequest object\");try{c=new window.XDomainRequest,c.onload=b;}catch(b){a.Logger.error(\"Error creating XDomainRequest object\");}}return c},this.generateUniqueId=function(d){// https://gist.github.com/jed/982883\n// Added support for crypto for better random\nreturn d// if the placeholder was passed, return\n?b(d)// a random number\n:// or otherwise a concatenated string:\n\"10000000-1000-4000-8000-100000000000\"// -100000000000,\n.replace(// replacing\n/[018]/g,// zeroes, ones, and eights with\nc.generateUniqueId// random hex digits\n)},this.filterUserIdentities=function(a,b){var d=[];if(a&&Object.keys(a).length)for(var e in a)if(a.hasOwnProperty(e)){var f=Types.IdentityType.getIdentityType(e);if(!c.inArray(b,f)){var g={Type:f,Identity:a[e]};f===Types.IdentityType.CustomerId?d.unshift(g):d.push(g);}}return d},this.filterUserIdentitiesForForwarders=function(a,b){var d={};if(a&&Object.keys(a).length)for(var e in a)if(a.hasOwnProperty(e)){var f=Types.IdentityType.getIdentityType(e);c.inArray(b,f)||(d[e]=a[e]);}return d},this.filterUserAttributes=function(a,b){var d={};if(a&&Object.keys(a).length)for(var e in a)if(a.hasOwnProperty(e)){var f=c.generateHash(e);c.inArray(b,f)||(d[e]=a[e]);}return d},this.isEventType=function(a){for(var b in Types.EventType)if(Types.EventType.hasOwnProperty(b)&&Types.EventType[b]===a)return !0;return !1},this.parseStringOrNumber=function(a){return Validators.isStringOrNumber(a)?a:null},this.generateHash=function(a){var b,c=0,d=0;if(void 0===a||null===a)return 0;if(a=a.toString().toLowerCase(),Array.prototype.reduce)return a.split(\"\").reduce(function(c,d){return c=(c<<5)-c+d.charCodeAt(0),c&c},0);if(0===a.length)return c;for(d=0;d<a.length;d++)b=a.charCodeAt(d),c=(c<<5)-c+b,c&=c;return c},this.sanitizeAttributes=function(b,d){if(!b||!c.isObject(b))return null;var e={};for(var f in b)// Make sure that attribute values are not objects or arrays, which are not valid\nb.hasOwnProperty(f)&&c.Validators.isValidAttributeValue(b[f])?e[f]=b[f]:a.Logger.warning(\"For '\"+d+\"', the corresponding attribute value of '\"+f+\"' must be a string, number, boolean, or null.\");return e},this.isDelayedByIntegration=function(b,c,d){if(d-c>a._Store.SDKConfig.integrationDelayTimeout)return !1;for(var e in b){if(!0===b[e])return !0;continue}return !1},this.createMainStorageName=function(a){return a?StorageNames$2.currentStorageName+\"_\"+a:StorageNames$2.currentStorageName},this.createProductStorageName=function(a){return a?StorageNames$2.currentStorageProductsName+\"_\"+a:StorageNames$2.currentStorageProductsName},this.isSlug=function(a){return a===Slugify(a)},this.converted=converted,this.findKeyInObject=findKeyInObject,this.parseNumber=parseNumber,this.inArray=inArray,this.isObject=isObject,this.decoded=decoded,this.returnConvertedBoolean=returnConvertedBoolean,this.Validators=Validators;}\n\nvar Messages$8=Constants.Messages,androidBridgeNameBase=\"mParticleAndroid\",iosBridgeNameBase=\"mParticle\";function NativeSdkHelpers(a){var b=this;this.isBridgeV2Available=function(a){if(!a)return !1;var b=iosBridgeNameBase+\"_\"+a+\"_v2\";// iOS v2 bridge\nreturn !!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.hasOwnProperty(b))||!!(window.mParticle&&window.mParticle.uiwebviewBridgeName&&window.mParticle.uiwebviewBridgeName===b)||!!window.hasOwnProperty(androidBridgeNameBase+\"_\"+a+\"_v2\");// other iOS v2 bridge\n// TODO: what to do about people setting things on mParticle itself?\n// android\n},this.isWebviewEnabled=function(c,d){return a._Store.bridgeV2Available=b.isBridgeV2Available(c),a._Store.bridgeV1Available=b.isBridgeV1Available(),2===d?a._Store.bridgeV2Available:!(window.mParticle&&window.mParticle.uiwebviewBridgeName&&window.mParticle.uiwebviewBridgeName!==iosBridgeNameBase+\"_\"+c+\"_v2\")&&!!(2>d)&&(a._Store.bridgeV2Available||a._Store.bridgeV1Available);// iOS BridgeV1 can be available via mParticle.isIOS, but return false if uiwebviewBridgeName doesn't match requiredWebviewBridgeName\n},this.isBridgeV1Available=function(){return !!(a._Store.SDKConfig.useNativeSdk||window.mParticleAndroid||a._Store.SDKConfig.isIOS)},this.sendToNative=function(c,d){return a._Store.bridgeV2Available&&2===a._Store.SDKConfig.minWebviewBridgeVersion?void b.sendViaBridgeV2(c,d,a._Store.SDKConfig.requiredWebviewBridgeName):a._Store.bridgeV2Available&&2>a._Store.SDKConfig.minWebviewBridgeVersion?void b.sendViaBridgeV2(c,d,a._Store.SDKConfig.requiredWebviewBridgeName):a._Store.bridgeV1Available&&2>a._Store.SDKConfig.minWebviewBridgeVersion?void b.sendViaBridgeV1(c,d):void 0},this.sendViaBridgeV1=function(c,d){window.mParticleAndroid&&window.mParticleAndroid.hasOwnProperty(c)?(a.Logger.verbose(Messages$8.InformationMessages.SendAndroid+c),window.mParticleAndroid[c](d)):a._Store.SDKConfig.isIOS&&(a.Logger.verbose(Messages$8.InformationMessages.SendIOS+c),b.sendViaIframeToIOS(c,d));},this.sendViaIframeToIOS=function(a,b){var c=document.createElement(\"IFRAME\");c.setAttribute(\"src\",\"mp-sdk://\"+a+\"/\"+encodeURIComponent(b)),document.documentElement.appendChild(c),c.parentNode.removeChild(c);},this.sendViaBridgeV2=function(c,d,e){if(e){var f,g,h=window[androidBridgeNameBase+\"_\"+e+\"_v2\"],i=iosBridgeNameBase+\"_\"+e+\"_v2\";return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[i]&&(f=window.webkit.messageHandlers[i]),a.uiwebviewBridgeName===i&&(g=a[i]),h&&h.hasOwnProperty(c)?(a.Logger.verbose(Messages$8.InformationMessages.SendAndroid+c),void h[c](d)):void(f?(a.Logger.verbose(Messages$8.InformationMessages.SendIOS+c),f.postMessage(JSON.stringify({path:c,value:d?JSON.parse(d):null}))):g&&(a.Logger.verbose(Messages$8.InformationMessages.SendIOS+c),b.sendViaIframeToIOS(c,d)))}};}\n\nvar Messages$7=Constants.Messages;function cookieSyncManager(a){var b=this;this.attemptCookieSync=function(c,d,e){var f,g,h,i,j,k;d&&!a._Store.webviewBridgeEnabled&&a._Store.pixelConfigurations.forEach(function(l){k=!1,l.filteringConsentRuleValues&&l.filteringConsentRuleValues.values&&l.filteringConsentRuleValues.values.length&&(k=!0),f={moduleId:l.moduleId,frequencyCap:l.frequencyCap,pixelUrl:b.replaceAmp(l.pixelUrl),redirectUrl:l.redirectUrl?b.replaceAmp(l.redirectUrl):null,filteringConsentRuleValues:l.filteringConsentRuleValues},h=b.replaceMPID(f.pixelUrl,d),i=f.redirectUrl?b.replaceMPID(f.redirectUrl,d):\"\",j=h+encodeURIComponent(i);var m=a._Persistence.getPersistence();return c&&c!==d?void(m&&m[d]&&(!m[d].csd&&(m[d].csd={}),b.performCookieSync(j,f.moduleId,d,m[d].csd,f.filteringConsentRuleValues,e,k))):void(m[d]&&(!m[d].csd&&(m[d].csd={}),g=m[d].csd[f.moduleId.toString()]?m[d].csd[f.moduleId.toString()]:null,g?new Date().getTime()>new Date(g).getTime()+24*(60*(1e3*(60*f.frequencyCap)))&&b.performCookieSync(j,f.moduleId,d,m[d].csd,f.filteringConsentRuleValues,e,k):b.performCookieSync(j,f.moduleId,d,m[d].csd,f.filteringConsentRuleValues,e,k)))});},this.replaceMPID=function(a,b){return a.replace(\"%%mpid%%\",b)},this.replaceAmp=function(a){return a.replace(/&amp;/g,\"&\")},this.performCookieSync=function(b,c,d,e,f,g,h){// if MPID is new to cookies, we should not try to perform the cookie sync\n// because a cookie sync can only occur once a user either consents or doesn't\n// we should not check if its enabled if the user has a blank consent\nif(!(h&&g)&&a._Consent.isEnabledForUserConsent(f,a.Identity.getCurrentUser())){var i=document.createElement(\"img\");a.Logger.verbose(Messages$7.InformationMessages.CookieSync),i.onload=function(){e[c.toString()]=new Date().getTime(),a._Persistence.saveUserCookieSyncDatesToPersistence(d,e);},i.src=b;}};}\n\nvar Messages$6=Constants.Messages;function SessionManager(a){var b=this;this.initialize=function(){if(a._Store.sessionId){var c=6e4*a._Store.SDKConfig.sessionTimeout;if(new Date>new Date(a._Store.dateLastEventSent.getTime()+c))b.endSession(),b.startNewSession();else {var d=a._Persistence.getPersistence();d&&!d.cu&&(a.Identity.identify(a._Store.SDKConfig.identifyRequest,a._Store.SDKConfig.identityCallback),a._Store.identifyCalled=!0,a._Store.SDKConfig.identityCallback=null);}}else b.startNewSession();},this.getSession=function(){return a._Store.sessionId},this.startNewSession=function(){if(a.Logger.verbose(Messages$6.InformationMessages.StartingNewSession),a._Helpers.canLog()){a._Store.sessionId=a._Helpers.generateUniqueId().toUpperCase();var c=a.Identity.getCurrentUser(),d=c?c.getMPID():null;if(d&&(a._Store.currentSessionMPIDs=[d]),!a._Store.sessionStartDate){var e=new Date;a._Store.sessionStartDate=e,a._Store.dateLastEventSent=e;}b.setSessionTimer(),a._Store.identifyCalled||(a.Identity.identify(a._Store.SDKConfig.identifyRequest,a._Store.SDKConfig.identityCallback),a._Store.identifyCalled=!0,a._Store.SDKConfig.identityCallback=null),a._Events.logEvent({messageType:Types.MessageType.SessionStart});}else a.Logger.verbose(Messages$6.InformationMessages.AbandonStartSession);},this.endSession=function(c){if(a.Logger.verbose(Messages$6.InformationMessages.StartingEndSession),c)a._Events.logEvent({messageType:Types.MessageType.SessionEnd}),a._Store.sessionId=null,a._Store.dateLastEventSent=null,a._Store.sessionAttributes={},a._Persistence.update();else if(a._Helpers.canLog()){var d,e,f;if(e=a._Persistence.getPersistence(),!e)return;if(e.gs&&!e.gs.sid)return void a.Logger.verbose(Messages$6.InformationMessages.NoSessionToEnd);// sessionId is not equal to cookies.sid if cookies.sid is changed in another tab\nif(e.gs.sid&&a._Store.sessionId!==e.gs.sid&&(a._Store.sessionId=e.gs.sid),e.gs&&e.gs.les){d=6e4*a._Store.SDKConfig.sessionTimeout;var g=new Date().getTime();f=g-e.gs.les,f<d?b.setSessionTimer():(a._Events.logEvent({messageType:Types.MessageType.SessionEnd}),a._Store.sessionId=null,a._Store.dateLastEventSent=null,a._Store.sessionStartDate=null,a._Store.sessionAttributes={},a._Persistence.update());}}else a.Logger.verbose(Messages$6.InformationMessages.AbandonEndSession);},this.setSessionTimer=function(){var c=6e4*a._Store.SDKConfig.sessionTimeout;a._Store.globalTimer=window.setTimeout(function(){b.endSession();},c);},this.resetSessionTimer=function(){a._Store.webviewBridgeEnabled||(!a._Store.sessionId&&b.startNewSession(),b.clearSessionTimeout(),b.setSessionTimer()),b.startNewSessionIfNeeded();},this.clearSessionTimeout=function(){clearTimeout(a._Store.globalTimer);},this.startNewSessionIfNeeded=function(){if(!a._Store.webviewBridgeEnabled){var c=a._Persistence.getPersistence();!a._Store.sessionId&&c&&(c.sid?a._Store.sessionId=c.sid:b.startNewSession());}};}\n\nvar Messages$5=Constants.Messages;function Ecommerce(a){var b=this;// sanitizes any non number, non string value to 0\nthis.convertTransactionAttributesToProductAction=function(a,b){a.hasOwnProperty(\"Id\")&&(b.TransactionId=a.Id),a.hasOwnProperty(\"Affiliation\")&&(b.Affiliation=a.Affiliation),a.hasOwnProperty(\"CouponCode\")&&(b.CouponCode=a.CouponCode),a.hasOwnProperty(\"Revenue\")&&(b.TotalAmount=this.sanitizeAmount(a.Revenue,\"Revenue\")),a.hasOwnProperty(\"Shipping\")&&(b.ShippingAmount=this.sanitizeAmount(a.Shipping,\"Shipping\")),a.hasOwnProperty(\"Tax\")&&(b.TaxAmount=this.sanitizeAmount(a.Tax,\"Tax\")),a.hasOwnProperty(\"Step\")&&(b.CheckoutStep=a.Step),a.hasOwnProperty(\"Option\")&&(b.CheckoutOptions=a.Option);},this.getProductActionEventName=function(a){switch(a){case Types.ProductActionType.AddToCart:return \"AddToCart\";case Types.ProductActionType.AddToWishlist:return \"AddToWishlist\";case Types.ProductActionType.Checkout:return \"Checkout\";case Types.ProductActionType.CheckoutOption:return \"CheckoutOption\";case Types.ProductActionType.Click:return \"Click\";case Types.ProductActionType.Purchase:return \"Purchase\";case Types.ProductActionType.Refund:return \"Refund\";case Types.ProductActionType.RemoveFromCart:return \"RemoveFromCart\";case Types.ProductActionType.RemoveFromWishlist:return \"RemoveFromWishlist\";case Types.ProductActionType.ViewDetail:return \"ViewDetail\";case Types.ProductActionType.Unknown:default:return \"Unknown\";}},this.getPromotionActionEventName=function(a){return a===Types.PromotionActionType.PromotionClick?\"PromotionClick\":a===Types.PromotionActionType.PromotionView?\"PromotionView\":\"Unknown\"},this.convertProductActionToEventType=function(b){return b===Types.ProductActionType.AddToCart?Types.CommerceEventType.ProductAddToCart:b===Types.ProductActionType.AddToWishlist?Types.CommerceEventType.ProductAddToWishlist:b===Types.ProductActionType.Checkout?Types.CommerceEventType.ProductCheckout:b===Types.ProductActionType.CheckoutOption?Types.CommerceEventType.ProductCheckoutOption:b===Types.ProductActionType.Click?Types.CommerceEventType.ProductClick:b===Types.ProductActionType.Purchase?Types.CommerceEventType.ProductPurchase:b===Types.ProductActionType.Refund?Types.CommerceEventType.ProductRefund:b===Types.ProductActionType.RemoveFromCart?Types.CommerceEventType.ProductRemoveFromCart:b===Types.ProductActionType.RemoveFromWishlist?Types.CommerceEventType.ProductRemoveFromWishlist:b===Types.ProductActionType.Unknown?Types.EventType.Unknown:b===Types.ProductActionType.ViewDetail?Types.CommerceEventType.ProductViewDetail:(a.Logger.error(\"Could not convert product action type \"+b+\" to event type\"),null)},this.convertPromotionActionToEventType=function(b){return b===Types.PromotionActionType.PromotionClick?Types.CommerceEventType.PromotionClick:b===Types.PromotionActionType.PromotionView?Types.CommerceEventType.PromotionView:(a.Logger.error(\"Could not convert promotion action type \"+b+\" to event type\"),null)},this.generateExpandedEcommerceName=function(a,b){return \"eCommerce - \"+a+\" - \"+(b?\"Total\":\"Item\")},this.extractProductAttributes=function(a,b){b.CouponCode&&(a[\"Coupon Code\"]=b.CouponCode),b.Brand&&(a.Brand=b.Brand),b.Category&&(a.Category=b.Category),b.Name&&(a.Name=b.Name),b.Sku&&(a.Id=b.Sku),b.Price&&(a[\"Item Price\"]=b.Price),b.Quantity&&(a.Quantity=b.Quantity),b.Position&&(a.Position=b.Position),b.Variant&&(a.Variant=b.Variant),a[\"Total Product Amount\"]=b.TotalAmount||0;},this.extractTransactionId=function(a,b){b.TransactionId&&(a[\"Transaction Id\"]=b.TransactionId);},this.extractActionAttributes=function(a,c){b.extractTransactionId(a,c),c.Affiliation&&(a.Affiliation=c.Affiliation),c.CouponCode&&(a[\"Coupon Code\"]=c.CouponCode),c.TotalAmount&&(a[\"Total Amount\"]=c.TotalAmount),c.ShippingAmount&&(a[\"Shipping Amount\"]=c.ShippingAmount),c.TaxAmount&&(a[\"Tax Amount\"]=c.TaxAmount),c.CheckoutOptions&&(a[\"Checkout Options\"]=c.CheckoutOptions),c.CheckoutStep&&(a[\"Checkout Step\"]=c.CheckoutStep);},this.extractPromotionAttributes=function(a,b){b.Id&&(a.Id=b.Id),b.Creative&&(a.Creative=b.Creative),b.Name&&(a.Name=b.Name),b.Position&&(a.Position=b.Position);},this.buildProductList=function(a,b){return b?Array.isArray(b)?b:[b]:a.ShoppingCart.ProductList},this.createProduct=function(b,c,d,e,f,g,h,i,j,k){return (k=a._Helpers.sanitizeAttributes(k,b),\"string\"!=typeof b)?(a.Logger.error(\"Name is required when creating a product\"),null):a._Helpers.Validators.isStringOrNumber(c)?a._Helpers.Validators.isStringOrNumber(d)?(d=a._Helpers.parseNumber(d),i&&!a._Helpers.Validators.isNumber(i)&&(a.Logger.error(\"Position must be a number, it will be set to null.\"),i=null),e=a._Helpers.Validators.isStringOrNumber(e)?a._Helpers.parseNumber(e):1,{Name:b,Sku:c,Price:d,Quantity:e,Brand:h,Variant:f,Category:g,Position:i,CouponCode:j,TotalAmount:e*d,Attributes:k}):(a.Logger.error(\"Price is required when creating a product, and must be a string or a number\"),null):(a.Logger.error(\"SKU is required when creating a product, and must be a string or a number\"),null)},this.createPromotion=function(b,c,d,e){return a._Helpers.Validators.isStringOrNumber(b)?{Id:b,Creative:c,Name:d,Position:e}:(a.Logger.error(Messages$5.ErrorMessages.PromotionIdRequired),null)},this.createImpression=function(b,c){return \"string\"==typeof b?c?{Name:b,Product:c}:(a.Logger.error(\"Product is required when creating an impression.\"),null):(a.Logger.error(\"Name is required when creating an impression.\"),null)},this.createTransactionAttributes=function(b,c,d,e,f,g){return a._Helpers.Validators.isStringOrNumber(b)?{Id:b,Affiliation:c,CouponCode:d,Revenue:e,Shipping:f,Tax:g}:(a.Logger.error(Messages$5.ErrorMessages.TransactionIdRequired),null)},this.expandProductImpression=function(c){var d=[];return c.ProductImpressions?(c.ProductImpressions.forEach(function(e){e.ProductList&&e.ProductList.forEach(function(f){var g=a._Helpers.extend(!1,{},c.EventAttributes);if(f.Attributes)for(var h in f.Attributes)g[h]=f.Attributes[h];b.extractProductAttributes(g,f),e.ProductImpressionList&&(g[\"Product Impression List\"]=e.ProductImpressionList);var i=a._ServerModel.createEventObject({messageType:Types.MessageType.PageEvent,name:b.generateExpandedEcommerceName(\"Impression\"),data:g,eventType:Types.EventType.Transaction});d.push(i);});}),d):d},this.expandCommerceEvent=function(a){return a?b.expandProductAction(a).concat(b.expandPromotionAction(a)).concat(b.expandProductImpression(a)):null},this.expandPromotionAction=function(c){var d=[];if(!c.PromotionAction)return d;var e=c.PromotionAction.PromotionList;return e.forEach(function(e){var f=a._Helpers.extend(!1,{},c.EventAttributes);b.extractPromotionAttributes(f,e);var g=a._ServerModel.createEventObject({messageType:Types.MessageType.PageEvent,name:b.generateExpandedEcommerceName(Types.PromotionActionType.getExpansionName(c.PromotionAction.PromotionActionType)),data:f,eventType:Types.EventType.Transaction});d.push(g);}),d},this.expandProductAction=function(c){var d=[];if(!c.ProductAction)return d;var e=!1;if(c.ProductAction.ProductActionType===Types.ProductActionType.Purchase||c.ProductAction.ProductActionType===Types.ProductActionType.Refund){var f=a._Helpers.extend(!1,{},c.EventAttributes);f[\"Product Count\"]=c.ProductAction.ProductList?c.ProductAction.ProductList.length:0,b.extractActionAttributes(f,c.ProductAction),c.CurrencyCode&&(f[\"Currency Code\"]=c.CurrencyCode);var g=a._ServerModel.createEventObject({messageType:Types.MessageType.PageEvent,name:b.generateExpandedEcommerceName(Types.ProductActionType.getExpansionName(c.ProductAction.ProductActionType),!0),data:f,eventType:Types.EventType.Transaction});d.push(g);}else e=!0;var h=c.ProductAction.ProductList;return h?(h.forEach(function(f){var g=a._Helpers.extend(!1,c.EventAttributes,f.Attributes);e?b.extractActionAttributes(g,c.ProductAction):b.extractTransactionId(g,c.ProductAction),b.extractProductAttributes(g,f);var h=a._ServerModel.createEventObject({messageType:Types.MessageType.PageEvent,name:b.generateExpandedEcommerceName(Types.ProductActionType.getExpansionName(c.ProductAction.ProductActionType)),data:g,eventType:Types.EventType.Transaction});d.push(h);}),d):d},this.createCommerceEventObject=function(b){var c;return (a.Logger.verbose(Messages$5.InformationMessages.StartingLogCommerceEvent),a._Helpers.canLog())?(c=a._ServerModel.createEventObject({messageType:Types.MessageType.Commerce}),c.EventName=\"eCommerce - \",c.CurrencyCode=a._Store.currencyCode,c.ShoppingCart=[],c.CustomFlags=b,c):(a.Logger.verbose(Messages$5.InformationMessages.AbandonLogEvent),null)},this.sanitizeAmount=function(b,c){if(!a._Helpers.Validators.isStringOrNumber(b)){var d=[c,\"must be of type number. A\",_typeof(b),\"was passed. Converting to 0\"].join(\" \");return a.Logger.warning(d),0}// if amount is a string, it will be parsed into a number if possible, or set to 0\nreturn a._Helpers.parseNumber(b)};}\n\nfunction createSDKConfig(a){var b={};for(var c in Constants.DefaultConfig)Constants.DefaultConfig.hasOwnProperty(c)&&(b[c]=Constants.DefaultConfig[c]);if(a)for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);for(c in Constants.DefaultUrls)b[c]=Constants.DefaultUrls[c];return b}function Store(a,b){var c={isEnabled:!0,sessionAttributes:{},currentSessionMPIDs:[],consentState:null,sessionId:null,isFirstRun:null,clientId:null,deviceId:null,devToken:null,migrationData:{},serverSettings:{},dateLastEventSent:null,sessionStartDate:null,currentPosition:null,isTracking:!1,watchPositionId:null,cartProducts:[],eventQueue:[],currencyCode:null,globalTimer:null,context:\"\",configurationLoaded:!1,identityCallInFlight:!1,SDKConfig:{},migratingToIDSyncCookies:!1,nonCurrentUserMPIDs:{},identifyCalled:!1,isLoggedIn:!1,cookieSyncDates:{},integrationAttributes:{},requireDelay:!0,isLocalStorageAvailable:null,storageName:null,prodStorageName:null,activeForwarders:[],kits:{},configuredForwarders:[],pixelConfigurations:[]};for(var d in c)this[d]=c[d];// Set configuration to default settings\nif(this.integrationDelayTimeoutStart=Date.now(),this.SDKConfig=createSDKConfig(a),a){if(a.deviceId&&(this.deviceId=a.deviceId),this.SDKConfig.isDevelopmentMode=!!a.hasOwnProperty(\"isDevelopmentMode\")&&b._Helpers.returnConvertedBoolean(a.isDevelopmentMode),a.hasOwnProperty(\"v1SecureServiceUrl\")&&(this.SDKConfig.v1SecureServiceUrl=a.v1SecureServiceUrl),a.hasOwnProperty(\"v2SecureServiceUrl\")&&(this.SDKConfig.v2SecureServiceUrl=a.v2SecureServiceUrl),a.hasOwnProperty(\"v3SecureServiceUrl\")&&(this.SDKConfig.v3SecureServiceUrl=a.v3SecureServiceUrl),a.hasOwnProperty(\"identityUrl\")&&(this.SDKConfig.identityUrl=a.identityUrl),a.hasOwnProperty(\"aliasUrl\")&&(this.SDKConfig.aliasUrl=a.aliasUrl),a.hasOwnProperty(\"configUrl\")&&(this.SDKConfig.configUrl=a.configUrl),a.hasOwnProperty(\"logLevel\")&&(this.SDKConfig.logLevel=a.logLevel),this.SDKConfig.useNativeSdk=!!a.hasOwnProperty(\"useNativeSdk\")&&a.useNativeSdk,a.hasOwnProperty(\"kits\")&&(this.SDKConfig.kits=a.kits),this.SDKConfig.isIOS=a.hasOwnProperty(\"isIOS\")?a.isIOS:!!(window.mParticle&&window.mParticle.isIOS)&&window.mParticle.isIOS,this.SDKConfig.useCookieStorage=!!a.hasOwnProperty(\"useCookieStorage\")&&a.useCookieStorage,this.SDKConfig.maxProducts=a.hasOwnProperty(\"maxProducts\")?a.maxProducts:Constants.DefaultConfig.maxProducts,this.SDKConfig.maxCookieSize=a.hasOwnProperty(\"maxCookieSize\")?a.maxCookieSize:Constants.DefaultConfig.maxCookieSize,a.hasOwnProperty(\"appName\")&&(this.SDKConfig.appName=a.appName),a.hasOwnProperty(\"package\")&&(this.SDKConfig[\"package\"]=a[\"package\"]),this.SDKConfig.integrationDelayTimeout=a.hasOwnProperty(\"integrationDelayTimeout\")?a.integrationDelayTimeout:Constants.DefaultConfig.integrationDelayTimeout,a.hasOwnProperty(\"identifyRequest\")&&(this.SDKConfig.identifyRequest=a.identifyRequest),a.hasOwnProperty(\"identityCallback\")){var e=a.identityCallback;b._Helpers.Validators.isFunction(e)?this.SDKConfig.identityCallback=a.identityCallback:b.Logger.warning(\"The optional callback must be a function. You tried entering a(n) \"+_typeof(e),\" . Callback not set. Please set your callback again.\");}if(a.hasOwnProperty(\"appVersion\")&&(this.SDKConfig.appVersion=a.appVersion),a.hasOwnProperty(\"appName\")&&(this.SDKConfig.appName=a.appName),a.hasOwnProperty(\"sessionTimeout\")&&(this.SDKConfig.sessionTimeout=a.sessionTimeout),a.hasOwnProperty(\"dataPlan\")&&(this.SDKConfig.dataPlan={PlanVersion:null,PlanId:null},a.dataPlan.hasOwnProperty(\"planId\")&&(\"string\"==typeof a.dataPlan.planId?b._Helpers.isSlug(a.dataPlan.planId)?this.SDKConfig.dataPlan.PlanId=a.dataPlan.planId:b.Logger.error(\"Your data plan id must be in a slug format\"):b.Logger.error(\"Your data plan id must be a string\")),a.dataPlan.hasOwnProperty(\"planVersion\")&&(\"number\"==typeof a.dataPlan.planVersion?this.SDKConfig.dataPlan.PlanVersion=a.dataPlan.planVersion:b.Logger.error(\"Your data plan version must be a number\"))),this.SDKConfig.forceHttps=!a.hasOwnProperty(\"forceHttps\")||a.forceHttps,a.hasOwnProperty(\"customFlags\")&&(this.SDKConfig.customFlags=a.customFlags),this.SDKConfig.minWebviewBridgeVersion=a.hasOwnProperty(\"minWebviewBridgeVersion\")?a.minWebviewBridgeVersion:1,this.SDKConfig.aliasMaxWindow=a.hasOwnProperty(\"aliasMaxWindow\")?a.aliasMaxWindow:Constants.DefaultConfig.aliasMaxWindow,a.hasOwnProperty(\"dataPlanOptions\")){var f=a.dataPlanOptions;f.hasOwnProperty(\"dataPlanVersion\")&&f.hasOwnProperty(\"blockUserAttributes\")&&f.hasOwnProperty(\"blockEventAttributes\")&&f.hasOwnProperty(\"blockEvents\")&&f.hasOwnProperty(\"blockUserIdentities\")||b.Logger.error(\"Ensure your config.dataPlanOptions object has the following keys: a \\\"dataPlanVersion\\\" object, and \\\"blockUserAttributes\\\", \\\"blockEventAttributes\\\", \\\"blockEvents\\\", \\\"blockUserIdentities\\\" booleans\");}a.hasOwnProperty(\"onCreateBatch\")&&(\"function\"==typeof a.onCreateBatch?this.SDKConfig.onCreateBatch=a.onCreateBatch:(b.Logger.error(\"config.onCreateBatch must be a function\"),this.SDKConfig.onCreateBatch=void 0)),a.hasOwnProperty(\"flags\")||(this.SDKConfig.flags={}),this.SDKConfig.flags.hasOwnProperty(Constants.FeatureFlags.EventsV3)||(this.SDKConfig.flags[Constants.FeatureFlags.EventsV3]=0),this.SDKConfig.flags.hasOwnProperty(Constants.FeatureFlags.EventBatchingIntervalMillis)||(this.SDKConfig.flags[Constants.FeatureFlags.EventBatchingIntervalMillis]=Constants.DefaultConfig.uploadInterval),this.SDKConfig.flags.hasOwnProperty(Constants.FeatureFlags.ReportBatching)||(this.SDKConfig.flags[Constants.FeatureFlags.ReportBatching]=!1);}}\n\nfunction Logger(a){var b=this,c=a.logLevel||\"warning\";this.logger=a.hasOwnProperty(\"logger\")?a.logger:new ConsoleLogger,this.verbose=function(a){\"none\"!==c&&b.logger.verbose&&\"verbose\"===c&&b.logger.verbose(a);},this.warning=function(a){\"none\"!==c&&b.logger.warning&&(\"verbose\"===c||\"warning\"===c)&&b.logger.warning(a);},this.error=function(a){\"none\"!==c&&b.logger.error&&b.logger.error(a);},this.setLogLevel=function(a){c=a;};}function ConsoleLogger(){this.verbose=function(a){console&&console.info&&console.info(a);},this.error=function(a){console&&console.error&&console.error(a);},this.warning=function(a){console&&console.warn&&console.warn(a);};}\n\nvar Base64$1=Polyfill.Base64,Messages$4=Constants.Messages,Base64CookieKeys=Constants.Base64CookieKeys,SDKv2NonMPIDCookieKeys=Constants.SDKv2NonMPIDCookieKeys,StorageNames$1=Constants.StorageNames;function _Persistence(a){function b(b){var c=a._Store;return b.gs.sid=c.sessionId,b.gs.ie=c.isEnabled,b.gs.sa=c.sessionAttributes,b.gs.ss=c.serverSettings,b.gs.dt=c.devToken,b.gs.les=c.dateLastEventSent?c.dateLastEventSent.getTime():null,b.gs.av=c.SDKConfig.appVersion,b.gs.cgid=c.clientId,b.gs.das=c.deviceId,b.gs.c=c.context,b.gs.ssd=c.sessionStartDate?c.sessionStartDate.getTime():0,b.gs.ia=c.integrationAttributes,b}function c(a){localStorage.removeItem(a);}function d(a,b,c){return f.encodePersistence(JSON.stringify(a))+\";expires=\"+b+\";path=/\"+c}var f=this;// only used in persistence\n/*  This function determines if a cookie is greater than the configured maxCookieSize.\n        - If it is, we remove an MPID and its associated UI/UA/CSD from the cookie.\n        - Once removed, check size, and repeat.\n        - Never remove the currentUser's MPID from the cookie.\n\n    MPID removal priority:\n    1. If there are no currentSessionMPIDs, remove a random MPID from the the cookie.\n    2. If there are currentSessionMPIDs:\n        a. Remove at random MPIDs on the cookie that are not part of the currentSessionMPIDs\n        b. Then remove MPIDs based on order in currentSessionMPIDs array, which\n        stores MPIDs based on earliest login.\n*/ // This function loops through the parts of a full hostname, attempting to set a cookie on that domain. It will set a cookie at the highest level possible.\n// For example subdomain.domain.co.uk would try the following combinations:\n// \"co.uk\" -> fail\n// \"domain.co.uk\" -> success, return\n// \"subdomain.domain.co.uk\" -> skipped, because already found\n/**\n     * set the \"first seen\" time for a user. the time will only be set once for a given\n     * mpid after which subsequent calls will be ignored\n     */ /**\n     * returns the \"last seen\" time for a user. If the mpid represents the current user, the\n     * return value will always be the current time, otherwise it will be to stored \"last seen\"\n     * time\n     */ // Forwarder Batching Code\nthis.useLocalStorage=function(){return !a._Store.SDKConfig.useCookieStorage&&a._Store.isLocalStorageAvailable},this.initializeStorage=function(){try{var b,c,d=f.getLocalStorage(),e=f.getCookie();// Determine if there is any data in cookies or localStorage to figure out if it is the first time the browser is loading mParticle\nd||e?a._Store.isFirstRun=!1:(a._Store.isFirstRun=!0,a._Store.mpid=0),a._Store.isLocalStorageAvailable||(a._Store.SDKConfig.useCookieStorage=!0),a._Store.isLocalStorageAvailable?(b=window.localStorage,a._Store.SDKConfig.useCookieStorage?(d?(c=e?a._Helpers.extend(!1,d,e):d,b.removeItem(a._Store.storageName)):e&&(c=e),f.storeDataInMemory(c)):e?(c=d?a._Helpers.extend(!1,d,e):e,f.storeDataInMemory(c),f.expireCookies(a._Store.storageName)):f.storeDataInMemory(d)):f.storeDataInMemory(e);try{if(a._Store.isLocalStorageAvailable){var g=localStorage.getItem(a._Store.prodStorageName);if(g)var h=JSON.parse(Base64$1.decode(g));a._Store.mpid&&f.storeProductsInMemory(h,a._Store.mpid);}}catch(b){a._Store.isLocalStorageAvailable&&localStorage.removeItem(a._Store.prodStorageName),a._Store.cartProducts=[],a.Logger.error(\"Error loading products in initialization: \"+b);}for(var i in c)c.hasOwnProperty(i)&&(SDKv2NonMPIDCookieKeys[i]||(a._Store.nonCurrentUserMPIDs[i]=c[i]));f.update();}catch(b){f.useLocalStorage()&&a._Store.isLocalStorageAvailable?localStorage.removeItem(a._Store.storageName):f.expireCookies(a._Store.storageName),a.Logger.error(\"Error initializing storage: \"+b);}},this.update=function(){a._Store.webviewBridgeEnabled||(a._Store.SDKConfig.useCookieStorage&&f.setCookie(),f.setLocalStorage());},this.storeProductsInMemory=function(b,c){if(b)try{a._Store.cartProducts=b[c]&&b[c].cp?b[c].cp:[];}catch(b){a.Logger.error(Messages$4.ErrorMessages.CookieParseError);}},this.storeDataInMemory=function(b,c){try{b?(a._Store.mpid=c?c:b.cu||0,b.gs=b.gs||{},a._Store.sessionId=b.gs.sid||a._Store.sessionId,a._Store.isEnabled=\"undefined\"==typeof b.gs.ie?a._Store.isEnabled:b.gs.ie,a._Store.sessionAttributes=b.gs.sa||a._Store.sessionAttributes,a._Store.serverSettings=b.gs.ss||a._Store.serverSettings,a._Store.devToken=a._Store.devToken||b.gs.dt,a._Store.SDKConfig.appVersion=a._Store.SDKConfig.appVersion||b.gs.av,a._Store.clientId=b.gs.cgid||a._Store.clientId||a._Helpers.generateUniqueId(),a._Store.deviceId=b.gs.das||a._Store.deviceId||a._Helpers.generateUniqueId(),a._Store.integrationAttributes=b.gs.ia||{},a._Store.context=b.gs.c||a._Store.context,a._Store.currentSessionMPIDs=b.gs.csm||a._Store.currentSessionMPIDs,a._Store.isLoggedIn=!0===b.l,b.gs.les&&(a._Store.dateLastEventSent=new Date(b.gs.les)),a._Store.sessionStartDate=b.gs.ssd?new Date(b.gs.ssd):new Date,b=c?b[c]:b[b.cu]):(a.Logger.verbose(Messages$4.InformationMessages.CookieNotFound),a._Store.clientId=a._Store.clientId||a._Helpers.generateUniqueId(),a._Store.deviceId=a._Store.deviceId||a._Helpers.generateUniqueId());}catch(b){a.Logger.error(Messages$4.ErrorMessages.CookieParseError);}},this.determineLocalStorageAvailability=function(a){var b;window.mParticle&&window.mParticle._forceNoLocalStorage&&(a=void 0);try{return a.setItem(\"mparticle\",\"test\"),b=\"test\"===a.getItem(\"mparticle\"),a.removeItem(\"mparticle\"),b&&a}catch(a){return !1}},this.getUserProductsFromLS=function(b){if(!a._Store.isLocalStorageAvailable)return [];var c,d,e,f=localStorage.getItem(a._Store.prodStorageName);// if there is an MPID, we are retrieving the user's products, which is an array\nif(f&&(c=Base64$1.decode(f)),b)try{return c&&(e=JSON.parse(c)),d=c&&e[b]&&e[b].cp&&Array.isArray(e[b].cp)?e[b].cp:[],d}catch(a){return []}else return []},this.getAllUserProductsFromLS=function(){var b,c,d=localStorage.getItem(a._Store.prodStorageName);d&&(b=Base64$1.decode(d));// returns an object with keys of MPID and values of array of products\ntry{c=JSON.parse(b);}catch(a){c={};}return c},this.setLocalStorage=function(){if(a._Store.isLocalStorageAvailable){var c=a._Store.storageName,d=f.getAllUserProductsFromLS(),e=f.getLocalStorage()||{},g=a.Identity.getCurrentUser(),h=g?g.getMPID():null,i={cp:d[h]?d[h].cp:[]};if(h){d=d||{},d[h]=i;try{window.localStorage.setItem(encodeURIComponent(a._Store.prodStorageName),Base64$1.encode(JSON.stringify(d)));}catch(b){a.Logger.error(\"Error with setting products on localStorage.\");}}if(!a._Store.SDKConfig.useCookieStorage){e.gs=e.gs||{},e.l=a._Store.isLoggedIn?1:0,a._Store.sessionId&&(e.gs.csm=a._Store.currentSessionMPIDs),e.gs.ie=a._Store.isEnabled,h&&(e.cu=h),Object.keys(a._Store.nonCurrentUserMPIDs).length&&(e=a._Helpers.extend({},e,a._Store.nonCurrentUserMPIDs),a._Store.nonCurrentUserMPIDs={}),e=b(e);try{window.localStorage.setItem(encodeURIComponent(c),f.encodePersistence(JSON.stringify(e)));}catch(b){a.Logger.error(\"Error with setting localStorage item.\");}}}},this.getLocalStorage=function(){if(!a._Store.isLocalStorageAvailable)return null;var b,c=a._Store.storageName,d=f.decodePersistence(window.localStorage.getItem(c)),e={};if(d)for(b in d=JSON.parse(d),d)d.hasOwnProperty(b)&&(e[b]=d[b]);return Object.keys(e).length?e:null},this.expireCookies=function(a){var b,c,d,e=new Date;d=f.getCookieDomain(),c=\"\"===d?\"\":\";domain=\"+d,e.setTime(e.getTime()-86400000),b=\"; expires=\"+e.toUTCString(),document.cookie=a+\"=\"+b+\"; path=/\"+c;},this.getCookie=function(){var b,c,d,g,h,j=window.document.cookie.split(\"; \"),k=a._Store.storageName,m=k?void 0:{};for(a.Logger.verbose(Messages$4.InformationMessages.CookieSearch),b=0,c=j.length;b<c;b++){try{d=j[b].split(\"=\"),g=d.shift(),h=d.join(\"=\");}catch(b){a.Logger.verbose(\"Unable to parse cookie: \"+g+\". Skipping.\");}if(k&&k===g){m=a._Helpers.converted(h);break}k||(m[g]=a._Helpers.converted(h));}return m?(a.Logger.verbose(Messages$4.InformationMessages.CookieFound),JSON.parse(f.decodePersistence(m))):null},this.setCookie=function(){var c,d=a.Identity.getCurrentUser();d&&(c=d.getMPID());var e,g,h,i=new Date,j=a._Store.storageName,k=f.getCookie()||{},l=new Date(i.getTime()+1e3*(60*(60*(24*a._Store.SDKConfig.cookieExpiration)))).toGMTString();e=f.getCookieDomain(),g=\"\"===e?\"\":\";domain=\"+e,k.gs=k.gs||{},a._Store.sessionId&&(k.gs.csm=a._Store.currentSessionMPIDs),c&&(k.cu=c),k.l=a._Store.isLoggedIn?1:0,k=b(k),Object.keys(a._Store.nonCurrentUserMPIDs).length&&(k=a._Helpers.extend({},k,a._Store.nonCurrentUserMPIDs),a._Store.nonCurrentUserMPIDs={}),h=f.reduceAndEncodePersistence(k,l,g,a._Store.SDKConfig.maxCookieSize),a.Logger.verbose(Messages$4.InformationMessages.CookieSet),window.document.cookie=encodeURIComponent(j)+\"=\"+h;},this.reduceAndEncodePersistence=function(b,c,e,f){var g,h=b.gs.csm?b.gs.csm:[];// Comment 1 above\nif(!h.length)for(var j in b)b.hasOwnProperty(j)&&(g=d(b,c,e),g.length>f&&!SDKv2NonMPIDCookieKeys[j]&&j!==b.cu&&delete b[j]);else {// Comment 2 above - First create an object of all MPIDs on the cookie\nvar k={};for(var l in b)b.hasOwnProperty(l)&&(SDKv2NonMPIDCookieKeys[l]||l===b.cu||(k[l]=1));// Comment 2a above\nif(Object.keys(k).length)for(var m in k)g=d(b,c,e),g.length>f&&k.hasOwnProperty(m)&&-1===h.indexOf(m)&&delete b[m];// Comment 2b above\nfor(var n,o=0;o<h.length&&(g=d(b,c,e),g.length>f);o++)n=h[o],b[n]?(a.Logger.verbose(\"Size of new encoded cookie is larger than maxCookieSize setting of \"+f+\". Removing from cookie the earliest logged in MPID containing: \"+JSON.stringify(b[n],0,2)),delete b[n]):a.Logger.error(\"Unable to save MPID data to cookies because the resulting encoded cookie is larger than the maxCookieSize setting of \"+f+\". We recommend using a maxCookieSize of 1500.\");}return g},this.findPrevCookiesBasedOnUI=function(b){var c,d=a._Persistence.getPersistence();if(b)for(var e in b.userIdentities)if(d&&Object.keys(d).length)for(var g in d)// any value in persistence that has an MPID key will be an MPID to search through\n// other keys on the cookie are currentSessionMPIDs and currentMPID which should not be searched\nif(d[g].mpid){var h=d[g].ui;for(var i in h)if(e===i&&b.userIdentities[e]===h[i]){c=g;break}}c&&f.storeDataInMemory(d,c);},this.encodePersistence=function(b){for(var c in b=JSON.parse(b),b.gs)b.gs.hasOwnProperty(c)&&(Base64CookieKeys[c]?b.gs[c]?Array.isArray(b.gs[c])&&b.gs[c].length||a._Helpers.isObject(b.gs[c])&&Object.keys(b.gs[c]).length?b.gs[c]=Base64$1.encode(JSON.stringify(b.gs[c])):delete b.gs[c]:delete b.gs[c]:\"ie\"===c?b.gs[c]=b.gs[c]?1:0:!b.gs[c]&&delete b.gs[c]);for(var d in b)if(b.hasOwnProperty(d)&&!SDKv2NonMPIDCookieKeys[d])for(c in b[d])b[d].hasOwnProperty(c)&&Base64CookieKeys[c]&&(a._Helpers.isObject(b[d][c])&&Object.keys(b[d][c]).length?b[d][c]=Base64$1.encode(JSON.stringify(b[d][c])):delete b[d][c]);return f.createCookieString(JSON.stringify(b))},this.decodePersistence=function(b){try{if(b){if(b=JSON.parse(f.revertCookieString(b)),a._Helpers.isObject(b)&&Object.keys(b).length){for(var c in b.gs)b.gs.hasOwnProperty(c)&&(Base64CookieKeys[c]?b.gs[c]=JSON.parse(Base64$1.decode(b.gs[c])):\"ie\"===c&&(b.gs[c]=!!b.gs[c]));for(var d in b)if(b.hasOwnProperty(d))if(!SDKv2NonMPIDCookieKeys[d])for(c in b[d])b[d].hasOwnProperty(c)&&Base64CookieKeys[c]&&b[d][c].length&&(b[d][c]=JSON.parse(Base64$1.decode(b[d][c])));else \"l\"===d&&(b[d]=!!b[d]);}return JSON.stringify(b)}}catch(b){a.Logger.error(\"Problem with decoding cookie\",b);}},this.replaceCommasWithPipes=function(a){return a.replace(/,/g,\"|\")},this.replacePipesWithCommas=function(a){return a.replace(/\\|/g,\",\")},this.replaceApostrophesWithQuotes=function(a){return a.replace(/\\'/g,\"\\\"\")},this.replaceQuotesWithApostrophes=function(a){return a.replace(/\\\"/g,\"'\")},this.createCookieString=function(a){return f.replaceCommasWithPipes(f.replaceQuotesWithApostrophes(a))},this.revertCookieString=function(a){return f.replacePipesWithCommas(f.replaceApostrophesWithQuotes(a))},this.getCookieDomain=function(){if(a._Store.SDKConfig.cookieDomain)return a._Store.SDKConfig.cookieDomain;var b=f.getDomain(document,location.hostname);return \"\"===b?\"\":\".\"+b},this.getDomain=function(a,b){var c,d,e=b.split(\".\");for(c=e.length-1;0<=c;c--)if(d=e.slice(c).join(\".\"),a.cookie=\"mptest=cookie;domain=.\"+d+\";\",-1<a.cookie.indexOf(\"mptest=cookie\"))return a.cookie=\"mptest=;domain=.\"+d+\";expires=Thu, 01 Jan 1970 00:00:01 GMT;\",d;return \"\"},this.getUserIdentities=function(a){var b=f.getPersistence();return b&&b[a]&&b[a].ui?b[a].ui:{}},this.getAllUserAttributes=function(a){var b=f.getPersistence();return b&&b[a]&&b[a].ua?b[a].ua:{}},this.getCartProducts=function(b){var c,d=localStorage.getItem(a._Store.prodStorageName);return d&&(c=JSON.parse(Base64$1.decode(d)),c&&c[b]&&c[b].cp)?c[b].cp:[]},this.setCartProducts=function(b){if(a._Store.isLocalStorageAvailable)try{window.localStorage.setItem(encodeURIComponent(a._Store.prodStorageName),Base64$1.encode(JSON.stringify(b)));}catch(b){a.Logger.error(\"Error with setting products on localStorage.\");}},this.saveUserIdentitiesToPersistence=function(a,b){if(b){var c=f.getPersistence();c&&(c[a]?c[a].ui=b:c[a]={ui:b},f.savePersistence(c));}},this.saveUserAttributesToPersistence=function(a,b){var c=f.getPersistence();b&&(c&&(c[a]?c[a].ui=b:c[a]={ui:b}),f.savePersistence(c));},this.saveUserCookieSyncDatesToPersistence=function(a,b){if(b){var c=f.getPersistence();c&&(c[a]?c[a].csd=b:c[a]={csd:b}),f.savePersistence(c);}},this.saveUserConsentStateToCookies=function(b,c){//it's currently not supported to set persistence\n//for any MPID that's not the current one.\nif(c||null===c){var d=f.getPersistence();d&&(d[b]?d[b].con=a._Consent.ConsentSerialization.toMinifiedJsonObject(c):d[b]={con:a._Consent.ConsentSerialization.toMinifiedJsonObject(c)},f.savePersistence(d));}},this.savePersistence=function(b){var c,d=f.encodePersistence(JSON.stringify(b)),e=new Date,g=a._Store.storageName,h=new Date(e.getTime()+1e3*(60*(60*(24*a._Store.SDKConfig.cookieExpiration)))).toGMTString(),i=f.getCookieDomain();if(c=\"\"===i?\"\":\";domain=\"+i,a._Store.SDKConfig.useCookieStorage){var j=f.reduceAndEncodePersistence(b,h,c,a._Store.SDKConfig.maxCookieSize);window.document.cookie=encodeURIComponent(g)+\"=\"+j;}else a._Store.isLocalStorageAvailable&&localStorage.setItem(a._Store.storageName,d);},this.getPersistence=function(){var a=this.useLocalStorage()?this.getLocalStorage():this.getCookie();return a},this.getConsentState=function(b){var c=f.getPersistence();return c&&c[b]&&c[b].con?a._Consent.ConsentSerialization.fromMinifiedJsonObject(c[b].con):null},this.getFirstSeenTime=function(a){if(!a)return null;var b=f.getPersistence();return b&&b[a]&&b[a].fst?b[a].fst:null},this.setFirstSeenTime=function(a,b){if(a){b||(b=new Date().getTime());var c=f.getPersistence();c&&(!c[a]&&(c[a]={}),!c[a].fst&&(c[a].fst=b,f.savePersistence(c)));}},this.getLastSeenTime=function(b){if(!b)return null;if(b===a.Identity.getCurrentUser().getMPID())//if the mpid is the current user, its last seen time is the current time\nreturn new Date().getTime();var c=f.getPersistence();return c&&c[b]&&c[b].lst?c[b].lst:null},this.setLastSeenTime=function(a,b){if(a){b||(b=new Date().getTime());var c=f.getPersistence();c&&c[a]&&(c[a].lst=b,f.savePersistence(c));}},this.getDeviceId=function(){return a._Store.deviceId},this.setDeviceId=function(b){a._Store.deviceId=b,f.update();},this.resetPersistence=function(){if(c(StorageNames$1.localStorageName),c(StorageNames$1.localStorageNameV3),c(StorageNames$1.localStorageNameV4),c(a._Store.prodStorageName),c(a._Store.storageName),c(StorageNames$1.localStorageProductsV4),f.expireCookies(StorageNames$1.cookieName),f.expireCookies(StorageNames$1.cookieNameV2),f.expireCookies(StorageNames$1.cookieNameV3),f.expireCookies(StorageNames$1.cookieNameV4),f.expireCookies(a._Store.prodStorageName),f.expireCookies(a._Store.storageName),mParticle._isTestEnv){c(a._Helpers.createMainStorageName(\"abcdef\")),f.expireCookies(a._Helpers.createMainStorageName(\"abcdef\")),c(a._Helpers.createProductStorageName(\"abcdef\"));}},this.forwardingStatsBatches={uploadsTable:{},forwardingStatsEventQueue:[]};}\n\nvar Messages$3=Constants.Messages;function Events(a){var b=this;this.logEvent=function(b,c){if(a.Logger.verbose(Messages$3.InformationMessages.StartingLogEvent+\": \"+b.name),a._Helpers.canLog()){var d=a._ServerModel.createEventObject(b);a._APIClient.sendEventToServer(d,c);}else a.Logger.verbose(Messages$3.InformationMessages.AbandonLogEvent);},this.startTracking=function(b){function c(b,c){if(b)try{c?b(c):b();}catch(b){a.Logger.error(\"Error invoking the callback passed to startTrackingLocation.\"),a.Logger.error(b);}}if(!a._Store.isTracking)\"geolocation\"in navigator&&(a._Store.watchPositionId=navigator.geolocation.watchPosition(function e(d){// prevents callback from being fired multiple times\na._Store.currentPosition={lat:d.coords.latitude,lng:d.coords.longitude},c(b,d),b=null,a._Store.isTracking=!0;},function d(){// prevents callback from being fired multiple times\nc(b),b=null,a._Store.isTracking=!1;}));else {var d={coords:{latitude:a._Store.currentPosition.lat,longitude:a._Store.currentPosition.lng}};c(b,d);}},this.stopTracking=function(){a._Store.isTracking&&(navigator.geolocation.clearWatch(a._Store.watchPositionId),a._Store.currentPosition=null,a._Store.isTracking=!1);},this.logOptOut=function(){a.Logger.verbose(Messages$3.InformationMessages.StartingLogOptOut);var b=a._ServerModel.createEventObject({messageType:Types.MessageType.OptOut,eventType:Types.EventType.Other});a._APIClient.sendEventToServer(b);},this.logAST=function(){b.logEvent({messageType:Types.MessageType.AppStateTransition});},this.logCheckoutEvent=function(c,d,e,f){var g=a._Ecommerce.createCommerceEventObject(f);g&&(g.EventName+=a._Ecommerce.getProductActionEventName(Types.ProductActionType.Checkout),g.EventCategory=Types.CommerceEventType.ProductCheckout,g.ProductAction={ProductActionType:Types.ProductActionType.Checkout,CheckoutStep:c,CheckoutOptions:d,ProductList:[]},b.logCommerceEvent(g,e));},this.logProductActionEvent=function(c,d,e,f,g,h){var i=a._Ecommerce.createCommerceEventObject(f),j=Array.isArray(d)?d:[d];j.forEach(function(b){b.TotalAmount&&(b.TotalAmount=a._Ecommerce.sanitizeAmount(b.TotalAmount,\"TotalAmount\")),b.Position&&(b.Position=a._Ecommerce.sanitizeAmount(b.Position,\"Position\")),b.Price&&(b.Price=a._Ecommerce.sanitizeAmount(b.Price,\"Price\")),b.Quantity&&(b.Quantity=a._Ecommerce.sanitizeAmount(b.Quantity,\"Quantity\"));}),i&&(i.EventCategory=a._Ecommerce.convertProductActionToEventType(c),i.EventName+=a._Ecommerce.getProductActionEventName(c),i.ProductAction={ProductActionType:c,ProductList:j},a._Helpers.isObject(g)&&a._Ecommerce.convertTransactionAttributesToProductAction(g,i.ProductAction),b.logCommerceEvent(i,e,h));},this.logPurchaseEvent=function(c,d,e,f){var g=a._Ecommerce.createCommerceEventObject(f);g&&(g.EventName+=a._Ecommerce.getProductActionEventName(Types.ProductActionType.Purchase),g.EventCategory=Types.CommerceEventType.ProductPurchase,g.ProductAction={ProductActionType:Types.ProductActionType.Purchase},g.ProductAction.ProductList=a._Ecommerce.buildProductList(g,d),a._Ecommerce.convertTransactionAttributesToProductAction(c,g.ProductAction),b.logCommerceEvent(g,e));},this.logRefundEvent=function(c,d,e,f){if(!c)return void a.Logger.error(Messages$3.ErrorMessages.TransactionRequired);var g=a._Ecommerce.createCommerceEventObject(f);g&&(g.EventName+=a._Ecommerce.getProductActionEventName(Types.ProductActionType.Refund),g.EventCategory=Types.CommerceEventType.ProductRefund,g.ProductAction={ProductActionType:Types.ProductActionType.Refund},g.ProductAction.ProductList=a._Ecommerce.buildProductList(g,d),a._Ecommerce.convertTransactionAttributesToProductAction(c,g.ProductAction),b.logCommerceEvent(g,e));},this.logPromotionEvent=function(c,d,e,f,g){var h=a._Ecommerce.createCommerceEventObject(f);h&&(h.EventName+=a._Ecommerce.getPromotionActionEventName(c),h.EventCategory=a._Ecommerce.convertPromotionActionToEventType(c),h.PromotionAction={PromotionActionType:c,PromotionList:Array.isArray(d)?d:[d]},b.logCommerceEvent(h,e,g));},this.logImpressionEvent=function(c,d,e,f){var g=a._Ecommerce.createCommerceEventObject(e);g&&(g.EventName+=\"Impression\",g.EventCategory=Types.CommerceEventType.ProductImpression,!Array.isArray(c)&&(c=[c]),g.ProductImpressions=[],c.forEach(function(a){g.ProductImpressions.push({ProductImpressionList:a.Name,ProductList:Array.isArray(a.Product)?a.Product:[a.Product]});}),b.logCommerceEvent(g,d,f));},this.logCommerceEvent=function(b,c,d){// If a developer typos the ProductActionType, the event category will be\n// null, resulting in kit forwarding errors on the server.\n// The check for `ProductAction` is required to denote that these are\n// ProductAction events, and not impression or promotions\nreturn a.Logger.verbose(Messages$3.InformationMessages.StartingLogCommerceEvent),b.ProductAction&&null===b.EventCategory?void a.Logger.error(\"Commerce event not sent.  The mParticle.ProductActionType you passed was invalid. Re-check your code.\"):void(c=a._Helpers.sanitizeAttributes(c,b.EventName),a._Helpers.canLog()?(a._Store.webviewBridgeEnabled&&(b.ShoppingCart={}),c&&(b.EventAttributes=c),a._APIClient.sendEventToServer(b,d),a._Persistence.update()):a.Logger.verbose(Messages$3.InformationMessages.AbandonLogEvent))},this.addEventHandler=function(c,d,f,g,h){var j,k,e=[],l=function handler(c){var d=function timeoutHandler(){j.href?window.location.href=j.href:j.submit&&j.submit();};a.Logger.verbose(\"DOM event triggered, handling event\"),b.logEvent({messageType:Types.MessageType.PageEvent,name:\"function\"==typeof f?f(j):f,data:\"function\"==typeof g?g(j):g,eventType:h||Types.EventType.Other}),(j.href&&\"_blank\"!==j.target||j.submit)&&(c.preventDefault?c.preventDefault():c.returnValue=!1,setTimeout(d,a._Store.SDKConfig.timeout));};if(!d)return void a.Logger.error(\"Can't bind event, selector is required\");// Handle a css selector string or a dom element\nif(\"string\"==typeof d?e=document.querySelectorAll(d):d.nodeType&&(e=[d]),e.length)for(a.Logger.verbose(\"Found \"+e.length+\" element\"+(1<e.length?\"s\":\"\")+\", attaching event handlers\"),k=0;k<e.length;k++)j=e[k],j.addEventListener?j.addEventListener(c,l,!1):j.attachEvent?j.attachEvent(\"on\"+c,l):j[\"on\"+c]=l;else a.Logger.verbose(\"No elements found\");};}\n\nvar StorageNames=Constants.StorageNames,Base64=Polyfill.Base64,CookiesGlobalSettingsKeys={das:1},MPIDKeys={ui:1};function Migrations(a){function b(){var b,d,f,g,j,k,m=window.document.cookie.split(\"; \");for(a.Logger.verbose(Constants.Messages.InformationMessages.CookieSearch),d=0,f=m.length;d<f;d++){try{g=m[d].split(\"=\"),j=a._Helpers.decoded(g.shift()),k=a._Helpers.decoded(g.join(\"=\"));}catch(b){a.Logger.verbose(\"Unable to parse cookie: \"+j+\". Skipping.\");}//most recent version needs no migration\nif(j===a._Store.storageName)return;if(j===StorageNames.cookieNameV4)return c(k,StorageNames.cookieNameV4),void(a._Store.isLocalStorageAvailable&&e());// migration path for SDKv1CookiesV3, doesn't need to be encoded\nif(j===StorageNames.cookieNameV3){b=h.convertSDKv1CookiesV3ToSDKv2CookiesV4(k),c(b,StorageNames.cookieNameV3);break}}}function c(b,c){var d,e,f=new Date,g=a._Persistence.getCookieDomain();d=new Date(f.getTime()+1e3*(60*(60*(24*StorageNames.CookieExpiration)))).toGMTString(),e=\"\"===g?\"\":\";domain=\"+g,a.Logger.verbose(Constants.Messages.InformationMessages.CookieSet),window.document.cookie=encodeURIComponent(a._Store.storageName)+\"=\"+b+\";expires=\"+d+\";path=/\"+e,a._Persistence.expireCookies(c),a._Store.migratingToIDSyncCookies=!0;}function d(b){try{var c={gs:{csm:[]}};for(var d in b=JSON.parse(b),b)b.hasOwnProperty(d)&&(CookiesGlobalSettingsKeys[d]?c.gs[d]=b[d]:\"mpid\"===d?c.cu=b[d]:b.mpid&&(c[b.mpid]=c[b.mpid]||{},MPIDKeys[d]&&(c[b.mpid][d]=b[d])));return JSON.stringify(c)}catch(b){a.Logger.error(\"Failed to restructure previous cookie into most current cookie schema\");}}function e(){var b=StorageNames.localStorageProductsV4,c=localStorage.getItem(StorageNames.localStorageProductsV4);localStorage.setItem(a._Store.prodStorageName,c),localStorage.removeItem(b);}function f(b,c){if(a._Store.isLocalStorageAvailable){var d={};if(d[c]={},b.cp){try{d[c].cp=JSON.parse(Base64.decode(b.cp));}catch(a){d[c].cp=b.cp;}Array.isArray(d[c].cp)||(d[c].cp=[]);}localStorage.setItem(a._Store.prodStorageName,Base64.encode(JSON.stringify(d)));}}function g(){function b(b,c){try{window.localStorage.setItem(encodeURIComponent(a._Store.storageName),b);}catch(b){a.Logger.error(\"Error with setting localStorage item.\");}window.localStorage.removeItem(encodeURIComponent(c));}var c,d,g,i,j=StorageNames.localStorageNameV3,k=StorageNames.localStorageNameV4,l=window.localStorage.getItem(a._Store.storageName);if(!l){if(d=window.localStorage.getItem(k),d)return b(d,k),void e();if(g=window.localStorage.getItem(j),g){// localStorage may contain only products, or the full persistence\n// when there is an MPID on the cookie, it is the full persistence\nif(a._Store.migratingToIDSyncCookies=!0,i=g.slice(),g=JSON.parse(a._Persistence.replacePipesWithCommas(a._Persistence.replaceApostrophesWithQuotes(g))),g.mpid)return g=JSON.parse(h.convertSDKv1CookiesV3ToSDKv2CookiesV4(i)),void b(JSON.stringify(g),j);// if no MPID, it is only the products\nif((g.cp||g.pb)&&!g.mpid)return c=a._Persistence.getCookie(),c?(f(g,c.cu),void localStorage.removeItem(StorageNames.localStorageNameV3)):void localStorage.removeItem(StorageNames.localStorageNameV3)}}}var h=this;//  if there is a cookie or localStorage:\n//  1. determine which version it is ('mprtcl-api', 'mprtcl-v2', 'mprtcl-v3', 'mprtcl-v4')\n//  2. return if 'mprtcl-v4', otherwise migrate to mprtclv4 schema\n// 3. if 'mprtcl-api', could be JSSDKv2 or JSSDKv1. JSSDKv2 cookie has a 'globalSettings' key on it\nthis.migrate=function(){try{b();}catch(b){a._Persistence.expireCookies(StorageNames.cookieNameV3),a._Persistence.expireCookies(StorageNames.cookieNameV4),a.Logger.error(\"Error migrating cookie: \"+b);}if(a._Store.isLocalStorageAvailable)try{g();}catch(b){localStorage.removeItem(StorageNames.localStorageNameV3),localStorage.removeItem(StorageNames.localStorageNameV4),a.Logger.error(\"Error migrating localStorage: \"+b);}},this.convertSDKv1CookiesV3ToSDKv2CookiesV4=function(b){b=a._Persistence.replacePipesWithCommas(a._Persistence.replaceApostrophesWithQuotes(b));var c=JSON.parse(b),e=JSON.parse(d(b));return c.mpid&&(e.gs.csm.push(c.mpid),e.gs.csm=Base64.encode(JSON.stringify(e.gs.csm)),f(c,c.mpid)),JSON.stringify(e)};}\n\nfunction filteredMparticleUser(a,b,c,d){var e=this;return {getUserIdentities:function getUserIdentities(){var e={},f=c._Persistence.getUserIdentities(a);for(var g in f)if(f.hasOwnProperty(g)){var h=Types.IdentityType.getIdentityName(c._Helpers.parseNumber(g));d&&(!d||d.isIdentityBlocked(h))||(//if identity type is not blocked\ne[h]=f[g]);}return e=c._Helpers.filterUserIdentitiesForForwarders(e,b.userIdentityFilters),{userIdentities:e}},getMPID:function getMPID(){return a},getUserAttributesLists:function getUserAttributesLists(a){var b,f={};for(var g in b=e.getAllUserAttributes(),b)b.hasOwnProperty(g)&&Array.isArray(b[g])&&(d&&(!d||d.isAttributeKeyBlocked(g))||(f[g]=b[g].slice()));return f=c._Helpers.filterUserAttributes(f,a.userAttributeFilters),f},getAllUserAttributes:function getAllUserAttributes(){var e={},f=c._Persistence.getAllUserAttributes(a);if(f)for(var g in f)f.hasOwnProperty(g)&&(d&&(!d||d.isAttributeKeyBlocked(g))||(Array.isArray(f[g])?e[g]=f[g].slice():e[g]=f[g]));return e=c._Helpers.filterUserAttributes(e,b.userAttributeFilters),e}}}\n\nfunction Forwarders(a,b){var c=this;this.initForwarders=function(b,d){var e=a.Identity.getCurrentUser();!a._Store.webviewBridgeEnabled&&a._Store.configuredForwarders&&(a._Store.configuredForwarders.sort(function(a,b){return a.settings.PriorityValue=a.settings.PriorityValue||0,b.settings.PriorityValue=b.settings.PriorityValue||0,-1*(a.settings.PriorityValue-b.settings.PriorityValue)}),a._Store.activeForwarders=a._Store.configuredForwarders.filter(function(f){if(!a._Consent.isEnabledForUserConsent(f.filteringConsentRuleValues,e))return !1;if(!c.isEnabledForUserAttributes(f.filteringUserAttributeValue,e))return !1;if(!c.isEnabledForUnknownUser(f.excludeAnonymousUser,e))return !1;var g=a._Helpers.filterUserIdentities(b,f.userIdentityFilters),h=a._Helpers.filterUserAttributes(e?e.getAllUserAttributes():{},f.userAttributeFilters);return f.initialized||(f.init(f.settings,d,!1,null,h,g,a._Store.SDKConfig.appVersion,a._Store.SDKConfig.appName,a._Store.SDKConfig.customFlags,a._Store.clientId),f.initialized=!0),!0}));},this.isEnabledForUserAttributes=function(b,c){if(!b||!a._Helpers.isObject(b)||!Object.keys(b).length)return !0;var d,e,f;if(!c)return !1;f=c.getAllUserAttributes();var g=!1;try{if(f&&a._Helpers.isObject(f)&&Object.keys(f).length)for(var h in f)if(f.hasOwnProperty(h)&&(d=a._Helpers.generateHash(h).toString(),e=a._Helpers.generateHash(f[h]).toString(),d===b.userAttributeName&&e===b.userAttributeValue)){g=!0;break}return !b||b.includeOnMatch===g}catch(a){// in any error scenario, err on side of returning true and forwarding event\nreturn !0}},this.isEnabledForUnknownUser=function(a,b){return !!(b&&b.isLoggedIn()||!a)},this.applyToForwarders=function(b,c){a._Store.activeForwarders.length&&a._Store.activeForwarders.forEach(function(d){var e=d[b];if(e)try{var f=d[b](c);f&&a.Logger.verbose(f);}catch(b){a.Logger.verbose(b);}});},this.sendEventToForwarders=function(b){var c,d,e,f=function(b,c){b.UserIdentities&&b.UserIdentities.length&&b.UserIdentities.forEach(function(d,e){a._Helpers.inArray(c,d.Type)&&(b.UserIdentities.splice(e,1),0<e&&e--);});},g=function(b,c){var d;if(c)for(var e in b.EventAttributes)b.EventAttributes.hasOwnProperty(e)&&(d=a._Helpers.generateHash(b.EventCategory+b.EventName+e),a._Helpers.inArray(c,d)&&delete b.EventAttributes[e]);},h=function(b,c){return !!(b&&b.length&&a._Helpers.inArray(b,c))},j=[Types.MessageType.PageEvent,Types.MessageType.PageView,Types.MessageType.Commerce];if(!a._Store.webviewBridgeEnabled&&a._Store.activeForwarders){d=a._Helpers.generateHash(b.EventCategory+b.EventName),e=a._Helpers.generateHash(b.EventCategory);for(var k=0;k<a._Store.activeForwarders.length;k++){// Check attribute forwarding rule. This rule allows users to only forward an event if a\n// specific attribute exists and has a specific value. Alternatively, they can specify\n// that an event not be forwarded if the specified attribute name and value exists.\n// The two cases are controlled by the \"includeOnMatch\" boolean value.\n// Supported message types for attribute forwarding rules are defined in the forwardingRuleMessageTypes array\nif(-1<j.indexOf(b.EventDataType)&&a._Store.activeForwarders[k].filteringEventAttributeValue&&a._Store.activeForwarders[k].filteringEventAttributeValue.eventAttributeName&&a._Store.activeForwarders[k].filteringEventAttributeValue.eventAttributeValue){var l=null;// Attempt to find the attribute in the collection of event attributes\nif(b.EventAttributes)for(var m in b.EventAttributes){var n;if(n=a._Helpers.generateHash(m).toString(),n===a._Store.activeForwarders[k].filteringEventAttributeValue.eventAttributeName&&(l={name:n,value:a._Helpers.generateHash(b.EventAttributes[m]).toString()}),l)break}var o=null!==l&&l.value===a._Store.activeForwarders[k].filteringEventAttributeValue.eventAttributeValue,p=!0===a._Store.activeForwarders[k].filteringEventAttributeValue.includeOnMatch?o:!o;if(!p)continue}// Clone the event object, as we could be sending different attributes to each forwarder\n// Check event filtering rules\nif(c={},c=a._Helpers.extend(!0,c,b),b.EventDataType===Types.MessageType.PageEvent&&(h(a._Store.activeForwarders[k].eventNameFilters,d)||h(a._Store.activeForwarders[k].eventTypeFilters,e)))continue;else if(b.EventDataType===Types.MessageType.Commerce&&h(a._Store.activeForwarders[k].eventTypeFilters,e))continue;else if(b.EventDataType===Types.MessageType.PageView&&h(a._Store.activeForwarders[k].screenNameFilters,d))continue;// Check attribute filtering rules\nif(c.EventAttributes&&(b.EventDataType===Types.MessageType.PageEvent?g(c,a._Store.activeForwarders[k].attributeFilters):b.EventDataType===Types.MessageType.PageView&&g(c,a._Store.activeForwarders[k].screenAttributeFilters)),f(c,a._Store.activeForwarders[k].userIdentityFilters),c.UserAttributes=a._Helpers.filterUserAttributes(c.UserAttributes,a._Store.activeForwarders[k].userAttributeFilters),a._Store.activeForwarders[k].process){a.Logger.verbose(\"Sending message to forwarder: \"+a._Store.activeForwarders[k].name);var q=a._Store.activeForwarders[k].process(c);q&&a.Logger.verbose(q);}}}},this.callSetUserAttributeOnForwarders=function(c,d){b&&b.isAttributeKeyBlocked(c)||a._Store.activeForwarders.length&&a._Store.activeForwarders.forEach(function(b){if(b.setUserAttribute&&b.userAttributeFilters&&!a._Helpers.inArray(b.userAttributeFilters,a._Helpers.generateHash(c)))try{var e=b.setUserAttribute(c,d);e&&a.Logger.verbose(e);}catch(b){a.Logger.error(b);}});},this.setForwarderUserIdentities=function(b){a._Store.activeForwarders.forEach(function(c){var d=a._Helpers.filterUserIdentities(b,c.userIdentityFilters);c.setUserIdentity&&d.forEach(function(b){var d=c.setUserIdentity(b.Identity,b.Type);d&&a.Logger.verbose(d);});});},this.setForwarderOnUserIdentified=function(c){a._Store.activeForwarders.forEach(function(d){var e=filteredMparticleUser(c.getMPID(),d,a,b);if(d.onUserIdentified){var f=d.onUserIdentified(e);f&&a.Logger.verbose(f);}});},this.setForwarderOnIdentityComplete=function(c,d){var e;a._Store.activeForwarders.forEach(function(f){var g=filteredMparticleUser(c.getMPID(),f,a,b);\"identify\"===d?f.onIdentifyComplete&&(e=f.onIdentifyComplete(g),e&&a.Logger.verbose(e)):\"login\"===d?f.onLoginComplete&&(e=f.onLoginComplete(g),e&&a.Logger.verbose(e)):\"logout\"===d?f.onLogoutComplete&&(e=f.onLogoutComplete(g),e&&a.Logger.verbose(e)):\"modify\"==d&&f.onModifyComplete&&(e=f.onModifyComplete(g),e&&a.Logger.verbose(e));});},this.getForwarderStatsQueue=function(){return a._Persistence.forwardingStatsBatches.forwardingStatsEventQueue},this.setForwarderStatsQueue=function(b){a._Persistence.forwardingStatsBatches.forwardingStatsEventQueue=b;},this.configureForwarder=function(b){var c=null,d=b,e={};// if there are kits inside of mpInstance._Store.SDKConfig.kits, then mParticle is self hosted\nfor(var f in a._Helpers.isObject(a._Store.SDKConfig.kits)&&0<Object.keys(a._Store.SDKConfig.kits).length?e=a._Store.SDKConfig.kits:0<a._preInit.forwarderConstructors.length&&a._preInit.forwarderConstructors.forEach(function(a){e[a.name]=a;}),e)if(f===d.name&&(d.isDebug===a._Store.SDKConfig.isDevelopmentMode||d.isSandbox===a._Store.SDKConfig.isDevelopmentMode)){c=new e[f].constructor,c.id=d.moduleId,c.isSandbox=d.isDebug||d.isSandbox,c.hasSandbox=\"true\"===d.hasDebugString,c.isVisible=d.isVisible,c.settings=d.settings,c.eventNameFilters=d.eventNameFilters,c.eventTypeFilters=d.eventTypeFilters,c.attributeFilters=d.attributeFilters,c.screenNameFilters=d.screenNameFilters,c.screenNameFilters=d.screenNameFilters,c.screenAttributeFilters=d.screenAttributeFilters,c.userIdentityFilters=d.userIdentityFilters,c.userAttributeFilters=d.userAttributeFilters,c.filteringEventAttributeValue=d.filteringEventAttributeValue,c.filteringUserAttributeValue=d.filteringUserAttributeValue,c.eventSubscriptionId=d.eventSubscriptionId,c.filteringConsentRuleValues=d.filteringConsentRuleValues,c.excludeAnonymousUser=d.excludeAnonymousUser,a._Store.configuredForwarders.push(c);break}},this.configurePixel=function(b){(b.isDebug===a._Store.SDKConfig.isDevelopmentMode||b.isProduction!==a._Store.SDKConfig.isDevelopmentMode)&&a._Store.pixelConfigurations.push(b);},this.processForwarders=function(b,d){if(!b)a.Logger.warning(\"No config was passed. Cannot process forwarders\");else try{Array.isArray(b.kitConfigs)&&b.kitConfigs.length&&b.kitConfigs.forEach(function(a){c.configureForwarder(a);}),Array.isArray(b.pixelConfigs)&&b.pixelConfigs.length&&b.pixelConfigs.forEach(function(a){c.configurePixel(a);}),c.initForwarders(a._Store.SDKConfig.identifyRequest.userIdentities,d);}catch(b){a.Logger.error(\"Config was not parsed propertly. Forwarders may not be initialized.\");}};}\n\nvar MessageType=Types.MessageType,ApplicationTransitionType=Types.ApplicationTransitionType;function ServerModel(a){function b(a,b){var c=[];for(var d in b.flags={},a.CustomFlags)c=[],a.CustomFlags.hasOwnProperty(d)&&(Array.isArray(a.CustomFlags[d])?a.CustomFlags[d].forEach(function(a){(\"number\"==typeof a||\"string\"==typeof a||\"boolean\"==typeof a)&&c.push(a.toString());}):(\"number\"==typeof a.CustomFlags[d]||\"string\"==typeof a.CustomFlags[d]||\"boolean\"==typeof a.CustomFlags[d])&&c.push(a.CustomFlags[d].toString()),c.length&&(b.flags[d]=c));}function c(a){return a?a.map(function(a){return d(a)}):[]}function d(b){return {id:a._Helpers.parseStringOrNumber(b.Sku),nm:a._Helpers.parseStringOrNumber(b.Name),pr:a._Helpers.parseNumber(b.Price),qt:a._Helpers.parseNumber(b.Quantity),br:a._Helpers.parseStringOrNumber(b.Brand),va:a._Helpers.parseStringOrNumber(b.Variant),ca:a._Helpers.parseStringOrNumber(b.Category),ps:a._Helpers.parseNumber(b.Position),cc:a._Helpers.parseStringOrNumber(b.CouponCode),tpa:a._Helpers.parseNumber(b.TotalAmount),attrs:b.Attributes}}var e=this;this.appendUserInfo=function(b,c){if(c){if(!b)return c.MPID=null,c.ConsentState=null,c.UserAttributes=null,void(c.UserIdentities=null);if(!(c.MPID&&c.MPID===b.getMPID())){c.MPID=b.getMPID(),c.ConsentState=b.getConsentState(),c.UserAttributes=b.getAllUserAttributes();var d=b.getUserIdentities().userIdentities,e={};for(var f in d){var g=Types.IdentityType.getIdentityType(f);!1!==g&&(e[g]=d[f]);}var h=[];if(a._Helpers.isObject(e)&&Object.keys(e).length)for(var i in e){var j={};j.Identity=e[i],j.Type=a._Helpers.parseNumber(i),h.push(j);}c.UserIdentities=h;}}},this.convertToConsentStateDTO=function(a){if(!a)return null;var b={},c=a.getGDPRConsentState();if(c){var d={};for(var e in b.gdpr=d,c)if(c.hasOwnProperty(e)){var f=c[e];b.gdpr[e]={},\"boolean\"==typeof f.Consented&&(d[e].c=f.Consented),\"number\"==typeof f.Timestamp&&(d[e].ts=f.Timestamp),\"string\"==typeof f.ConsentDocument&&(d[e].d=f.ConsentDocument),\"string\"==typeof f.Location&&(d[e].l=f.Location),\"string\"==typeof f.HardwareId&&(d[e].h=f.HardwareId);}}var g=a.getCCPAConsentState();return g&&(b.ccpa={data_sale_opt_out:{c:g.Consented,ts:g.Timestamp,d:g.ConsentDocument,l:g.Location,h:g.HardwareId}}),b},this.createEventObject=function(b,c){var d={},f={},g=b.messageType===Types.MessageType.OptOut?!a._Store.isEnabled:null;if(a._Store.sessionId||b.messageType==Types.MessageType.OptOut||a._Store.webviewBridgeEnabled){f=b.hasOwnProperty(\"toEventAPIObject\")?b.toEventAPIObject():{EventName:b.name||b.messageType,EventCategory:b.eventType,EventAttributes:a._Helpers.sanitizeAttributes(b.data,b.name),SourceMessageId:b.sourceMessageId||a._Helpers.generateUniqueId(),EventDataType:b.messageType,CustomFlags:b.customFlags||{},UserAttributeChanges:b.userAttributeChanges,UserIdentityChanges:b.userIdentityChanges},b.messageType!==Types.MessageType.SessionEnd&&(a._Store.dateLastEventSent=new Date),d={Store:a._Store.serverSettings,SDKVersion:Constants.sdkVersion,SessionId:a._Store.sessionId,SessionStartDate:a._Store.sessionStartDate?a._Store.sessionStartDate.getTime():0,Debug:a._Store.SDKConfig.isDevelopmentMode,Location:a._Store.currentPosition,OptOut:g,ExpandedEventCount:0,AppVersion:a.getAppVersion(),AppName:a.getAppName(),Package:a._Store.SDKConfig[\"package\"],ClientGeneratedId:a._Store.clientId,DeviceId:a._Store.deviceId,IntegrationAttributes:a._Store.integrationAttributes,CurrencyCode:a._Store.currencyCode,DataPlan:a._Store.SDKConfig.dataPlan?a._Store.SDKConfig.dataPlan:{}},f.EventDataType===MessageType.AppStateTransition&&(f.IsFirstRun=a._Store.isFirstRun,f.LaunchReferral=window.location.href||null),f.CurrencyCode=a._Store.currencyCode;var h=c||a.Identity.getCurrentUser();return e.appendUserInfo(h,f),b.messageType===Types.MessageType.SessionEnd&&(f.SessionLength=a._Store.dateLastEventSent.getTime()-a._Store.sessionStartDate.getTime(),f.currentSessionMPIDs=a._Store.currentSessionMPIDs,f.EventAttributes=a._Store.sessionAttributes,a._Store.currentSessionMPIDs=[],a._Store.sessionStartDate=null),d.Timestamp=a._Store.dateLastEventSent.getTime(),a._Helpers.extend({},f,d)}return null},this.convertEventToDTO=function(d){var f={n:d.EventName,et:d.EventCategory,ua:d.UserAttributes,ui:d.UserIdentities,ia:d.IntegrationAttributes,str:d.Store,attrs:d.EventAttributes,sdk:d.SDKVersion,sid:d.SessionId,sl:d.SessionLength,ssd:d.SessionStartDate,dt:d.EventDataType,dbg:d.Debug,ct:d.Timestamp,lc:d.Location,o:d.OptOut,eec:d.ExpandedEventCount,av:d.AppVersion,cgid:d.ClientGeneratedId,das:d.DeviceId,mpid:d.MPID,smpids:d.currentSessionMPIDs};d.DataPlan&&d.DataPlan.PlanId&&(f.dp_id=d.DataPlan.PlanId,d.DataPlan.PlanVersion&&(f.dp_v=d.DataPlan.PlanVersion));var g=e.convertToConsentStateDTO(d.ConsentState);return g&&(f.con=g),d.EventDataType===MessageType.AppStateTransition&&(f.fr=d.IsFirstRun,f.iu=!1,f.at=ApplicationTransitionType.AppInit,f.lr=d.LaunchReferral,f.attrs=null),d.CustomFlags&&b(d,f),d.EventDataType===MessageType.Commerce?(f.cu=d.CurrencyCode,d.ShoppingCart&&(f.sc={pl:c(d.ShoppingCart.ProductList)}),d.ProductAction?f.pd={an:d.ProductAction.ProductActionType,cs:a._Helpers.parseNumber(d.ProductAction.CheckoutStep),co:d.ProductAction.CheckoutOptions,pl:c(d.ProductAction.ProductList),ti:d.ProductAction.TransactionId,ta:d.ProductAction.Affiliation,tcc:d.ProductAction.CouponCode,tr:a._Helpers.parseNumber(d.ProductAction.TotalAmount),ts:a._Helpers.parseNumber(d.ProductAction.ShippingAmount),tt:a._Helpers.parseNumber(d.ProductAction.TaxAmount)}:d.PromotionAction?f.pm={an:d.PromotionAction.PromotionActionType,pl:d.PromotionAction.PromotionList.map(function(a){return {id:a.Id,nm:a.Name,cr:a.Creative,ps:a.Position?a.Position:0}})}:d.ProductImpressions&&(f.pi=d.ProductImpressions.map(function(a){return {pil:a.ProductImpressionList,pl:c(a.ProductList)}}))):d.EventDataType===MessageType.Profile&&(f.pet=d.ProfileMessageType),f};}\n\nfunction forwardingStatsUploader(a){function b(){var b=a._Forwarders.getForwarderStatsQueue(),c=a._Persistence.forwardingStatsBatches.uploadsTable,d=Date.now();for(var e in b.length&&(c[d]={uploading:!1,data:b},a._Forwarders.setForwarderStatsQueue([])),c)(function(b){if(c.hasOwnProperty(b)&&!1===c[b].uploading){var d=function(){4===e.readyState&&(200===e.status||202===e.status?(a.Logger.verbose(\"Successfully sent  \"+e.statusText+\" from server\"),delete c[b]):\"4\"===e.status.toString()[0]?429!==e.status&&delete c[b]:c[b].uploading=!1);},e=a._Helpers.createXHR(d),f=c[b].data;c[b].uploading=!0,a._APIClient.sendBatchForwardingStatsToServer(f,e);}})(e);}this.startForwardingStatsTimer=function(){mParticle._forwardingStatsTimer=setInterval(function(){b();},a._Store.SDKConfig.forwarderStatsTimeout);};}\n\nvar Messages$2=Constants.Messages,HTTPCodes$2=Constants.HTTPCodes;function Identity(t){var s=this;/**\n     * Invoke these methods on the mParticle.Identity object.\n     * Example: mParticle.Identity.getCurrentUser().\n     * @class mParticle.Identity\n     */ /**\n     * Invoke these methods on the mParticle.Identity.getCurrentUser() object.\n     * Example: mParticle.Identity.getCurrentUser().getAllUserAttributes()\n     * @class mParticle.Identity.getCurrentUser()\n     */ /**\n     * Invoke these methods on the mParticle.Identity.getCurrentUser().getCart() object.\n     * Example: mParticle.Identity.getCurrentUser().getCart().add(...);\n     * @class mParticle.Identity.getCurrentUser().getCart()\n     * @deprecated\n     */ // send a user identity change request on identify, login, logout, modify when any values change.\n// compare what identities exist vs what is previously was for the specific user if they were in memory before.\n// if it's the first time the user is logging in, send a user identity change request with\nthis.checkIdentitySwap=function(e,s,r){if(e&&s&&e!==s){var i=t._Persistence.getPersistence();i&&(i.cu=s,i.gs.csm=r,t._Persistence.savePersistence(i));}},this.IdentityRequest={createKnownIdentities:function createKnownIdentities(e,s){var r={};if(e&&e.userIdentities&&t._Helpers.isObject(e.userIdentities))for(var i in e.userIdentities)r[i]=e.userIdentities[i];return r.device_application_stamp=s,r},preProcessIdentityRequest:function preProcessIdentityRequest(e,s,r){t.Logger.verbose(Messages$2.InformationMessages.StartingLogEvent+\": \"+r);var i=t._Helpers.Validators.validateIdentities(e,r);if(!i.valid)return t.Logger.error(\"ERROR: \"+i.error),{valid:!1,error:i.error};if(s&&!t._Helpers.Validators.isFunction(s)){var n=\"The optional callback must be a function. You tried entering a(n) \"+_typeof(s);return t.Logger.error(n),{valid:!1,error:n}}return {valid:!0}},createIdentityRequest:function createIdentityRequest(e,s,r,i,n,o,a){var d={client_sdk:{platform:s,sdk_vendor:r,sdk_version:i},context:o,environment:t._Store.SDKConfig.isDevelopmentMode?\"development\":\"production\",request_id:t._Helpers.generateUniqueId(),request_timestamp_ms:new Date().getTime(),previous_mpid:a||null,known_identities:this.createKnownIdentities(e,n)};return d},createModifyIdentityRequest:function createModifyIdentityRequest(e,s,r,i,n,o){return {client_sdk:{platform:r,sdk_vendor:i,sdk_version:n},context:o,environment:t._Store.SDKConfig.isDevelopmentMode?\"development\":\"production\",request_id:t._Helpers.generateUniqueId(),request_timestamp_ms:new Date().getTime(),identity_changes:this.createIdentityChanges(e,s)}},createIdentityChanges:function createIdentityChanges(e,s){var r,i=[];if(s&&t._Helpers.isObject(s)&&e&&t._Helpers.isObject(e))for(r in s)i.push({old_value:e[r]||null,new_value:s[r],identity_type:r});return i},// takes 2 UI objects keyed by name, combines them, returns them keyed by type\ncombineUserIdentities:function combineUserIdentities(e,s){var r={},i=t._Helpers.extend(e,s);for(var n in i){var o=Types.IdentityType.getIdentityType(n);// this check removes anything that is not whitelisted as an identity type\n!1!==o&&0<=o&&(r[Types.IdentityType.getIdentityType(n)]=i[n]);}return r},createAliasNetworkRequest:function createAliasNetworkRequest(e){return {request_id:t._Helpers.generateUniqueId(),request_type:\"alias\",environment:t._Store.SDKConfig.isDevelopmentMode?\"development\":\"production\",api_key:t._Store.devToken,data:{destination_mpid:e.destinationMpid,source_mpid:e.sourceMpid,start_unixtime_ms:e.startTime,end_unixtime_ms:e.endTime,scope:e.scope,device_application_stamp:t._Store.deviceId}}},convertAliasToNative:function convertAliasToNative(e){return {DestinationMpid:e.destinationMpid,SourceMpid:e.sourceMpid,StartUnixtimeMs:e.startTime,EndUnixtimeMs:e.endTime}},convertToNative:function convertToNative(e){var t=[];if(e&&e.userIdentities){for(var s in e.userIdentities)e.userIdentities.hasOwnProperty(s)&&t.push({Type:Types.IdentityType.getIdentityType(s),Identity:e.userIdentities[s]});return {UserIdentities:t}}}},this.IdentityAPI={HTTPCodes:HTTPCodes$2,/**\n         * Initiate a logout request to the mParticle server\n         * @method identify\n         * @param {Object} identityApiData The identityApiData object as indicated [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/README.md#1-customize-the-sdk)\n         * @param {Function} [callback] A callback function that is called when the identify request completes\n         */identify:function identify(e,r){var i,n=t.Identity.getCurrentUser(),o=t._Identity.IdentityRequest.preProcessIdentityRequest(e,r,\"identify\");if(n&&(i=n.getMPID()),o.valid){var a=t._Identity.IdentityRequest.createIdentityRequest(e,Constants.platform,Constants.sdkVendor,Constants.sdkVersion,t._Store.deviceId,t._Store.context,i);t._Helpers.canLog()?t._Store.webviewBridgeEnabled?(t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Identify,JSON.stringify(t._Identity.IdentityRequest.convertToNative(e))),t._Helpers.invokeCallback(r,HTTPCodes$2.nativeIdentityRequest,\"Identify request sent to native sdk\")):t._IdentityAPIClient.sendIdentityRequest(a,\"identify\",r,e,s.parseIdentityResponse,i):(t._Helpers.invokeCallback(r,HTTPCodes$2.loggingDisabledOrMissingAPIKey,Messages$2.InformationMessages.AbandonLogEvent),t.Logger.verbose(Messages$2.InformationMessages.AbandonLogEvent));}else t._Helpers.invokeCallback(r,HTTPCodes$2.validationIssue,o.error),t.Logger.verbose(o);},/**\n         * Initiate a logout request to the mParticle server\n         * @method logout\n         * @param {Object} identityApiData The identityApiData object as indicated [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/README.md#1-customize-the-sdk)\n         * @param {Function} [callback] A callback function that is called when the logout request completes\n         */logout:function logout(e,r){var i,n=t.Identity.getCurrentUser(),o=t._Identity.IdentityRequest.preProcessIdentityRequest(e,r,\"logout\");if(n&&(i=n.getMPID()),o.valid){var a,d=t._Identity.IdentityRequest.createIdentityRequest(e,Constants.platform,Constants.sdkVendor,Constants.sdkVersion,t._Store.deviceId,t._Store.context,i);t._Helpers.canLog()?t._Store.webviewBridgeEnabled?(t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Logout,JSON.stringify(t._Identity.IdentityRequest.convertToNative(e))),t._Helpers.invokeCallback(r,HTTPCodes$2.nativeIdentityRequest,\"Logout request sent to native sdk\")):(t._IdentityAPIClient.sendIdentityRequest(d,\"logout\",r,e,s.parseIdentityResponse,i),a=t._ServerModel.createEventObject({messageType:Types.MessageType.Profile}),a.ProfileMessageType=Types.ProfileMessageType.Logout,t._Store.activeForwarders.length&&t._Store.activeForwarders.forEach(function(e){e.logOut&&e.logOut(a);})):(t._Helpers.invokeCallback(r,HTTPCodes$2.loggingDisabledOrMissingAPIKey,Messages$2.InformationMessages.AbandonLogEvent),t.Logger.verbose(Messages$2.InformationMessages.AbandonLogEvent));}else t._Helpers.invokeCallback(r,HTTPCodes$2.validationIssue,o.error),t.Logger.verbose(o);},/**\n         * Initiate a login request to the mParticle server\n         * @method login\n         * @param {Object} identityApiData The identityApiData object as indicated [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/README.md#1-customize-the-sdk)\n         * @param {Function} [callback] A callback function that is called when the login request completes\n         */login:function login(e,r){var i,n=t.Identity.getCurrentUser(),o=t._Identity.IdentityRequest.preProcessIdentityRequest(e,r,\"login\");if(n&&(i=n.getMPID()),o.valid){var a=t._Identity.IdentityRequest.createIdentityRequest(e,Constants.platform,Constants.sdkVendor,Constants.sdkVersion,t._Store.deviceId,t._Store.context,i);t._Helpers.canLog()?t._Store.webviewBridgeEnabled?(t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Login,JSON.stringify(t._Identity.IdentityRequest.convertToNative(e))),t._Helpers.invokeCallback(r,HTTPCodes$2.nativeIdentityRequest,\"Login request sent to native sdk\")):t._IdentityAPIClient.sendIdentityRequest(a,\"login\",r,e,s.parseIdentityResponse,i):(t._Helpers.invokeCallback(r,HTTPCodes$2.loggingDisabledOrMissingAPIKey,Messages$2.InformationMessages.AbandonLogEvent),t.Logger.verbose(Messages$2.InformationMessages.AbandonLogEvent));}else t._Helpers.invokeCallback(r,HTTPCodes$2.validationIssue,o.error),t.Logger.verbose(o);},/**\n         * Initiate a modify request to the mParticle server\n         * @method modify\n         * @param {Object} identityApiData The identityApiData object as indicated [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/README.md#1-customize-the-sdk)\n         * @param {Function} [callback] A callback function that is called when the modify request completes\n         */modify:function modify(e,r){var i,n=t.Identity.getCurrentUser(),o=t._Identity.IdentityRequest.preProcessIdentityRequest(e,r,\"modify\");n&&(i=n.getMPID());var a=e&&e.userIdentities?e.userIdentities:{};if(o.valid){var d=t._Identity.IdentityRequest.createModifyIdentityRequest(n?n.getUserIdentities().userIdentities:{},a,Constants.platform,Constants.sdkVendor,Constants.sdkVersion,t._Store.context);t._Helpers.canLog()?t._Store.webviewBridgeEnabled?(t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Modify,JSON.stringify(t._Identity.IdentityRequest.convertToNative(e))),t._Helpers.invokeCallback(r,HTTPCodes$2.nativeIdentityRequest,\"Modify request sent to native sdk\")):t._IdentityAPIClient.sendIdentityRequest(d,\"modify\",r,e,s.parseIdentityResponse,i):(t._Helpers.invokeCallback(r,HTTPCodes$2.loggingDisabledOrMissingAPIKey,Messages$2.InformationMessages.AbandonLogEvent),t.Logger.verbose(Messages$2.InformationMessages.AbandonLogEvent));}else t._Helpers.invokeCallback(r,HTTPCodes$2.validationIssue,o.error),t.Logger.verbose(o);},/**\n         * Returns a user object with methods to interact with the current user\n         * @method getCurrentUser\n         * @return {Object} the current user object\n         */getCurrentUser:function getCurrentUser(){var e;return t._Store?(e=t._Store.mpid,e?(e=t._Store.mpid.slice(),s.mParticleUser(e,t._Store.isLoggedIn)):t._Store.webviewBridgeEnabled?s.mParticleUser():null):null},/**\n         * Returns a the user object associated with the mpid parameter or 'null' if no such\n         * user exists\n         * @method getUser\n         * @param {String} mpid of the desired user\n         * @return {Object} the user for  mpid\n         */getUser:function getUser(e){var r=t._Persistence.getPersistence();return r?r[e]&&!Constants.SDKv2NonMPIDCookieKeys.hasOwnProperty(e)?s.mParticleUser(e):null:null},/**\n         * Returns all users, including the current user and all previous users that are stored on the device.\n         * @method getUsers\n         * @return {Array} array of users\n         */getUsers:function getUsers(){var e=t._Persistence.getPersistence(),r=[];if(e)for(var i in e)Constants.SDKv2NonMPIDCookieKeys.hasOwnProperty(i)||r.push(s.mParticleUser(i));return r.sort(function(e,t){var s=e.getLastSeenTime()||0,r=t.getLastSeenTime()||0;return s>r?-1:1}),r},/**\n         * Initiate an alias request to the mParticle server\n         * @method aliasUsers\n         * @param {Object} aliasRequest  object representing an AliasRequest\n         * @param {Function} [callback] A callback function that is called when the aliasUsers request completes\n         */aliasUsers:function aliasUsers(e,s){var r;if(e.destinationMpid&&e.sourceMpid||(r=Messages$2.ValidationMessages.AliasMissingMpid),e.destinationMpid===e.sourceMpid&&(r=Messages$2.ValidationMessages.AliasNonUniqueMpid),e.startTime&&e.endTime||(r=Messages$2.ValidationMessages.AliasMissingTime),e.startTime>e.endTime&&(r=Messages$2.ValidationMessages.AliasStartBeforeEndTime),r)return t.Logger.warning(r),void t._Helpers.invokeAliasCallback(s,HTTPCodes$2.validationIssue,r);if(!t._Helpers.canLog())t._Helpers.invokeAliasCallback(s,HTTPCodes$2.loggingDisabledOrMissingAPIKey,Messages$2.InformationMessages.AbandonAliasUsers),t.Logger.verbose(Messages$2.InformationMessages.AbandonAliasUsers);else if(t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Alias,JSON.stringify(t._Identity.IdentityRequest.convertAliasToNative(e))),t._Helpers.invokeAliasCallback(s,HTTPCodes$2.nativeIdentityRequest,\"Alias request sent to native sdk\");else {t.Logger.verbose(Messages$2.InformationMessages.StartingAliasRequest+\": \"+e.sourceMpid+\" -> \"+e.destinationMpid);var i=t._Identity.IdentityRequest.createAliasNetworkRequest(e);t._IdentityAPIClient.sendAliasRequest(i,s);}},/**\n         Create a default AliasRequest for 2 MParticleUsers. This will construct the request\n        using the sourceUser's firstSeenTime as the startTime, and its lastSeenTime as the endTime.\n        \n        In the unlikely scenario that the sourceUser does not have a firstSeenTime, which will only\n        be the case if they have not been the current user since this functionality was added, the \n        startTime will be populated with the earliest firstSeenTime out of any stored user. Similarly,\n        if the sourceUser does not have a lastSeenTime, the endTime will be populated with the current time\n        \n        There is a limit to how old the startTime can be, represented by the config field 'aliasMaxWindow', in days.\n        If the startTime falls before the limit, it will be adjusted to the oldest allowed startTime. \n        In rare cases, where the sourceUser's lastSeenTime also falls outside of the aliasMaxWindow limit, \n        after applying this adjustment it will be impossible to create an aliasRequest passes the aliasUsers() \n        validation that the startTime must be less than the endTime \n        */createAliasRequest:function createAliasRequest(e,s){try{if(!s||!e)return t.Logger.error(\"'destinationUser' and 'sourceUser' must both be present\"),null;var r=e.getFirstSeenTime();r||t.Identity.getUsers().forEach(function(e){e.getFirstSeenTime()&&(!r||e.getFirstSeenTime()<r)&&(r=e.getFirstSeenTime());});var i=new Date().getTime()-1e3*(60*(60*(24*t._Store.SDKConfig.aliasMaxWindow))),n=e.getLastSeenTime()||new Date().getTime();return r<i&&(r=i,n<r&&t.Logger.warning(\"Source User has not been seen in the last \"+t._Store.SDKConfig.maxAliasWindow+\" days, Alias Request will likely fail\")),{destinationMpid:s.getMPID(),sourceMpid:e.getMPID(),startTime:r,endTime:n}}catch(s){return t.Logger.error(\"There was a problem with creating an alias request: \"+s),null}}},this.mParticleUser=function(e,s){var r=this;return {/**\n             * Get user identities for current user\n             * @method getUserIdentities\n             * @return {Object} an object with userIdentities as its key\n             */getUserIdentities:function getUserIdentities(){var s={},r=t._Persistence.getUserIdentities(e);for(var i in r)r.hasOwnProperty(i)&&(s[Types.IdentityType.getIdentityName(t._Helpers.parseNumber(i))]=r[i]);return {userIdentities:s}},/**\n             * Get the MPID of the current user\n             * @method getMPID\n             * @return {String} the current user MPID as a string\n             */getMPID:function getMPID(){return e},/**\n             * Sets a user tag\n             * @method setUserTag\n             * @param {String} tagName\n             */setUserTag:function setUserTag(e){return t._Helpers.Validators.isValidKeyValue(e)?void this.setUserAttribute(e,null):void t.Logger.error(Messages$2.ErrorMessages.BadKey)},/**\n             * Removes a user tag\n             * @method removeUserTag\n             * @param {String} tagName\n             */removeUserTag:function removeUserTag(e){return t._Helpers.Validators.isValidKeyValue(e)?void this.removeUserAttribute(e):void t.Logger.error(Messages$2.ErrorMessages.BadKey)},/**\n             * Sets a user attribute\n             * @method setUserAttribute\n             * @param {String} key\n             * @param {String} value\n             */setUserAttribute:function setUserAttribute(s,i){var n,o,a,d;if(t._SessionManager.resetSessionTimer(),t._Helpers.canLog()){if(!t._Helpers.Validators.isValidAttributeValue(i))return void t.Logger.error(Messages$2.ErrorMessages.BadAttribute);if(!t._Helpers.Validators.isValidKeyValue(s))return void t.Logger.error(Messages$2.ErrorMessages.BadKey);if(t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.SetUserAttribute,JSON.stringify({key:s,value:i}));else {n=t._Persistence.getPersistence(),o=this.getAllUserAttributes();var g=t._Helpers.findKeyInObject(o,s);g?(d=!1,a=o[g],delete o[g]):d=!0,o[s]=i,n&&n[e]&&(n[e].ua=o,t._Persistence.savePersistence(n,e)),r.sendUserAttributeChangeEvent(s,i,a,d,!1,this),t._Forwarders.initForwarders(r.IdentityAPI.getCurrentUser().getUserIdentities(),t._APIClient.prepareForwardingStats),t._Forwarders.callSetUserAttributeOnForwarders(s,i);}}},/**\n             * Set multiple user attributes\n             * @method setUserAttributes\n             * @param {Object} user attribute object with keys of the attribute type, and value of the attribute value\n             */setUserAttributes:function setUserAttributes(e){if(t._SessionManager.resetSessionTimer(),!t._Helpers.isObject(e))t.Logger.error(\"Must pass an object into setUserAttributes. You passed a \"+_typeof(e));else if(t._Helpers.canLog())for(var s in e)e.hasOwnProperty(s)&&this.setUserAttribute(s,e[s]);},/**\n             * Removes a specific user attribute\n             * @method removeUserAttribute\n             * @param {String} key\n             */removeUserAttribute:function removeUserAttribute(s){var i,n;if(t._SessionManager.resetSessionTimer(),!t._Helpers.Validators.isValidKeyValue(s))return void t.Logger.error(Messages$2.ErrorMessages.BadKey);if(t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.RemoveUserAttribute,JSON.stringify({key:s,value:null}));else {i=t._Persistence.getPersistence(),n=this.getAllUserAttributes();var o=t._Helpers.findKeyInObject(n,s);o&&(s=o);var a=n[s]?n[s].toString():null;delete n[s],i&&i[e]&&(i[e].ua=n,t._Persistence.savePersistence(i,e)),r.sendUserAttributeChangeEvent(s,null,a,!1,!0,this),t._Forwarders.initForwarders(r.IdentityAPI.getCurrentUser().getUserIdentities(),t._APIClient.prepareForwardingStats),t._Forwarders.applyToForwarders(\"removeUserAttribute\",s);}},/**\n             * Sets a list of user attributes\n             * @method setUserAttributeList\n             * @param {String} key\n             * @param {Array} value an array of values\n             */setUserAttributeList:function setUserAttributeList(s,n){var o,a,d,g,l;if(t._SessionManager.resetSessionTimer(),!t._Helpers.Validators.isValidKeyValue(s))return void t.Logger.error(Messages$2.ErrorMessages.BadKey);if(!Array.isArray(n))return void t.Logger.error(\"The value you passed in to setUserAttributeList must be an array. You passed in a \"+(\"undefined\"==typeof value?\"undefined\":_typeof(value)));var u=n.slice();if(t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.SetUserAttributeList,JSON.stringify({key:s,value:u}));else {o=t._Persistence.getPersistence(),a=this.getAllUserAttributes();var p=t._Helpers.findKeyInObject(a,s);if(p?(g=!1,d=a[p],delete a[p]):g=!0,a[s]=u,o&&o[e]&&(o[e].ua=a,t._Persistence.savePersistence(o,e)),t._APIClient.shouldEnableBatching()){// If the new attributeList length is different previous, then there is a change event.\n// Loop through new attributes list, see if they are all in the same index as previous user attributes list\n// If there are any changes, break, and immediately send a userAttributeChangeEvent with full array as a value\nif(!d||!Array.isArray(d))l=!0;else if(n.length!==d.length)l=!0;else for(var c=0;c<n.length;c++)if(d[c]!==n[c]){l=!0;break}l&&r.sendUserAttributeChangeEvent(s,n,d,g,!1,this);}t._Forwarders.initForwarders(r.IdentityAPI.getCurrentUser().getUserIdentities(),t._APIClient.prepareForwardingStats),t._Forwarders.callSetUserAttributeOnForwarders(s,u);}},/**\n             * Removes all user attributes\n             * @method removeAllUserAttributes\n             */removeAllUserAttributes:function removeAllUserAttributes(){var e;if(t._SessionManager.resetSessionTimer(),t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.RemoveAllUserAttributes);else if(e=this.getAllUserAttributes(),t._Forwarders.initForwarders(r.IdentityAPI.getCurrentUser().getUserIdentities(),t._APIClient.prepareForwardingStats),e)for(var s in e)e.hasOwnProperty(s)&&t._Forwarders.applyToForwarders(\"removeUserAttribute\",s),this.removeUserAttribute(s);},/**\n             * Returns all user attribute keys that have values that are arrays\n             * @method getUserAttributesLists\n             * @return {Object} an object of only keys with array values. Example: { attr1: [1, 2, 3], attr2: ['a', 'b', 'c'] }\n             */getUserAttributesLists:function getUserAttributesLists(){var e,t={};for(var s in e=this.getAllUserAttributes(),e)e.hasOwnProperty(s)&&Array.isArray(e[s])&&(t[s]=e[s].slice());return t},/**\n             * Returns all user attributes\n             * @method getAllUserAttributes\n             * @return {Object} an object of all user attributes. Example: { attr1: 'value1', attr2: ['a', 'b', 'c'] }\n             */getAllUserAttributes:function getAllUserAttributes(){var s={},r=t._Persistence.getAllUserAttributes(e);if(r)for(var i in r)r.hasOwnProperty(i)&&(s[i]=Array.isArray(r[i])?r[i].slice():r[i]);return s},/**\n             * Returns the cart object for the current user\n             * @method getCart\n             * @return a cart object\n             */getCart:function getCart(){return t.Logger.warning(\"Deprecated function Identity.getCurrentUser().getCart() will be removed in future releases\"),r.mParticleUserCart(e)},/**\n             * Returns the Consent State stored locally for this user.\n             * @method getConsentState\n             * @return a ConsentState object\n             */getConsentState:function getConsentState(){return t._Persistence.getConsentState(e)},/**\n             * Sets the Consent State stored locally for this user.\n             * @method setConsentState\n             * @param {Object} consent state\n             */setConsentState:function setConsentState(s){t._Persistence.saveUserConsentStateToCookies(e,s),t._Forwarders.initForwarders(this.getUserIdentities().userIdentities,t._APIClient.prepareForwardingStats),t._CookieSyncManager.attemptCookieSync(null,this.getMPID());},isLoggedIn:function isLoggedIn(){return s},getLastSeenTime:function getLastSeenTime(){return t._Persistence.getLastSeenTime(e)},getFirstSeenTime:function getFirstSeenTime(){return t._Persistence.getFirstSeenTime(e)}}},this.mParticleUserCart=function(e){return {/**\n             * Adds a cart product to the user cart\n             * @method add\n             * @param {Object} product the product\n             * @param {Boolean} [logEvent] a boolean to log adding of the cart object. If blank, no logging occurs.\n             * @deprecated\n             */add:function add(s,r){t.Logger.warning(\"Deprecated function Identity.getCurrentUser().getCart().add() will be removed in future releases\");var i,n,o;if(o=Array.isArray(s)?s.slice():[s],o.forEach(function(e){e.Attributes=t._Helpers.sanitizeAttributes(e.Attributes);}),t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.AddToCart,JSON.stringify(o));else {t._SessionManager.resetSessionTimer(),n=t._Persistence.getUserProductsFromLS(e),n=n.concat(o),!0===r&&t._Events.logProductActionEvent(Types.ProductActionType.AddToCart,o);n.length>t._Store.SDKConfig.maxProducts&&(t.Logger.verbose(\"The cart contains \"+n.length+\" items. Only \"+t._Store.SDKConfig.maxProducts+\" can currently be saved in cookies.\"),n=n.slice(-t._Store.SDKConfig.maxProducts)),i=t._Persistence.getAllUserProductsFromLS(),i[e].cp=n,t._Persistence.setCartProducts(i);}},/**\n             * Removes a cart product from the current user cart\n             * @method remove\n             * @param {Object} product the product\n             * @param {Boolean} [logEvent] a boolean to log adding of the cart object. If blank, no logging occurs.\n             * @deprecated\n             */remove:function remove(s,r){t.Logger.warning(\"Deprecated function Identity.getCurrentUser().getCart().remove() will be removed in future releases\");var i,n,o=-1,a=null;if(t._Store.webviewBridgeEnabled)t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.RemoveFromCart,JSON.stringify(s));else {t._SessionManager.resetSessionTimer(),n=t._Persistence.getUserProductsFromLS(e),n&&(n.forEach(function(e,t){e.Sku===s.Sku&&(o=t,a=e);}),-1<o&&(n.splice(o,1),!0===r&&t._Events.logProductActionEvent(Types.ProductActionType.RemoveFromCart,a)));i=t._Persistence.getAllUserProductsFromLS(),i[e].cp=n,t._Persistence.setCartProducts(i);}},/**\n             * Clears the user's cart\n             * @method clear\n             * @deprecated\n             */clear:function clear(){t.Logger.warning(\"Deprecated function Identity.getCurrentUser().getCart().clear() will be removed in future releases\");var s;t._Store.webviewBridgeEnabled?t._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.ClearCart):(t._SessionManager.resetSessionTimer(),s=t._Persistence.getAllUserProductsFromLS(),s&&s[e]&&s[e].cp&&(s[e].cp=[],s[e].cp=[],t._Persistence.setCartProducts(s)));},/**\n             * Returns all cart products\n             * @method getCartProducts\n             * @return {Array} array of cart products\n             * @deprecated\n             */getCartProducts:function getCartProducts(){return t.Logger.warning(\"Deprecated function Identity.getCurrentUser().getCart().getCartProducts() will be removed in future releases\"),t._Persistence.getCartProducts(e)}}},this.parseIdentityResponse=function(r,i,n,o,a){var d,g,l,u,p=t.Identity.getUser(i),c={},y=p?p.getUserIdentities().userIdentities:{},I=t._Helpers.extend({},y);t._Store.identityCallInFlight=!1;try{if(t.Logger.verbose(\"Parsing \\\"\"+a+\"\\\" identity response from server\"),r.responseText&&(l=JSON.parse(r.responseText),l.hasOwnProperty(\"is_logged_in\")&&(t._Store.isLoggedIn=l.is_logged_in)),(!p||p.getMPID()&&l.mpid&&l.mpid!==p.getMPID())&&(t._Store.mpid=l.mpid,p&&t._Persistence.setLastSeenTime(i),!t._Persistence.getFirstSeenTime(l.mpid)&&(g=!0),t._Persistence.setFirstSeenTime(l.mpid)),200===r.status){if(\"modify\"===a)c=t._Identity.IdentityRequest.combineUserIdentities(y,o.userIdentities),t._Persistence.saveUserIdentitiesToPersistence(i,c);else {var _=s.IdentityAPI.getUser(l.mpid),v=_?_.getUserIdentities().userIdentities:{},m=t._Helpers.extend({},v);//if there is any previous migration data\nif(t.Logger.verbose(\"Successfully parsed Identity Response\"),\"identify\"==a&&p&&l.mpid===p.getMPID()&&t._Persistence.setFirstSeenTime(l.mpid),u=t._Store.currentSessionMPIDs.indexOf(l.mpid),t._Store.sessionId&&l.mpid&&i!==l.mpid&&0>u&&t._Store.currentSessionMPIDs.push(l.mpid),-1<u&&(t._Store.currentSessionMPIDs=t._Store.currentSessionMPIDs.slice(0,u).concat(t._Store.currentSessionMPIDs.slice(u+1,t._Store.currentSessionMPIDs.length)),t._Store.currentSessionMPIDs.push(l.mpid)),t._CookieSyncManager.attemptCookieSync(i,l.mpid,g),s.checkIdentitySwap(i,l.mpid,t._Store.currentSessionMPIDs),Object.keys(t._Store.migrationData).length){c=t._Store.migrationData.userIdentities||{};var S=t._Store.migrationData.userAttributes||{};t._Persistence.saveUserAttributesToPersistence(l.mpid,S);}else o&&o.userIdentities&&Object.keys(o.userIdentities).length&&(c=s.IdentityRequest.combineUserIdentities(v,o.userIdentities));t._Persistence.saveUserIdentitiesToPersistence(l.mpid,c),t._Persistence.update(),t._Persistence.findPrevCookiesBasedOnUI(o),t._Store.context=l.context||t._Store.context;}if(d=t.Identity.getCurrentUser(),o&&o.onUserAlias&&t._Helpers.Validators.isFunction(o.onUserAlias))try{t.Logger.warning(\"Deprecated function onUserAlias will be removed in future releases\"),o.onUserAlias(p,d);}catch(s){t.Logger.error(\"There was an error with your onUserAlias function - \"+s);}var P=t._Persistence.getPersistence();d&&(t._Persistence.storeDataInMemory(P,d.getMPID()),(!p||d.getMPID()!==p.getMPID()||p.isLoggedIn()!==d.isLoggedIn())&&t._Forwarders.initForwarders(d.getUserIdentities().userIdentities,t._APIClient.prepareForwardingStats),t._Forwarders.setForwarderUserIdentities(d.getUserIdentities().userIdentities),t._Forwarders.setForwarderOnIdentityComplete(d,a),t._Forwarders.setForwarderOnUserIdentified(d,a));var b={};for(var A in c)b[Types.IdentityType.getIdentityName(t._Helpers.parseNumber(A))]=c[A];s.sendUserIdentityChangeEvent(b,a,l.mpid,\"modify\"===a?I:m);}n?0===r.status?t._Helpers.invokeCallback(n,HTTPCodes$2.noHttpCoverage,l||null,d):t._Helpers.invokeCallback(n,r.status,l||null,d):l&&l.errors&&l.errors.length&&t.Logger.error(\"Received HTTP response code of \"+r.status+\" - \"+l.errors[0].message),t._APIClient.processQueuedEvents();}catch(s){n&&t._Helpers.invokeCallback(n,r.status,l||null),t.Logger.error(\"Error parsing JSON response from Identity server: \"+s);}},this.sendUserIdentityChangeEvent=function(e,r,i,n){var o,a;if(t._APIClient.shouldEnableBatching()&&(i||\"modify\"===r))for(var d in o=this.IdentityAPI.getUser(i),e)if(n[d]!==e[d]){var g=!n[d];a=s.createUserIdentityChange(d,e[d],n[d],g,o),t._APIClient.sendEventToServer(a);}},this.createUserIdentityChange=function(e,s,r,i,n){var o;return o=t._ServerModel.createEventObject({messageType:Types.MessageType.UserIdentityChange,userIdentityChanges:{New:{IdentityType:e,Identity:s,CreatedThisBatch:i},Old:{IdentityType:e,Identity:r,CreatedThisBatch:!1}},userInMemory:n}),o},this.sendUserAttributeChangeEvent=function(e,r,i,n,o,a){if(t._APIClient.shouldEnableBatching()){var d=s.createUserAttributeChange(e,r,i,n,o,a);d&&t._APIClient.sendEventToServer(d);}},this.createUserAttributeChange=function(e,s,r,i,n,o){r||(r=null);var a;return s!==r&&(a=t._ServerModel.createEventObject({messageType:Types.MessageType.UserAttributeChange,userAttributeChanges:{UserAttributeName:e,New:s,Old:r||null,Deleted:n,IsNewAttribute:i}},o)),a};}\n\nfunction Consent(a){var b=this,c=\"data_sale_opt_out\";// this function is called when consent is required to determine if a cookie sync should happen, or a forwarder should be initialized\nthis.isEnabledForUserConsent=function(b,c){if(!b||!b.values||!b.values.length)return !0;if(!c)return !1;var d,e={},f=c.getConsentState();if(f){// the server hashes consent purposes in the following way:\n// GDPR - '1' + purpose name\n// CCPA - '2data_sale_opt_out' (there is only 1 purpose of data_sale_opt_out for CCPA)\nvar g=f.getGDPRConsentState();if(g)for(var h in g)g.hasOwnProperty(h)&&(d=a._Helpers.generateHash(\"1\"+h).toString(),e[d]=g[h].Consented);var i=f.getCCPAConsentState();i&&(d=a._Helpers.generateHash(\"2\"+\"data_sale_opt_out\").toString(),e[d]=i.Consented);}var j=b.values.some(function(a){var b=a.consentPurpose,c=a.hasConsented;if(e.hasOwnProperty(b))return e[b]===c});return b.includeOnMatch===j},this.createPrivacyConsent=function(b,c,d,e,f){return \"boolean\"==typeof b?c&&isNaN(c)?(a.Logger.error(\"Timestamp must be a valid number when constructing a Consent object.\"),null):d&&\"string\"!=typeof d?(a.Logger.error(\"Document must be a valid string when constructing a Consent object.\"),null):e&&\"string\"!=typeof e?(a.Logger.error(\"Location must be a valid string when constructing a Consent object.\"),null):f&&\"string\"!=typeof f?(a.Logger.error(\"Hardware ID must be a valid string when constructing a Consent object.\"),null):{Consented:b,Timestamp:c||Date.now(),ConsentDocument:d,Location:e,HardwareId:f}:(a.Logger.error(\"Consented boolean is required when constructing a Consent object.\"),null)},this.ConsentSerialization={toMinifiedJsonObject:function toMinifiedJsonObject(a){var b={};if(a){var d=a.getGDPRConsentState();if(d)for(var e in b.gdpr={},d)if(d.hasOwnProperty(e)){var f=d[e];b.gdpr[e]={},\"boolean\"==typeof f.Consented&&(b.gdpr[e].c=f.Consented),\"number\"==typeof f.Timestamp&&(b.gdpr[e].ts=f.Timestamp),\"string\"==typeof f.ConsentDocument&&(b.gdpr[e].d=f.ConsentDocument),\"string\"==typeof f.Location&&(b.gdpr[e].l=f.Location),\"string\"==typeof f.HardwareId&&(b.gdpr[e].h=f.HardwareId);}var g=a.getCCPAConsentState();g&&(b.ccpa={},b.ccpa[c]={},\"boolean\"==typeof g.Consented&&(b.ccpa[c].c=g.Consented),\"number\"==typeof g.Timestamp&&(b.ccpa[c].ts=g.Timestamp),\"string\"==typeof g.ConsentDocument&&(b.ccpa[c].d=g.ConsentDocument),\"string\"==typeof g.Location&&(b.ccpa[c].l=g.Location),\"string\"==typeof g.HardwareId&&(b.ccpa[c].h=g.HardwareId));}return b},fromMinifiedJsonObject:function fromMinifiedJsonObject(a){var d=b.createConsentState();if(a.gdpr)for(var e in a.gdpr)if(a.gdpr.hasOwnProperty(e)){var f=b.createPrivacyConsent(a.gdpr[e].c,a.gdpr[e].ts,a.gdpr[e].d,a.gdpr[e].l,a.gdpr[e].h);d.addGDPRConsentState(e,f);}if(a.ccpa&&a.ccpa.hasOwnProperty(c)){var g=b.createPrivacyConsent(a.ccpa[c].c,a.ccpa[c].ts,a.ccpa[c].d,a.ccpa[c].l,a.ccpa[c].h);d.setCCPAConsentState(g);}return d}},this.createConsentState=function(d){function e(a){if(\"string\"!=typeof a)return null;var b=a.trim();return b.length?b.toLowerCase():null}/**\n         * Invoke these methods on a consent state object.\n         * <p>\n         * Usage: var consent = mParticle.Consent.createConsentState()\n         * <br>\n         * consent.setGDPRCoonsentState()\n         *\n         * @class Consent\n         */ /**\n         * Add a GDPR Consent State to the consent state object\n         *\n         * @method addGDPRConsentState\n         * @param purpose [String] Data processing purpose that describes the type of processing done on the data subject’s data\n         * @param gdprConsent [Object] A GDPR consent object created via mParticle.Consent.createGDPRConsent(...)\n         */function f(c,d){var f=e(c);if(!f)return a.Logger.error(\"Purpose must be a string.\"),this;if(!a._Helpers.isObject(d))return a.Logger.error(\"Invoked with a bad or empty consent object.\"),this;var g=b.createPrivacyConsent(d.Consented,d.Timestamp,d.ConsentDocument,d.Location,d.HardwareId);return g&&(l[f]=g),this}function g(b){if(!b)l={};else if(a._Helpers.isObject(b))for(var c in l={},b)b.hasOwnProperty(c)&&f(c,b[c]);return this}/**\n         * Remove a GDPR Consent State to the consent state object\n         *\n         * @method removeGDPRConsentState\n         * @param purpose [String] Data processing purpose that describes the type of processing done on the data subject’s data\n         */function h(a){var b=e(a);return b?(delete l[b],this):this}/**\n         * Gets the GDPR Consent State\n         *\n         * @method getGDPRConsentState\n         * @return {Object} A GDPR Consent State\n         */function i(){return a._Helpers.extend({},l)}/**\n         * Sets a CCPA Consent state (has a single purpose of 'data_sale_opt_out')\n         *\n         * @method setCCPAConsentState\n         * @param {Object} ccpaConsent CCPA Consent State\n         */function j(d){if(!a._Helpers.isObject(d))return a.Logger.error(\"Invoked with a bad or empty CCPA consent object.\"),this;var e=b.createPrivacyConsent(d.Consented,d.Timestamp,d.ConsentDocument,d.Location,d.HardwareId);return e&&(m[c]=e),this}/**\n         * Gets the CCPA Consent State\n         *\n         * @method getCCPAConsentStatensent\n         * @return {Object} A CCPA Consent State\n         */ /**\n         * Removes CCPA from the consent state object\n         *\n         * @method removeCCPAConsentState\n         */function k(){return delete m[c],this}var l={},m={};return d&&(g(d.getGDPRConsentState()),j(d.getCCPAConsentState())),{setGDPRConsentState:g,addGDPRConsentState:f,setCCPAConsentState:j,getCCPAConsentState:function a(){return m[c]},getGDPRConsentState:i,removeGDPRConsentState:h,removeCCPAState:function b(){return a.Logger.warning(\"removeCCPAState is deprecated and will be removed in a future release; use removeCCPAConsentState instead\"),k()},removeCCPAConsentState:k}};}\n\n/*\n    TODO: Including this as a workaround because attempting to import it from\n    @mparticle/data-planning-models directly creates a build error.\n */var DataPlanMatchType={ScreenView:\"screen_view\",CustomEvent:\"custom_event\",Commerce:\"commerce\",UserAttributes:\"user_attributes\",UserIdentities:\"user_identities\",ProductAction:\"product_action\",PromotionAction:\"promotion_action\",ProductImpression:\"product_impression\"},KitBlocker=/** @class */function(){function a(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;// if data plan is not requested, the data plan is {document: null}\nif(this.dataPlanMatchLookups={},this.blockEvents=!1,this.blockEventAttributes=!1,this.blockUserAttributes=!1,this.blockUserIdentities=!1,this.kitBlockingEnabled=!1,a&&!a.document)return void(this.kitBlockingEnabled=!1);this.kitBlockingEnabled=!0,this.mpInstance=b,this.blockEvents=null===(e=null===(d=null===(c=null===a||void 0===a?void 0:a.document)||void 0===c?void 0:c.dtpn)||void 0===d?void 0:d.blok)||void 0===e?void 0:e.ev,this.blockEventAttributes=null===(h=null===(g=null===(f=null===a||void 0===a?void 0:a.document)||void 0===f?void 0:f.dtpn)||void 0===g?void 0:g.blok)||void 0===h?void 0:h.ea,this.blockUserAttributes=null===(k=null===(j=null===(i=null===a||void 0===a?void 0:a.document)||void 0===i?void 0:i.dtpn)||void 0===j?void 0:j.blok)||void 0===k?void 0:k.ua,this.blockUserIdentities=null===(n=null===(m=null===(l=null===a||void 0===a?void 0:a.document)||void 0===l?void 0:l.dtpn)||void 0===m?void 0:m.blok)||void 0===n?void 0:n.id;var s=null===(q=null===(p=null===(o=null===a||void 0===a?void 0:a.document)||void 0===o?void 0:o.dtpn)||void 0===p?void 0:p.vers)||void 0===q?void 0:q.version_document,t=null===s||void 0===s?void 0:s.data_points;if(s)try{0<(null===t||void 0===t?void 0:t.length)&&t.forEach(function(a){return r.addToMatchLookups(a)});}catch(a){this.mpInstance.Logger.error(\"There was an issue with the data plan: \"+a);}}return a.prototype.addToMatchLookups=function(a){var b,c,d;if(!a.match||!a.validator)return void this.mpInstance.Logger.warning(\"Data Plan Point is not valid' + \".concat(a));// match keys for non product custom attribute related data points\nvar e=this.generateMatchKey(a.match),f=this.getPlannedProperties(a.match.type,a.validator);this.dataPlanMatchLookups[e]=f,((null===(b=null===a||void 0===a?void 0:a.match)||void 0===b?void 0:b.type)===DataPlanMatchType.ProductImpression||(null===(c=null===a||void 0===a?void 0:a.match)||void 0===c?void 0:c.type)===DataPlanMatchType.ProductAction||(null===(d=null===a||void 0===a?void 0:a.match)||void 0===d?void 0:d.type)===DataPlanMatchType.PromotionAction)&&(e=this.generateProductAttributeMatchKey(a.match),f=this.getProductProperties(a.match.type,a.validator),this.dataPlanMatchLookups[e]=f);},a.prototype.generateMatchKey=function(a){var b=a.criteria||\"\";switch(a.type){case DataPlanMatchType.CustomEvent:var c=b;return [DataPlanMatchType.CustomEvent,c.custom_event_type,c.event_name].join(\":\");case DataPlanMatchType.ScreenView:return [DataPlanMatchType.ScreenView,\"\",b.screen_name].join(\":\");case DataPlanMatchType.ProductAction:return [a.type,b.action].join(\":\");case DataPlanMatchType.PromotionAction:return [a.type,b.action].join(\":\");case DataPlanMatchType.ProductImpression:return [a.type,b.action].join(\":\");case DataPlanMatchType.UserIdentities:case DataPlanMatchType.UserAttributes:return [a.type].join(\":\");default:return null;}},a.prototype.generateProductAttributeMatchKey=function(a){var b=a.criteria||\"\";switch(a.type){case DataPlanMatchType.ProductAction:return [a.type,b.action,\"ProductAttributes\"].join(\":\");case DataPlanMatchType.PromotionAction:return [a.type,b.action,\"ProductAttributes\"].join(\":\");case DataPlanMatchType.ProductImpression:return [a.type,\"ProductAttributes\"].join(\":\");default:return null;}},a.prototype.getPlannedProperties=function(a,b){var c,d,e,f,g,h,i,j,k,l;switch(a){case DataPlanMatchType.CustomEvent:case DataPlanMatchType.ScreenView:case DataPlanMatchType.ProductAction:case DataPlanMatchType.PromotionAction:case DataPlanMatchType.ProductImpression:if(k=null===(f=null===(e=null===(d=null===(c=null===b||void 0===b?void 0:b.definition)||void 0===c?void 0:c.properties)||void 0===d?void 0:d.data)||void 0===e?void 0:e.properties)||void 0===f?void 0:f.custom_attributes,k){if(!0===k.additionalProperties||void 0===k.additionalProperties)return !0;for(var m,n={},o=0,p=Object.keys(k.properties);o<p.length;o++)m=p[o],n[m]=!0;return n}return !1!==(null===(i=null===(h=null===(g=null===b||void 0===b?void 0:b.definition)||void 0===g?void 0:g.properties)||void 0===h?void 0:h.data)||void 0===i?void 0:i.additionalProperties)||{};case DataPlanMatchType.UserAttributes:case DataPlanMatchType.UserIdentities:if(l=null===(j=null===b||void 0===b?void 0:b.definition)||void 0===j?void 0:j.additionalProperties,!0===l||void 0===l)return !0;for(var m,n={},q=b.definition.properties,r=0,s=Object.keys(q);r<s.length;r++)m=s[r],n[m]=!0;return n;default:return null;}},a.prototype.getProductProperties=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;switch(a){case DataPlanMatchType.ProductImpression://product item attributes\nif(v=null===(l=null===(k=null===(j=null===(i=null===(h=null===(g=null===(f=null===(e=null===(d=null===(c=null===b||void 0===b?void 0:b.definition)||void 0===c?void 0:c.properties)||void 0===d?void 0:d.data)||void 0===e?void 0:e.properties)||void 0===f?void 0:f.product_impressions)||void 0===g?void 0:g.items)||void 0===h?void 0:h.properties)||void 0===i?void 0:i.products)||void 0===j?void 0:j.items)||void 0===k?void 0:k.properties)||void 0===l?void 0:l.custom_attributes,!1===(null===v||void 0===v?void 0:v.additionalProperties)){for(var w,x={},y=0,z=Object.keys(null===v||void 0===v?void 0:v.properties);y<z.length;y++)w=z[y],x[w]=!0;return x}return !0;case DataPlanMatchType.ProductAction:case DataPlanMatchType.PromotionAction://product item attributes\nif(v=null===(u=null===(t=null===(s=null===(r=null===(q=null===(p=null===(o=null===(n=null===(m=null===b||void 0===b?void 0:b.definition)||void 0===m?void 0:m.properties)||void 0===n?void 0:n.data)||void 0===o?void 0:o.properties)||void 0===p?void 0:p.product_action)||void 0===q?void 0:q.properties)||void 0===r?void 0:r.products)||void 0===s?void 0:s.items)||void 0===t?void 0:t.properties)||void 0===u?void 0:u.custom_attributes,v&&!1===v.additionalProperties){for(var w,x={},A=0,B=Object.keys(null===v||void 0===v?void 0:v.properties);A<B.length;A++)w=B[A],x[w]=!0;return x}return !0;default:return null;}},a.prototype.getMatchKey=function(a){switch(a.event_type){case dist.EventTypeEnum.screenView:var b=a;return b.data?[\"screen_view\",\"\",b.data.screen_name].join(\":\"):null;case dist.EventTypeEnum.commerceEvent:var c=a,d=[];if(c&&c.data){var e=c.data,f=e.product_action,g=e.product_impressions,h=e.promotion_action;f?(d.push(DataPlanMatchType.ProductAction),d.push(f.action)):h?(d.push(DataPlanMatchType.PromotionAction),d.push(h.action)):g&&d.push(DataPlanMatchType.ProductImpression);}return d.join(\":\");case dist.EventTypeEnum.customEvent:var i=a;return i.data?[\"custom_event\",i.data.custom_event_type,i.data.event_name].join(\":\"):null;default:return null;}},a.prototype.getProductAttributeMatchKey=function(a){switch(a.event_type){case dist.EventTypeEnum.commerceEvent:var b=[],c=a.data,d=c.product_action,e=c.product_impressions,f=c.promotion_action;return d?(b.push(DataPlanMatchType.ProductAction),b.push(d.action),b.push(\"ProductAttributes\")):f?(b.push(DataPlanMatchType.PromotionAction),b.push(f.action),b.push(\"ProductAttributes\")):e&&(b.push(DataPlanMatchType.ProductImpression),b.push(\"ProductAttributes\")),b.join(\":\");default:return null;}},a.prototype.createBlockedEvent=function(a){/*\n            return a transformed event based on event/event attributes,\n            then product attributes if applicable, then user attributes,\n            then the user identities\n        */try{return a&&(a=this.transformEventAndEventAttributes(a)),a&&a.EventDataType===Types.MessageType.Commerce&&(a=this.transformProductAttributes(a)),a&&(a=this.transformUserAttributes(a),a=this.transformUserIdentities(a)),a}catch(b){return a}},a.prototype.transformEventAndEventAttributes=function(a){var b=__assign({},a),c=convertEvent(b),d=this.getMatchKey(c),e=this.dataPlanMatchLookups[d];if(this.blockEvents&&!e)/*\n                If the event is not planned, it doesn't exist in dataPlanMatchLookups\n                and should be blocked (return null to not send anything to forwarders)\n            */return null;if(this.blockEventAttributes){/*\n                matchedEvent is set to `true` if additionalProperties is `true`\n                otherwise, delete attributes that exist on event.EventAttributes\n                that aren't on\n            */if(!0===e)return b;if(e){for(var f,g=0,h=Object.keys(b.EventAttributes);g<h.length;g++)f=h[g],e[f]||delete b.EventAttributes[f];return b}return b}return b},a.prototype.transformProductAttributes=function(a){function b(a,b){b.forEach(function(b){for(var c,d=0,e=Object.keys(b.Attributes);d<e.length;d++)c=e[d],a[c]||delete b.Attributes[c];});}var c,d=__assign({},a),e=convertEvent(d),f=this.getProductAttributeMatchKey(e),g=this.dataPlanMatchLookups[f];if(this.blockEvents&&!g)/*\n                If the event is not planned, it doesn't exist in dataPlanMatchLookups\n                and should be blocked (return null to not send anything to forwarders)\n            */return null;if(this.blockEventAttributes){/*\n                matchedEvent is set to `true` if additionalProperties is `true`\n                otherwise, delete attributes that exist on event.EventAttributes\n                that aren't on\n            */if(!0===g)return d;if(g){switch(a.EventCategory){case Types.CommerceEventType.ProductImpression:d.ProductImpressions.forEach(function(a){b(g,null===a||void 0===a?void 0:a.ProductList);});break;case Types.CommerceEventType.ProductPurchase:b(g,null===(c=d.ProductAction)||void 0===c?void 0:c.ProductList);break;default:this.mpInstance.Logger.warning(\"Product Not Supported \");}return d}return d}return d},a.prototype.transformUserAttributes=function(a){var b=__assign({},a);if(this.blockUserAttributes){/*\n                If the user attribute is not found in the matchedAttributes\n                then remove it from event.UserAttributes as it is blocked\n            */var c=this.dataPlanMatchLookups.user_attributes;if(this.mpInstance._Helpers.isObject(c))for(var d,e=0,f=Object.keys(b.UserAttributes);e<f.length;e++)d=f[e],c[d]||delete b.UserAttributes[d];}return b},a.prototype.isAttributeKeyBlocked=function(a){/* used when an attribute is added to the user */if(!this.blockUserAttributes)return !1;if(this.blockUserAttributes){var b=this.dataPlanMatchLookups.user_attributes;if(!0===b)return !1;if(!b[a])return !0}return !1},a.prototype.isIdentityBlocked=function(a){/* used when an attribute is added to the user */if(!this.blockUserIdentities)return !1;if(this.blockUserIdentities){var b=this.dataPlanMatchLookups.user_identities;if(!0===b)return !1;if(!b[a])return !0}else return !1;return !1},a.prototype.transformUserIdentities=function(a){var b,c=this,d=__assign({},a);if(this.blockUserIdentities){var e=this.dataPlanMatchLookups.user_identities;this.mpInstance._Helpers.isObject(e)&&(null===(b=null===d||void 0===d?void 0:d.UserIdentities)||void 0===b?void 0:b.length)&&d.UserIdentities.forEach(function(a,b){var f=Types.IdentityType.getIdentityName(c.mpInstance._Helpers.parseNumber(a.Type));e[f]||d.UserIdentities.splice(b,1);});}return d},a}();\n\nfunction ConfigAPIClient(){this.getSDKConfiguration=function(a,b,c,d){var e;try{var f=function xhrCallback(){4===g.readyState&&(200===g.status?(b=d._Helpers.extend({},b,JSON.parse(g.responseText)),c(a,b,d),d.Logger.verbose(\"Successfully received configuration from server\")):(c(a,b,d),d.Logger.verbose(\"Issue with receiving configuration from server, received HTTP Code of \"+g.status)));},g=d._Helpers.createXHR(f);e=\"https://\"+d._Store.SDKConfig.configUrl+a+\"/config?env=\",e+=b.isDevelopmentMode?\"1\":\"0\";var h=b.dataPlan;h&&(h.planId&&(e=e+\"&plan_id=\"+h.planId||\"\"),h.planVersion&&(e=e+\"&plan_version=\"+h.planVersion||\"\")),g&&(g.open(\"get\",e),g.send(null));}catch(f){c(a,b,d),d.Logger.error(\"Error getting forwarder configuration from mParticle servers.\");}};}\n\nvar HTTPCodes$1=Constants.HTTPCodes,Messages$1=Constants.Messages;function IdentityAPIClient(a){this.sendAliasRequest=function(b,c){var d,e=function xhrCallback(){if(4===d.readyState){//only parse error messages from failing requests\nif(a.Logger.verbose(\"Received \"+d.statusText+\" from server\"),200!==d.status&&202!==d.status&&d.responseText){var b=JSON.parse(d.responseText);if(b.hasOwnProperty(\"message\")){var e=b.message;return void a._Helpers.invokeAliasCallback(c,d.status,e)}}a._Helpers.invokeAliasCallback(c,d.status);}};if(a.Logger.verbose(Messages$1.InformationMessages.SendAliasHttp),d=a._Helpers.createXHR(e),d)try{d.open(\"post\",a._Helpers.createServiceUrl(a._Store.SDKConfig.aliasUrl,a._Store.devToken)+\"/Alias\"),d.send(JSON.stringify(b));}catch(b){a._Helpers.invokeAliasCallback(c,HTTPCodes$1.noHttpCoverage,b),a.Logger.error(\"Error sending alias request to mParticle servers. \"+b);}},this.sendIdentityRequest=function(b,c,d,e,f,g){var h,i,j=function xhrCallback(){4===h.readyState&&(a.Logger.verbose(\"Received \"+h.statusText+\" from server\"),f(h,i,d,e,c));};if(a.Logger.verbose(Messages$1.InformationMessages.SendIdentityBegin),!b)return void a.Logger.error(Messages$1.ErrorMessages.APIRequestEmpty);if(a.Logger.verbose(Messages$1.InformationMessages.SendIdentityHttp),h=a._Helpers.createXHR(j),h)try{a._Store.identityCallInFlight?a._Helpers.invokeCallback(d,HTTPCodes$1.activeIdentityRequest,\"There is currently an Identity request processing. Please wait for this to return before requesting again\"):(i=g||null,\"modify\"===c?h.open(\"post\",a._Helpers.createServiceUrl(a._Store.SDKConfig.identityUrl)+g+\"/\"+c):h.open(\"post\",a._Helpers.createServiceUrl(a._Store.SDKConfig.identityUrl)+c),h.setRequestHeader(\"Content-Type\",\"application/json\"),h.setRequestHeader(\"x-mp-key\",a._Store.devToken),a._Store.identityCallInFlight=!0,h.send(JSON.stringify(b)));}catch(b){a._Store.identityCallInFlight=!1,a._Helpers.invokeCallback(d,HTTPCodes$1.noHttpCoverage,b),a.Logger.error(\"Error sending identity request to servers with status code \"+h.status+\" - \"+b);}};}\n\nvar Messages=Constants.Messages,HTTPCodes=Constants.HTTPCodes;/**\n * <p>All of the following methods can be called on the primary mParticle class. In version 2.10.0, we introduced <a href=\"https://docs.mparticle.com/developers/sdk/web/multiple-instances/\">multiple instances</a>. If you are using multiple instances (self hosted environments only), you should call these methods on each instance.</p>\n * <p>In current versions of mParticle, if your site has one instance, that instance name is 'default_instance'. Any methods called on mParticle on a site with one instance will be mapped to the `default_instance`.</p>\n * <p>This is for simplicity and backwards compatibility. For example, calling mParticle.logPageView() automatically maps to mParticle.getInstance('default_instance').logPageView().</p>\n * <p>If you have multiple instances, instances must first be initialized and then a method can be called on that instance. For example:</p>\n * <code>\n *  mParticle.init('apiKey', config, 'another_instance');\n *  mParticle.getInstance('another_instance').logPageView();\n * </code>\n *\n * @class mParticle & mParticleInstance\n */function mParticleInstance(a){var b=this;// These classes are for internal use only. Not documented for public consumption\n// required for forwarders once they reference the mparticle instance\n/**\n     * Resets the SDK to an uninitialized state and removes cookies/localStorage. You MUST call mParticle.init(apiKey, window.mParticle.config)\n     * before any other mParticle methods or the SDK will not function as intended.\n     * @method setLogLevel\n     * @param {String} logLevel verbose, warning, or none. By default, `warning` is chosen.\n     */ /**\n     * Resets the SDK to an uninitialized state and removes cookies/localStorage. You MUST call mParticle.init(apiKey, window.mParticle.config)\n     * before any other mParticle methods or the SDK will not function as intended.\n     * @method reset\n     */ /**\n     * A callback method that is invoked after mParticle is initialized.\n     * @method ready\n     * @param {Function} function A function to be called after mParticle is initialized\n     */ /**\n     * Returns the mParticle SDK version number\n     * @method getVersion\n     * @return {String} mParticle SDK version number\n     */ /**\n     * Sets the app version\n     * @method setAppVersion\n     * @param {String} version version number\n     */ /**\n     * Sets the device id\n     * @method setDeviceId\n     * @param {String} name device ID (UUIDv4-formatted string)\n     */ /**\n     * Returns a boolean for whether or not the SDKhas been fully initialized\n     * @method isInitialized\n     * @return {Boolean} a boolean for whether or not the SDK has been fully initialized\n     */ /**\n     * Gets the app name\n     * @method getAppName\n     * @return {String} App name\n     */ /**\n     * Sets the app name\n     * @method setAppName\n     * @param {String} name App Name\n     */ /**\n     * Gets the app version\n     * @method getAppVersion\n     * @return {String} App version\n     */ /**\n     * Stops tracking the location of the user\n     * @method stopTrackingLocation\n     */ /**\n     * Starts tracking the location of the user\n     * @method startTrackingLocation\n     * @param {Function} [callback] A callback function that is called when the location is either allowed or rejected by the user. A position object of schema {coords: {latitude: number, longitude: number}} is passed to the callback\n     */ /**\n     * Sets the position of the user\n     * @method setPosition\n     * @param {Number} lattitude lattitude digit\n     * @param {Number} longitude longitude digit\n     */ /**\n     * Starts a new session\n     * @method startNewSession\n     */ /**\n     * Ends the current session\n     * @method endSession\n     */ /**\n     * Logs a Base Event to mParticle's servers\n     * @param {Object} event Base Event Object\n     * @param {Object} [eventOptions] For Event-level Configuration Options\n     */ /**\n     * Logs an event to mParticle's servers\n     * @method logEvent\n     * @param {String} eventName The name of the event\n     * @param {Number} [eventType] The eventType as seen [here](http://docs.mparticle.com/developers/sdk/web/event-tracking#event-type)\n     * @param {Object} [eventInfo] Attributes for the event\n     * @param {Object} [customFlags] Additional customFlags\n     * @param {Object} [eventOptions] For Event-level Configuration Options\n     */ /**\n     * Used to log custom errors\n     *\n     * @method logError\n     * @param {String or Object} error The name of the error (string), or an object formed as follows {name: 'exampleName', message: 'exampleMessage', stack: 'exampleStack'}\n     * @param {Object} [attrs] Custom attrs to be passed along with the error event; values must be string, number, or boolean\n     */ /**\n     * Logs `click` events\n     * @method logLink\n     * @param {String} selector The selector to add a 'click' event to (ex. #purchase-event)\n     * @param {String} [eventName] The name of the event\n     * @param {Number} [eventType] The eventType as seen [here](http://docs.mparticle.com/developers/sdk/javascript/event-tracking#event-type)\n     * @param {Object} [eventInfo] Attributes for the event\n     */ /**\n     * Logs `submit` events\n     * @method logForm\n     * @param {String} selector The selector to add the event handler to (ex. #search-event)\n     * @param {String} [eventName] The name of the event\n     * @param {Number} [eventType] The eventType as seen [here](http://docs.mparticle.com/developers/sdk/javascript/event-tracking#event-type)\n     * @param {Object} [eventInfo] Attributes for the event\n     */ /**\n     * Logs a page view\n     * @method logPageView\n     * @param {String} eventName The name of the event. Defaults to 'PageView'.\n     * @param {Object} [attrs] Attributes for the event\n     * @param {Object} [customFlags] Custom flags for the event\n     * @param {Object} [eventOptions] For Event-level Configuration Options\n     */ /**\n     * Forces an upload of the batch\n     * @method upload\n     */ /**\n     * Invoke these methods on the mParticle.Consent object.\n     * Example: mParticle.Consent.createConsentState()\n     *\n     * @class mParticle.Consent\n     */ /**\n     * Invoke these methods on the mParticle.eCommerce object.\n     * Example: mParticle.eCommerce.createImpresion(...)\n     * @class mParticle.eCommerce\n     */ /**\n     * Sets a session attribute\n     * @method setSessionAttribute\n     * @param {String} key key for session attribute\n     * @param {String or Number} value value for session attribute\n     */ /**\n     * Set opt out of logging\n     * @method setOptOut\n     * @param {Boolean} isOptingOut boolean to opt out or not. When set to true, opt out of logging.\n     */ /**\n     * Set or remove the integration attributes for a given integration ID.\n     * Integration attributes are keys and values specific to a given integration. For example,\n     * many integrations have their own internal user/device ID. mParticle will store integration attributes\n     * for a given device, and will be able to use these values for server-to-server communication to services.\n     * This is often useful when used in combination with a server-to-server feed, allowing the feed to be enriched\n     * with the necessary integration attributes to be properly forwarded to the given integration.\n     * @method setIntegrationAttribute\n     * @param {Number} integrationId mParticle integration ID\n     * @param {Object} attrs a map of attributes that will replace any current attributes. The keys are predefined by mParticle.\n     * Please consult with the mParticle docs or your solutions consultant for the correct value. You may\n     * also pass a null or empty map here to remove all of the attributes.\n     */ /**\n     * Get integration attributes for a given integration ID.\n     * @method getIntegrationAttributes\n     * @param {Number} integrationId mParticle integration ID\n     * @return {Object} an object map of the integrationId's attributes\n     */ // Used by our forwarders\nthis._instanceName=a,this._NativeSdkHelpers=new NativeSdkHelpers(this),this._Migrations=new Migrations(this),this._SessionManager=new SessionManager(this),this._Persistence=new _Persistence(this),this._Helpers=new Helpers(this),this._Events=new Events(this),this._CookieSyncManager=new cookieSyncManager(this),this._ServerModel=new ServerModel(this),this._Ecommerce=new Ecommerce(this),this._ForwardingStatsUploader=new forwardingStatsUploader(this),this._Consent=new Consent(this),this._IdentityAPIClient=new IdentityAPIClient(this),this._preInit={readyQueue:[],integrationDelays:{},forwarderConstructors:[]},this.IdentityType=Types.IdentityType,this.EventType=Types.EventType,this.CommerceEventType=Types.CommerceEventType,this.PromotionType=Types.PromotionActionType,this.ProductActionType=Types.ProductActionType,this._Identity=new Identity(this),this.Identity=this._Identity.IdentityAPI,this.generateHash=this._Helpers.generateHash,this.getDeviceId=this._Persistence.getDeviceId,\"undefined\"!=typeof window&&window.mParticle&&window.mParticle.config&&window.mParticle.config.hasOwnProperty(\"rq\")&&(this._preInit.readyQueue=window.mParticle.config.rq),this.init=function(a,b){// config code - Fetch config when requestConfig = true, otherwise, proceed with SDKInitialization\n// Since fetching the configuration is asynchronous, we must pass completeSDKInitialization\n// to it for it to be run after fetched\nreturn b||console.warn(\"You did not pass a config object to init(). mParticle will not initialize properly\"),runPreConfigFetchInitialization(this,a,b),b?void(!b.hasOwnProperty(\"requestConfig\")||b.requestConfig?new ConfigAPIClient().getSDKConfiguration(a,b,completeSDKInitialization,this):completeSDKInitialization(a,b,this)):void console.error(\"No config available on the window, please pass a config object to mParticle.init()\")},this.setLogLevel=function(a){b.Logger.setLogLevel(a);},this.reset=function(a){try{a._Persistence.resetPersistence(),a._Store&&delete a._Store;}catch(a){console.error(\"Cannot reset mParticle\",a);}},this._resetForTests=function(a,b,c){c._Store&&delete c._Store,c._Store=new Store(a,c),c._Store.isLocalStorageAvailable=c._Persistence.determineLocalStorageAvailability(window.localStorage),c._Events.stopTracking(),b||c._Persistence.resetPersistence(),c._Persistence.forwardingStatsBatches.uploadsTable={},c._Persistence.forwardingStatsBatches.forwardingStatsEventQueue=[],c._preInit={readyQueue:[],pixelConfigurations:[],integrationDelays:{},forwarderConstructors:[],isDevelopmentMode:!1};},this.ready=function(a){b.isInitialized()&&\"function\"==typeof a?a():b._preInit.readyQueue.push(a);},this.getVersion=function(){return Constants.sdkVersion},this.setAppVersion=function(a){var c=queueIfNotInitialized(function(){b.setAppVersion(a);},b);c||(b._Store.SDKConfig.appVersion=a,b._Persistence.update());},this.setDeviceId=function(a){var c=queueIfNotInitialized(function(){b.setDeviceId(a);},b);c||this._Persistence.setDeviceId(a);},this.isInitialized=function(){return !!b._Store&&b._Store.isInitialized},this.getAppName=function(){return b._Store.SDKConfig.appName},this.setAppName=function(a){var c=queueIfNotInitialized(function(){b.setAppName(a);},b);c||(b._Store.SDKConfig.appName=a);},this.getAppVersion=function(){return b._Store.SDKConfig.appVersion},this.stopTrackingLocation=function(){b._SessionManager.resetSessionTimer(),b._Events.stopTracking();},this.startTrackingLocation=function(a){b._Helpers.Validators.isFunction(a)||b.Logger.warning(\"Warning: Location tracking is triggered, but not including a callback into the `startTrackingLocation` may result in events logged too quickly and not being associated with a location.\"),b._SessionManager.resetSessionTimer(),b._Events.startTracking(a);},this.setPosition=function(a,c){var d=queueIfNotInitialized(function(){b.setPosition(a,c);},b);d||(b._SessionManager.resetSessionTimer(),\"number\"==typeof a&&\"number\"==typeof c?b._Store.currentPosition={lat:a,lng:c}:b.Logger.error(\"Position latitude and/or longitude must both be of type number\"));},this.startNewSession=function(){b._SessionManager.startNewSession();},this.endSession=function(){// Sends true as an over ride vs when endSession is called from the setInterval\nb._SessionManager.endSession(!0);},this.logBaseEvent=function(a,c){var d=queueIfNotInitialized(function(){b.logBaseEvent(a,c);},b);if(!d)return (b._SessionManager.resetSessionTimer(),\"string\"!=typeof a.name)?void b.Logger.error(Messages.ErrorMessages.EventNameInvalidType):(a.eventType||(a.eventType=Types.EventType.Unknown),b._Helpers.canLog()?void b._Events.logEvent(a,c):void b.Logger.error(Messages.ErrorMessages.LoggingDisabled))},this.logEvent=function(a,c,d,e,f){var g=queueIfNotInitialized(function(){b.logEvent(a,c,d,e,f);},b);if(!g)return (b._SessionManager.resetSessionTimer(),\"string\"!=typeof a)?void b.Logger.error(Messages.ErrorMessages.EventNameInvalidType):(c||(c=Types.EventType.Unknown),b._Helpers.isEventType(c)?b._Helpers.canLog()?void b._Events.logEvent({messageType:Types.MessageType.PageEvent,name:a,data:d,eventType:c,customFlags:e},f):void b.Logger.error(Messages.ErrorMessages.LoggingDisabled):void b.Logger.error(\"Invalid event type: \"+c+\", must be one of: \\n\"+JSON.stringify(Types.EventType)))},this.logError=function(a,c){var d=queueIfNotInitialized(function(){b.logError(a,c);},b);if(!d&&(b._SessionManager.resetSessionTimer(),!!a)){\"string\"==typeof a&&(a={message:a});var e={m:a.message?a.message:a,s:\"Error\",t:a.stack||null};if(c){var f=b._Helpers.sanitizeAttributes(c,e.m);for(var g in f)e[g]=f[g];}b._Events.logEvent({messageType:Types.MessageType.CrashReport,name:a.name?a.name:\"Error\",data:e,eventType:Types.EventType.Other});}},this.logLink=function(a,c,d,e){b._Events.addEventHandler(\"click\",a,c,e,d);},this.logForm=function(a,c,d,e){b._Events.addEventHandler(\"submit\",a,c,e,d);},this.logPageView=function(a,c,d,e){var f=queueIfNotInitialized(function(){b.logPageView(a,c,d,e);},b);if(!f){if(b._SessionManager.resetSessionTimer(),b._Helpers.canLog()){if(b._Helpers.Validators.isStringOrNumber(a)||(a=\"PageView\"),!c)c={hostname:window.location.hostname,title:window.document.title};else if(!b._Helpers.isObject(c))return void b.Logger.error(\"The attributes argument must be an object. A \"+_typeof(c)+\" was entered. Please correct and retry.\");if(d&&!b._Helpers.isObject(d))return void b.Logger.error(\"The customFlags argument must be an object. A \"+_typeof(d)+\" was entered. Please correct and retry.\")}b._Events.logEvent({messageType:Types.MessageType.PageView,name:a,data:c,eventType:Types.EventType.Unknown,customFlags:d},e);}},this.upload=function(){b._Helpers.canLog()&&(b._Store.webviewBridgeEnabled?b._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.Upload):b._APIClient.uploader.prepareAndUpload(!1,!1));},this.Consent={/**\n         * Creates a CCPA Opt Out Consent State.\n         *\n         * @method createCCPAConsent\n         * @param {Boolean} optOut true represents a \"data sale opt-out\", false represents the user declining a \"data sale opt-out\"\n         * @param {Number} timestamp Unix time (likely to be Date.now())\n         * @param {String} consentDocument document version or experience that the user may have consented to\n         * @param {String} location location where the user gave consent\n         * @param {String} hardwareId hardware ID for the device or browser used to give consent. This property exists only to provide additional context and is not used to identify users\n         * @return {Object} CCPA Consent State\n         */createCCPAConsent:b._Consent.createPrivacyConsent,/**\n         * Creates a GDPR Consent State.\n         *\n         * @method createGDPRConsent\n         * @param {Boolean} consent true represents a \"data sale opt-out\", false represents the user declining a \"data sale opt-out\"\n         * @param {Number} timestamp Unix time (likely to be Date.now())\n         * @param {String} consentDocument document version or experience that the user may have consented to\n         * @param {String} location location where the user gave consent\n         * @param {String} hardwareId hardware ID for the device or browser used to give consent. This property exists only to provide additional context and is not used to identify users\n         * @return {Object} GDPR Consent State\n         */createGDPRConsent:b._Consent.createPrivacyConsent,/**\n         * Creates a Consent State Object, which can then be used to set CCPA states, add multiple GDPR states, as well as get and remove these privacy states.\n         *\n         * @method createConsentState\n         * @return {Object} ConsentState object\n         */createConsentState:b._Consent.createConsentState},this.eCommerce={/**\n         * Invoke these methods on the mParticle.eCommerce.Cart object.\n         * Example: mParticle.eCommerce.Cart.add(...)\n         * @class mParticle.eCommerce.Cart\n         * @deprecated\n         */Cart:{/**\n             * Adds a product to the cart\n             * @method add\n             * @param {Object} product The product you want to add to the cart\n             * @param {Boolean} [logEventBoolean] Option to log the event to mParticle's servers. If blank, no logging occurs.\n             * @deprecated\n             */add:function add(a,c){b.Logger.warning(\"Deprecated function eCommerce.Cart.add() will be removed in future releases\");var d,e=b.Identity.getCurrentUser();e&&(d=e.getMPID()),b._Identity.mParticleUserCart(d).add(a,c);},/**\n             * Removes a product from the cart\n             * @method remove\n             * @param {Object} product The product you want to add to the cart\n             * @param {Boolean} [logEventBoolean] Option to log the event to mParticle's servers. If blank, no logging occurs.\n             * @deprecated\n             */remove:function remove(a,c){b.Logger.warning(\"Deprecated function eCommerce.Cart.remove() will be removed in future releases\");var d,e=b.Identity.getCurrentUser();e&&(d=e.getMPID()),b._Identity.mParticleUserCart(d).remove(a,c);},/**\n             * Clears the cart\n             * @method clear\n             * @deprecated\n             */clear:function clear(){b.Logger.warning(\"Deprecated function eCommerce.Cart.clear() will be removed in future releases\");var a,c=b.Identity.getCurrentUser();c&&(a=c.getMPID()),b._Identity.mParticleUserCart(a).clear();}},/**\n         * Sets the currency code\n         * @for mParticle.eCommerce\n         * @method setCurrencyCode\n         * @param {String} code The currency code\n         */setCurrencyCode:function setCurrencyCode(a){var c=queueIfNotInitialized(function(){b.eCommerce.setCurrencyCode(a);},b);return c?void 0:\"string\"==typeof a?void(b._SessionManager.resetSessionTimer(),b._Store.currencyCode=a):void b.Logger.error(\"Code must be a string\")},/**\n         * Creates a product\n         * @for mParticle.eCommerce\n         * @method createProduct\n         * @param {String} name product name\n         * @param {String} sku product sku\n         * @param {Number} price product price\n         * @param {Number} [quantity] product quantity. If blank, defaults to 1.\n         * @param {String} [variant] product variant\n         * @param {String} [category] product category\n         * @param {String} [brand] product brand\n         * @param {Number} [position] product position\n         * @param {String} [coupon] product coupon\n         * @param {Object} [attributes] product attributes\n         */createProduct:function createProduct(a,c,d,e,f,g,h,i,j,k){return b._Ecommerce.createProduct(a,c,d,e,f,g,h,i,j,k)},/**\n         * Creates a promotion\n         * @for mParticle.eCommerce\n         * @method createPromotion\n         * @param {String} id a unique promotion id\n         * @param {String} [creative] promotion creative\n         * @param {String} [name] promotion name\n         * @param {Number} [position] promotion position\n         */createPromotion:function createPromotion(a,c,d,e){return b._Ecommerce.createPromotion(a,c,d,e)},/**\n         * Creates a product impression\n         * @for mParticle.eCommerce\n         * @method createImpression\n         * @param {String} name impression name\n         * @param {Object} product the product for which an impression is being created\n         */createImpression:function createImpression(a,c){return b._Ecommerce.createImpression(a,c)},/**\n         * Creates a transaction attributes object to be used with a checkout\n         * @for mParticle.eCommerce\n         * @method createTransactionAttributes\n         * @param {String or Number} id a unique transaction id\n         * @param {String} [affiliation] affilliation\n         * @param {String} [couponCode] the coupon code for which you are creating transaction attributes\n         * @param {Number} [revenue] total revenue for the product being purchased\n         * @param {String} [shipping] the shipping method\n         * @param {Number} [tax] the tax amount\n         */createTransactionAttributes:function createTransactionAttributes(a,c,d,e,f,g){return b._Ecommerce.createTransactionAttributes(a,c,d,e,f,g)},/**\n         * Logs a checkout action\n         * @for mParticle.eCommerce\n         * @method logCheckout\n         * @param {Number} step checkout step number\n         * @param {String} option\n         * @param {Object} attrs\n         * @param {Object} [customFlags] Custom flags for the event\n         * @deprecated\n         */logCheckout:function logCheckout(a,c,d,e){return b.Logger.warning(\"mParticle.logCheckout is deprecated, please use mParticle.logProductAction instead\"),b._Store.isInitialized?void(b._SessionManager.resetSessionTimer(),b._Events.logCheckoutEvent(a,c,d,e)):void b.ready(function(){b.eCommerce.logCheckout(a,c,d,e);})},/**\n         * Logs a product action\n         * @for mParticle.eCommerce\n         * @method logProductAction\n         * @param {Number} productActionType product action type as found [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/src/types.js#L206-L218)\n         * @param {Object} product the product for which you are creating the product action\n         * @param {Object} [attrs] attributes related to the product action\n         * @param {Object} [customFlags] Custom flags for the event\n         * @param {Object} [transactionAttributes] Transaction Attributes for the event\n         * @param {Object} [eventOptions] For Event-level Configuration Options\n         */logProductAction:function logProductAction(a,c,d,e,f,g){var h=queueIfNotInitialized(function(){b.eCommerce.logProductAction(a,c,d,e,f,g);},b);h||(b._SessionManager.resetSessionTimer(),b._Events.logProductActionEvent(a,c,d,e,f,g));},/**\n         * Logs a product purchase\n         * @for mParticle.eCommerce\n         * @method logPurchase\n         * @param {Object} transactionAttributes transactionAttributes object\n         * @param {Object} product the product being purchased\n         * @param {Boolean} [clearCart] boolean to clear the cart after logging or not. Defaults to false\n         * @param {Object} [attrs] other attributes related to the product purchase\n         * @param {Object} [customFlags] Custom flags for the event\n         * @deprecated\n         */logPurchase:function logPurchase(a,c,d,e,f){return b.Logger.warning(\"mParticle.logPurchase is deprecated, please use mParticle.logProductAction instead\"),b._Store.isInitialized?a&&c?void(b._SessionManager.resetSessionTimer(),b._Events.logPurchaseEvent(a,c,e,f)):void b.Logger.error(Messages.ErrorMessages.BadLogPurchase):void b.ready(function(){b.eCommerce.logPurchase(a,c,d,e,f);})},/**\n         * Logs a product promotion\n         * @for mParticle.eCommerce\n         * @method logPromotion\n         * @param {Number} type the promotion type as found [here](https://github.com/mParticle/mparticle-sdk-javascript/blob/master-v2/src/types.js#L275-L279)\n         * @param {Object} promotion promotion object\n         * @param {Object} [attrs] boolean to clear the cart after logging or not\n         * @param {Object} [customFlags] Custom flags for the event\n         * @param {Object} [eventOptions] For Event-level Configuration Options\n         */logPromotion:function logPromotion(a,c,d,e,f){var g=queueIfNotInitialized(function(){b.eCommerce.logPromotion(a,c,d,e,f);},b);g||(b._SessionManager.resetSessionTimer(),b._Events.logPromotionEvent(a,c,d,e,f));},/**\n         * Logs a product impression\n         * @for mParticle.eCommerce\n         * @method logImpression\n         * @param {Object} impression product impression object\n         * @param {Object} attrs attributes related to the impression log\n         * @param {Object} [customFlags] Custom flags for the event\n         * @param {Object} [eventOptions] For Event-level Configuration Options\n         */logImpression:function logImpression(a,c,d,e){var f=queueIfNotInitialized(function(){b.eCommerce.logImpression(a,c,d,e);},b);f||(b._SessionManager.resetSessionTimer(),b._Events.logImpressionEvent(a,c,d,e));},/**\n         * Logs a refund\n         * @for mParticle.eCommerce\n         * @method logRefund\n         * @param {Object} transactionAttributes transaction attributes related to the refund\n         * @param {Object} product product being refunded\n         * @param {Boolean} [clearCart] boolean to clear the cart after refund is logged. Defaults to false.\n         * @param {Object} [attrs] attributes related to the refund\n         * @param {Object} [customFlags] Custom flags for the event\n         * @deprecated\n         */logRefund:function logRefund(a,c,d,e,f){return b.Logger.warning(\"mParticle.logRefund is deprecated, please use mParticle.logProductAction instead\"),b._Store.isInitialized?void(b._SessionManager.resetSessionTimer(),b._Events.logRefundEvent(a,c,e,f)):void b.ready(function(){b.eCommerce.logRefund(a,c,d,e,f);})},expandCommerceEvent:function expandCommerceEvent(a){return b._Ecommerce.expandCommerceEvent(a)}},this.setSessionAttribute=function(a,c){var d=queueIfNotInitialized(function(){b.setSessionAttribute(a,c);},b);if(!d&&b._Helpers.canLog())// Logs to cookie\n// And logs to in-memory object\n// Example: mParticle.setSessionAttribute('location', '33431');\n{if(!b._Helpers.Validators.isValidAttributeValue(c))return void b.Logger.error(Messages.ErrorMessages.BadAttribute);if(!b._Helpers.Validators.isValidKeyValue(a))return void b.Logger.error(Messages.ErrorMessages.BadKey);if(b._Store.webviewBridgeEnabled)b._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:a,value:c}));else {var e=b._Helpers.findKeyInObject(b._Store.sessionAttributes,a);e&&(a=e),b._Store.sessionAttributes[a]=c,b._Persistence.update(),b._Forwarders.applyToForwarders(\"setSessionAttribute\",[a,c]);}}},this.setOptOut=function(a){var c=queueIfNotInitialized(function(){b.setOptOut(a);},b);c||(b._SessionManager.resetSessionTimer(),b._Store.isEnabled=!a,b._Events.logOptOut(),b._Persistence.update(),b._Store.activeForwarders.length&&b._Store.activeForwarders.forEach(function(c){if(c.setOptOut){var d=c.setOptOut(a);d&&b.Logger.verbose(d);}}));},this.setIntegrationAttribute=function(a,c){var d=queueIfNotInitialized(function(){b.setIntegrationAttribute(a,c);},b);if(!d){if(\"number\"!=typeof a)return void b.Logger.error(\"integrationId must be a number\");if(null===c)b._Store.integrationAttributes[a]={};else {if(!b._Helpers.isObject(c))return void b.Logger.error(\"Attrs must be an object with keys and values. You entered a \"+_typeof(c));if(0===Object.keys(c).length)b._Store.integrationAttributes[a]={};else for(var e in c)if(\"string\"!=typeof e){b.Logger.error(\"Keys must be strings, you entered a \"+_typeof(e));continue}else if(\"string\"==typeof c[e])b._Helpers.isObject(b._Store.integrationAttributes[a])?b._Store.integrationAttributes[a][e]=c[e]:(b._Store.integrationAttributes[a]={},b._Store.integrationAttributes[a][e]=c[e]);else {b.Logger.error(\"Values for integration attributes must be strings. You entered a \"+_typeof(c[e]));continue}}b._Persistence.update();}},this.getIntegrationAttributes=function(a){return b._Store.integrationAttributes[a]?b._Store.integrationAttributes[a]:{}},this.addForwarder=function(a){b._preInit.forwarderConstructors.push(a);},this.configurePixel=function(a){b._Forwarders.configurePixel(a);},this._getActiveForwarders=function(){return b._Store.activeForwarders},this._getIntegrationDelays=function(){return b._preInit.integrationDelays},this._setIntegrationDelay=function(a,c){b._preInit.integrationDelays[a]=c;};}// Some (server) config settings need to be returned before they are set on SDKConfig in a self hosted environment\nfunction completeSDKInitialization(a,b,c){var d=createKitBlocker(b,c);if(c._APIClient=new APIClient(c,d),c._Forwarders=new Forwarders(c,d),b.flags){if(b.flags.hasOwnProperty(Constants.FeatureFlags.EventsV3)){// TODO: Remove this after 8/12/2022\nif(\"100\"!==b.flags[Constants.FeatureFlags.EventsV3]){c.Logger.warning(\"mParticle will be enabling Event Batching for all customers on July 12, 2022. For more details, please see our docs: https://docs.mparticle.com/developers/sdk/web/getting-started/\");}c._Store.SDKConfig.flags[Constants.FeatureFlags.EventsV3]=b.flags[Constants.FeatureFlags.EventsV3];}b.flags.hasOwnProperty(Constants.FeatureFlags.EventBatchingIntervalMillis)&&(c._Store.SDKConfig.flags[Constants.FeatureFlags.EventBatchingIntervalMillis]=b.flags[Constants.FeatureFlags.EventBatchingIntervalMillis]);}if(c._Store.storageName=c._Helpers.createMainStorageName(b.workspaceToken),c._Store.prodStorageName=c._Helpers.createProductStorageName(b.workspaceToken),b.hasOwnProperty(\"workspaceToken\")?c._Store.SDKConfig.workspaceToken=b.workspaceToken:c.Logger.warning(\"You should have a workspaceToken on your config object for security purposes.\"),b.hasOwnProperty(\"requiredWebviewBridgeName\")?c._Store.SDKConfig.requiredWebviewBridgeName=b.requiredWebviewBridgeName:b.hasOwnProperty(\"workspaceToken\")&&(c._Store.SDKConfig.requiredWebviewBridgeName=b.workspaceToken),c._Store.webviewBridgeEnabled=c._NativeSdkHelpers.isWebviewEnabled(c._Store.SDKConfig.requiredWebviewBridgeName,c._Store.SDKConfig.minWebviewBridgeVersion),c._Store.configurationLoaded=!0,c._Store.webviewBridgeEnabled||(c._Migrations.migrate(),c._Persistence.initializeStorage()),c._Store.webviewBridgeEnabled)c._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:\"$src_env\",value:\"webview\"})),a&&c._NativeSdkHelpers.sendToNative(Constants.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:\"$src_key\",value:a}));else {var e;// If no initialIdentityRequest is passed in, we set the user identities to what is currently in cookies for the identify request\nif(c._Helpers.isObject(c._Store.SDKConfig.identifyRequest)&&c._Helpers.isObject(c._Store.SDKConfig.identifyRequest.userIdentities)&&0===Object.keys(c._Store.SDKConfig.identifyRequest.userIdentities).length||!c._Store.SDKConfig.identifyRequest){var f={};if(e=c.Identity.getCurrentUser(),e){var g=e.getUserIdentities().userIdentities||{};for(var h in g)g.hasOwnProperty(h)&&(f[h]=g[h]);}c._Store.SDKConfig.identifyRequest={userIdentities:f};}// If migrating from pre-IDSync to IDSync, a sessionID will exist and an identify request will not have been fired, so we need this check\nc._Store.migratingToIDSyncCookies&&(c.Identity.identify(c._Store.SDKConfig.identifyRequest,c._Store.SDKConfig.identityCallback),c._Store.migratingToIDSyncCookies=!1),e=c.Identity.getCurrentUser(),c._Helpers.getFeatureFlag(Constants.FeatureFlags.ReportBatching)&&c._ForwardingStatsUploader.startForwardingStatsTimer(),c._Forwarders.processForwarders(b,c._APIClient.prepareForwardingStats),c._SessionManager.initialize(),c._Events.logAST(),!c._Store.identifyCalled&&c._Store.SDKConfig.identityCallback&&e&&e.getMPID()&&c._Store.SDKConfig.identityCallback({httpCode:HTTPCodes.activeSession,getUser:function getUser(){return c._Identity.mParticleUser(e.getMPID())},getPreviousUser:function getPreviousUser(){var a=c.Identity.getUsers(),b=a.shift();return b&&e&&b.getMPID()===e.getMPID()&&(b=a.shift()),b||null},body:{mpid:e.getMPID(),is_logged_in:c._Store.isLoggedIn,matched_identities:e.getUserIdentities().userIdentities,context:null,is_ephemeral:!1}});}c._Store.isInitialized=!0,c._preInit.readyQueue&&c._preInit.readyQueue.length&&(c._preInit.readyQueue.forEach(function(a){c._Helpers.Validators.isFunction(a)?a():Array.isArray(a)&&processPreloadedItem(a,c);}),c._preInit.readyQueue=[]),c._Store.isFirstRun&&(c._Store.isFirstRun=!1);}function createKitBlocker(a,b){var c,d,e,f;/*  There are three ways a data plan object for blocking can be passed to the SDK:\n            1. Manually via config.dataPlanOptions (this takes priority)\n            If not passed in manually, we user the server provided via either\n            2. Snippet via /mparticle.js endpoint (config.dataPlan.document)\n            3. Self hosting via /config endpoint (config.dataPlanResult)\n    */return a.dataPlanOptions&&(b.Logger.verbose(\"Customer provided data plan found\"),f=a.dataPlanOptions,d={document:{dtpn:{vers:f.dataPlanVersion,blok:{ev:f.blockEvents,ea:f.blockEventAttributes,ua:f.blockUserAttributes,id:f.blockUserIdentities}}}}),d||(a.dataPlan&&a.dataPlan.document?a.dataPlan.document.error_message?e=a.dataPlan.document.error_message:(b.Logger.verbose(\"Data plan found from mParticle.js\"),d=a.dataPlan):a.dataPlanResult&&(a.dataPlanResult.error_message?e=a.dataPlanResult.error_message:(b.Logger.verbose(\"Data plan found from /config\"),d={document:a.dataPlanResult}))),e&&b.Logger.error(e),d&&(c=new KitBlocker(d,b)),c}function runPreConfigFetchInitialization(a,b,c){a.Logger=new Logger(c),a._Store=new Store(c,a),window.mParticle.Store=a._Store,a._Store.devToken=b||null,a.Logger.verbose(Messages.InformationMessages.StartingInitialization);//check to see if localStorage is available for migrating purposes\ntry{a._Store.isLocalStorageAvailable=a._Persistence.determineLocalStorageAvailability(window.localStorage);}catch(b){a.Logger.warning(\"localStorage is not available, using cookies if available\"),a._Store.isLocalStorageAvailable=!1;}}function processPreloadedItem(a,b){var c=a,d=c.splice(0,1)[0];// if the first argument is a method on the base mParticle object, run it\nif(mParticle[c[0]])mParticle[d].apply(this,c);else {var e=d.split(\".\");try{for(var f,g=mParticle,h=0;h<e.length;h++)f=e[h],g=g[f];g.apply(this,c);}catch(a){b.Logger.verbose(\"Unable to compute proper mParticle function \"+a);}}}function queueIfNotInitialized(a,b){return !b.isInitialized()&&(b.ready(function(){a();}),!0)}\n\n// This file is used ONLY for the mParticle ESLint plugin. It should NOT be used otherwise!\nvar _BatchValidator=/** @class */function(){function a(){}return a.prototype.getMPInstance=function(){return {// Certain Helper, Store, and Identity properties need to be mocked to be used in the `returnBatch` method\n_Helpers:{sanitizeAttributes:window.mParticle.getInstance()._Helpers.sanitizeAttributes,generateUniqueId:function generateUniqueId(){return \"mockId\"},extend:window.mParticle.getInstance()._Helpers.extend},_Store:{sessionId:\"mockSessionId\",SDKConfig:{}},Identity:{getCurrentUser:function getCurrentUser(){return null}},getAppVersion:function getAppVersion(){return null},getAppName:function getAppName(){return null}}},a.prototype.returnBatch=function(a){var b=this.getMPInstance(),c=new ServerModel(b).createEventObject(a),d=convertEvents(\"0\",[c],b);return d},a}();\n\nArray.prototype.forEach||(Array.prototype.forEach=Polyfill.forEach),Array.prototype.map||(Array.prototype.map=Polyfill.map),Array.prototype.filter||(Array.prototype.filter=Polyfill.filter),Array.isArray||(Array.prototype.isArray=Polyfill.isArray);function mParticle$1(){var a=this;// Only leaving this here in case any clients are trying to access mParticle.Store, to prevent from throwing\n/**\n     * Initializes the mParticle instance. If no instanceName is provided, an instance name of `default_instance` will be used.\n     * <p>\n     * If you'd like to initiate multiple mParticle instances, first review our <a href=\"https://docs.mparticle.com/developers/sdk/web/multiple-instances/\">doc site</a>, and ensure you pass a unique instance name as the third argument as shown below.\n     * @method init\n     * @param {String} apiKey your mParticle assigned API key\n     * @param {Object} [config] an options object for additional configuration\n     * @param {String} [instanceName] If you are self hosting the JS SDK and working with multiple instances, you would pass an instanceName to `init`. This instance will be selected when invoking other methods. See the above link to the doc site for more info and examples.\n     */this.Store={},this._instances={},this.IdentityType=Types.IdentityType,this.EventType=Types.EventType,this.CommerceEventType=Types.CommerceEventType,this.PromotionType=Types.PromotionActionType,this.ProductActionType=Types.ProductActionType,\"undefined\"!=typeof window&&(this.isIOS=!!(window.mParticle&&window.mParticle.isIOS)&&window.mParticle.isIOS,this.config=window.mParticle&&window.mParticle.config?window.mParticle.config:{}),this.init=function(b,c,d){!c&&window.mParticle&&window.mParticle.config&&(console.warn(\"You did not pass a config object to mParticle.init(). Attempting to use the window.mParticle.config if it exists. Please note that in a future release, this may not work and mParticle will not initialize properly\"),c=window.mParticle?window.mParticle.config:{}),d=(d&&0!==d.length?d:Constants.DefaultInstance).toLowerCase();var e=a._instances[d];e===void 0&&(e=new mParticleInstance(b),a._instances[d]=e),e.init(b,c,d);},this.getInstance=function(b){var c;return b?(c=a._instances[b.toLowerCase()],c?c:(console.log(\"You tried to initialize an instance named \"+b+\". This instance does not exist. Check your instance name or initialize a new instance with this name before calling it.\"),null)):(b=Constants.DefaultInstance,c=a._instances[b],c||(c=new mParticleInstance(b),a._instances[Constants.DefaultInstance]=c),c)},this.getDeviceId=function(){return a.getInstance().getDeviceId()},this.setDeviceId=function(b){return a.getInstance().setDeviceId(b)},this.isInitialized=function(){return a.getInstance().isInitialized()},this.startNewSession=function(){a.getInstance().startNewSession();},this.endSession=function(){a.getInstance().endSession();},this.setLogLevel=function(b){a.getInstance().setLogLevel(b);},this.ready=function(b){a.getInstance().ready(b);},this.setAppVersion=function(b){a.getInstance().setAppVersion(b);},this.getAppName=function(){return a.getInstance().getAppName()},this.setAppName=function(b){a.getInstance().setAppName(b);},this.getAppVersion=function(){return a.getInstance().getAppVersion()},this.stopTrackingLocation=function(){a.getInstance().stopTrackingLocation();},this.startTrackingLocation=function(b){a.getInstance().startTrackingLocation(b);},this.setPosition=function(b,c){a.getInstance().setPosition(b,c);},this.startNewSession=function(){a.getInstance().startNewSession();},this.endSession=function(){a.getInstance().endSession();},this.logBaseEvent=function(b,c){a.getInstance().logBaseEvent(b,c);},this.logEvent=function(b,c,d,e,f){a.getInstance().logEvent(b,c,d,e,f);},this.logError=function(b,c){a.getInstance().logError(b,c);},this.logLink=function(b,c,d,e){a.getInstance().logLink(b,c,d,e);},this.logForm=function(b,c,d,e){a.getInstance().logForm(b,c,d,e);},this.logPageView=function(b,c,d,e){a.getInstance().logPageView(b,c,d,e);},this.upload=function(){a.getInstance().upload();},this.eCommerce={Cart:{add:function add(b,c){a.getInstance().eCommerce.Cart.add(b,c);},remove:function remove(b,c){a.getInstance().eCommerce.Cart.remove(b,c);},clear:function clear(){a.getInstance().eCommerce.Cart.clear();}},setCurrencyCode:function setCurrencyCode(b){a.getInstance().eCommerce.setCurrencyCode(b);},createProduct:function createProduct(b,c,d,e,f,g,h,i,j,k){return a.getInstance().eCommerce.createProduct(b,c,d,e,f,g,h,i,j,k)},createPromotion:function createPromotion(b,c,d,e){return a.getInstance().eCommerce.createPromotion(b,c,d,e)},createImpression:function createImpression(b,c){return a.getInstance().eCommerce.createImpression(b,c)},createTransactionAttributes:function createTransactionAttributes(b,c,d,e,f,g){return a.getInstance().eCommerce.createTransactionAttributes(b,c,d,e,f,g)},logCheckout:function logCheckout(b,c,d,e){a.getInstance().eCommerce.logCheckout(b,c,d,e);},logProductAction:function logProductAction(b,c,d,e,f,g){a.getInstance().eCommerce.logProductAction(b,c,d,e,f,g);},logPurchase:function logPurchase(b,c,d,e,f){a.getInstance().eCommerce.logPurchase(b,c,d,e,f);},logPromotion:function logPromotion(b,c,d,e,f){a.getInstance().eCommerce.logPromotion(b,c,d,e,f);},logImpression:function logImpression(b,c,d,e){a.getInstance().eCommerce.logImpression(b,c,d,e);},logRefund:function logRefund(b,c,d,e,f){a.getInstance().eCommerce.logRefund(b,c,d,e,f);},expandCommerceEvent:function expandCommerceEvent(b){return a.getInstance().eCommerce.expandCommerceEvent(b)}},this.setSessionAttribute=function(b,c){a.getInstance().setSessionAttribute(b,c);},this.setOptOut=function(b){a.getInstance().setOptOut(b);},this.setIntegrationAttribute=function(b,c){a.getInstance().setIntegrationAttribute(b,c);},this.getIntegrationAttributes=function(b){return a.getInstance().getIntegrationAttributes(b)},this.Identity={HTTPCodes:a.getInstance().Identity.HTTPCodes,aliasUsers:function aliasUsers(b,c){a.getInstance().Identity.aliasUsers(b,c);},createAliasRequest:function createAliasRequest(b,c){return a.getInstance().Identity.createAliasRequest(b,c)},getCurrentUser:function getCurrentUser(){return a.getInstance().Identity.getCurrentUser()},getUser:function getUser(b){return a.getInstance().Identity.getUser(b)},getUsers:function getUsers(){return a.getInstance().Identity.getUsers()},identify:function identify(b,c){a.getInstance().Identity.identify(b,c);},login:function login(b,c){a.getInstance().Identity.login(b,c);},logout:function logout(b,c){a.getInstance().Identity.logout(b,c);},modify:function modify(b,c){a.getInstance().Identity.modify(b,c);}},this.sessionManager={getSession:function getSession(){return a.getInstance()._SessionManager.getSession()}},this.Consent={createConsentState:function createConsentState(){return a.getInstance().Consent.createConsentState()},createGDPRConsent:function createGDPRConsent(b,c,d,e,f){return a.getInstance().Consent.createGDPRConsent(b,c,d,e,f)},createCCPAConsent:function createCCPAConsent(b,c,d,e,f){return a.getInstance().Consent.createGDPRConsent(b,c,d,e,f)}},this.reset=function(){a.getInstance().reset(a.getInstance());},this._resetForTests=function(b,c){\"boolean\"==typeof c?a.getInstance()._resetForTests(b,c,a.getInstance()):a.getInstance()._resetForTests(b,!1,a.getInstance());},this.configurePixel=function(b){a.getInstance().configurePixel(b);},this._setIntegrationDelay=function(b,c){a.getInstance()._setIntegrationDelay(b,c);},this._getIntegrationDelays=function(){return a.getInstance()._getIntegrationDelays()},this.getVersion=function(){return a.getInstance().getVersion()},this.generateHash=function(b){return a.getInstance().generateHash(b)},this.addForwarder=function(b){a.getInstance().addForwarder(b);},this._getActiveForwarders=function(){return a.getInstance()._getActiveForwarders()};}var mparticleInstance=new mParticle$1;\"undefined\"!=typeof window&&(window.mParticle=mparticleInstance,window.mParticle._BatchValidator=new _BatchValidator);\n\nexport { mparticleInstance as default };\n","Object.defineProperty(exports, '__esModule', { value: true });\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar appboy_min = createCommonjsModule(function (module) {\n/*\n* Braze Web SDK v2.5.2\n* (c) Braze, Inc. 2020 - http://braze.com\n* License available at https://github.com/Appboy/appboy-web-sdk/blob/master/LICENSE\n* Compiled on 2020-04-16\n*/\n(function(){(function(b,a){if(module.exports)module.exports=a();else if(b.appboy){var d=a(),c;for(c in d)b.appboy[c]=d[c];}else b.appboy=a();})(\"undefined\"!==typeof self?self:this,function(){var appboyInterface={};var p,aa=\"function\"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if(\"function\"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={Gf:!0},fa={};try{fa.__proto__=da;ca=fa.Gf;break a}catch(a){}ca=!1;}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null;}var ha=ba;\nfunction ia(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if(\"prototype\"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d);}else a[c]=b[c];a.Kg=b.prototype;}var ja=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:this,ka=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value);};\nfunction la(a,b){if(b){var c=ja;a=a.split(\".\");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e];}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ka(c,a,{configurable:!0,writable:!0,value:b});}}\nla(\"String.prototype.repeat\",function(a){return a?a:function(b){if(null==this)throw new TypeError(\"The 'this' value for String.prototype.repeat must not be null or undefined\");var c=this+\"\";if(0>b||1342177279<b)throw new RangeError(\"Invalid count value\");b|=0;for(var d=\"\";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});\nvar ma={zg:function(a){var b=\"=\".repeat((4-a.length%4)%4);a=(a+b).replace(/\\-/g,\"+\").replace(/_/g,\"/\");a=atob(a);b=new Uint8Array(a.length);for(var c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b}};var oa={Ya:function(){function a(b){var c=(Math.random().toString(16)+\"000000000\").substr(2,8);return b?\"-\"+c.substr(0,4)+\"-\"+c.substr(4,4):c}return a()+a(!0)+a(!0)+a()}};function pa(a){var b=v;this.Wd=\"undefined\"===typeof window?self:window;this.o=a;this.w=b;}function qa(a){if(\"indexedDB\"in a.Wd)return a.Wd.indexedDB}\nfunction ra(a){try{if(null==qa(a))return !1;qa(a).open(\"Braze IndexedDB Support Test\");if(\"undefined\"!==typeof window){var b=window.Fg||window.vb||window.Hg;if(b&&b.cg&&b.cg.id)return a.w.info(\"Not using IndexedDB for storage because we are running inside an extension\"),!1}return !0}catch(c){return a.w.info(\"Not using IndexedDB for storage due to following error: \"+c),!1}}\nfunction sa(a,b,c){var d=qa(a).open(a.o.F,a.o.VERSION);if(null==d)return \"function\"===typeof c&&c(),!1;d.onupgradeneeded=function(e){a.w.info(\"Upgrading indexedDB \"+a.o.F+\" to v\"+a.o.VERSION+\"...\");e=e.target.result;for(var f in a.o.M)a.o.M.hasOwnProperty(f)&&!e.objectStoreNames.contains(a.o.M[f])&&e.createObjectStore(a.o.M[f]);};d.onsuccess=function(e){a.w.debug(\"Opened indexedDB \"+a.o.F+\" v\"+a.o.VERSION);var f=e.target.result;f.onversionchange=function(){f.close();\"function\"===typeof c&&c();a.w.error(\"Needed to close the database unexpectedly because of an upgrade in another tab\");};\nb(f);};d.onerror=function(e){a.w.info(\"Could not open indexedDB \"+a.o.F+\" v\"+a.o.VERSION+\": \"+e.target.errorCode);\"function\"===typeof c&&c();return !0};return !0}\npa.prototype.setItem=function(a,b,c,d,e){if(!ra(this))return \"function\"===typeof e&&e(),!1;var f=this;return sa(this,function(g){g.objectStoreNames.contains(a)?(g=g.transaction([a],\"readwrite\").objectStore(a).put(c,b),g.onerror=function(){f.w.error(\"Could not store object \"+b+\" in \"+a+\" on indexedDB \"+f.o.F);\"function\"===typeof e&&e();},g.onsuccess=function(){f.w.debug(\"Stored object \"+b+\" in \"+a+\" on indexedDB \"+f.o.F);\"function\"===typeof d&&d();}):(f.w.error(\"Could not store object \"+b+\" in \"+a+\" on indexedDB \"+\nf.o.F+\" - \"+a+\" is not a valid objectStore\"),\"function\"===typeof e&&e());},e)};\npa.prototype.getItem=function(a,b,c){if(!ra(this))return !1;var d=this;return sa(this,function(e){e.objectStoreNames.contains(a)?(e=e.transaction([a],\"readonly\").objectStore(a).get(b),e.onerror=function(){d.w.error(\"Could not retrieve object \"+b+\" in \"+a+\" on indexedDB \"+d.o.F);},e.onsuccess=function(f){d.w.debug(\"Retrieved object \"+b+\" in \"+a+\" on indexedDB \"+d.o.F);f=f.target.result;null!=f&&c(f);}):d.w.error(\"Could not retrieve object \"+b+\" in \"+a+\" on indexedDB \"+d.o.F+\" - \"+a+\" is not a valid objectStore\");})};\nfunction ta(a,b,c,d){ra(a)?sa(a,function(e){e.objectStoreNames.contains(b)?(e=e.transaction([b],\"readonly\").objectStore(b).openCursor(null,\"prev\"),e.onerror=function(){a.w.error(\"Could not open cursor for \"+b+\" on indexedDB \"+a.o.F);\"function\"===typeof d&&d();},e.onsuccess=function(f){f=f.target.result;null!=f&&null!=f.value&&null!=f.key?(a.w.debug(\"Retrieved last record \"+f.key+\" in \"+b+\" on indexedDB \"+a.o.F),c(f.key,f.value)):\"function\"===typeof d&&d();}):(a.w.error(\"Could not retrieve last record from \"+\nb+\" on indexedDB \"+a.o.F+\" - \"+b+\" is not a valid objectStore\"),\"function\"===typeof d&&d());},d):\"function\"===typeof d&&d();}\nfunction ua(a,b,c){ra(a)&&sa(a,function(d){d.objectStoreNames.contains(b)?(d=d.transaction([b],\"readwrite\").objectStore(b)[\"delete\"](c),d.onerror=function(){a.w.error(\"Could not delete record \"+c+\" from \"+b+\" on indexedDB \"+a.o.F);},d.onsuccess=function(){a.w.debug(\"Deleted record \"+c+\" from \"+b+\" on indexedDB \"+a.o.F);}):a.w.error(\"Could not delete record \"+c+\" from \"+b+\" on indexedDB \"+a.o.F+\" - \"+b+\" is not a valid objectStore\");});}\nfunction va(a,b,c){ra(a)&&sa(a,function(d){if(d.objectStoreNames.contains(b)){var e=d.transaction([b],\"readwrite\").objectStore(b);d=e.openCursor();var f=[];d.onerror=function(){0<f.length?(a.w.info(\"Cursor closed midway through for \"+b+\" on indexedDB \"+a.o.F),c(f)):a.w.error(\"Could not open cursor for \"+b+\" on indexedDB \"+a.o.F);};d.onsuccess=function(g){var h=g.target.result;null!=h?(null!=h.value&&null!=h.key&&(e[\"delete\"](h.key).onsuccess=function(){f.push(h.value);}),h.continue()):0<f.length&&c(f);};}else a.w.error(\"Could not retrieve objects from \"+\nb+\" on indexedDB \"+a.o.F+\" - \"+b+\" is not a valid objectStore\");});}\npa.prototype.clearData=function(){if(!ra(this))return !1;var a=[],b;for(b in this.o.M)this.o.M.hasOwnProperty(b)&&this.o.M[b]!==this.o.M.Ic&&a.push(this.o.M[b]);var c=this;return sa(this,function(d){d=d.transaction(a,\"readwrite\");for(var e=0;e<a.length;e++){var f=d.objectStore(a[e]).clear();f.onsuccess=function(){c.w.debug(\"Cleared \"+this.source.name+\" on indexedDB \"+c.o.F);};f.onerror=function(){c.w.error(\"Could not clear \"+this.source.name+\" on indexedDB \"+c.o.F);};}d.oncomplete=function(){c.w.debug(\"Cleared all object stores on indexedDB \"+\nc.o.F);};d.onerror=function(){c.w.error(\"Could not clear object stores on indexedDB \"+c.o.F);};})};var w={dd:function(a){if(void 0!==a||void 0===w.Ba)w.Ba=!!a;w.Sd||(w.Sd=!0);},yb:function(){w.Sd=!1;w.Ba=void 0;w.w=void 0;},pd:function(a){\"function\"!==typeof a?w.info(\"Ignoring setLogger call since logger is not a function\"):(w.dd(),w.w=a);},sd:function(){w.dd();w.Ba?(console.log(\"Disabling Appboy logging\"),w.Ba=!1):(console.log(\"Enabled Appboy logging\"),w.Ba=!0);},debug:function(a){w.Ba&&null!=w.w&&w.w(\"Appboy: \"+a);},info:function(a){w.Ba&&(a=\"Appboy: \"+a,null!=w.w?w.w(a):console.log(a));},error:function(a){w.Ba&&\n(a=\"Appboy SDK Error: \"+a+\" (v2.5.2)\",null!=w.w?w.w(a):console.error(a));}};var B={CustomEvent:\"ce\",bf:\"p\",nf:\"pc\",Dg:\"ca\",df:\"i\",cf:\"ie\",Me:\"cci\",Oe:\"ccic\",Ke:\"ccc\",Le:\"ccd\",Id:\"ss\",rf:\"se\",af:\"si\",Bd:\"sc\",Ad:\"sbc\",$e:\"sfe\",Pe:\"iec\",kf:\"lr\",Ge:\"uae\",Je:\"ci\",Ie:\"cc\",hf:\"lcaa\",jf:\"lcar\",Re:\"inc\",Qe:\"add\",Se:\"rem\",Te:\"set\"},wa={Ze:\"feed_displayed\",Ne:\"content_cards_displayed\"},xa={Na:{F:\"AppboyServiceWorkerAsyncStorage\",VERSION:5,M:{Ue:\"data\",Fd:\"pushClicks\",Kc:\"pushSubscribed\",Cg:\"fallbackDevice\",He:\"cardUpdates\",Ic:\"optOut\"},Ub:1}},v=w;function ya(a,b,c,d){a=za(a);return -1===a.indexOf(b)?(v.error(c+\" Valid values from \"+d+' are \"'+a.join('\"/\"')+'\".'),!1):!0}function Aa(a){return Array.isArray?Array.isArray(a):\"[object Array]\"===Object.prototype.toString.call(a)}function Ba(a){return \"[object Date]\"===Object.prototype.toString.call(a)}\nfunction Ca(a){null==a&&(a=[]);for(var b=[],c=arguments.length,d=0,e=a.length;d<e;d++){var f=a[d];if(-1===b.indexOf(f)){var g;for(g=1;g<c&&-1!==arguments[g].indexOf(f);g++);g===c&&b.push(f);}}return b}function Da(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function za(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&void 0!==a[c]&&b.push(a[c]);return b}\nfunction Ea(a,b){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;var c=a.toString();if(c!==b.toString())return !1;switch(c){case \"[object RegExp]\":case \"[object String]\":return \"\"+a===\"\"+b;case \"[object Number]\":return +a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case \"[object Date]\":case \"[object Boolean]\":return +a===+b}c=\"[object Array]\"===c;if(!c){if(\"object\"!==typeof a||\"object\"!==typeof b)return !1;var d=a.constructor,e=b.constructor;if(d!==e&&!(\"function\"===typeof d&&d instanceof\nd&&\"function\"===typeof e&&e instanceof e)&&\"constructor\"in a&&\"constructor\"in b)return !1}d=[];e=[];for(var f=d.length;f--;)if(d[f]===a)return e[f]===b;d.push(a);e.push(b);if(c){f=a.length;if(f!==b.length)return !1;for(;f--;)if(!Ea(a[f],b[f]))return !1}else{c=Da(a);f=c.length;if(Da(b).length!==f)return !1;for(;f--;){var g=c[f];if(!b.hasOwnProperty(g)||!Ea(a[g],b[g]))return !1}}d.pop();e.pop();return !0}function Fa(a,b){a/=1E3;b&&(a=Math.floor(a));return a}function Ga(a){var b=parseInt(a);return null==a||isNaN(b)?null:new Date(1E3*b)}function Ha(a){return null!=a&&Ba(a)?a.toISOString().replace(/\\.[0-9]{3}Z$/,\"\"):a}function Ia(a){return null==a||\"\"===a?null:new Date(a)}function D(a,b,c,d,e){this.Fb=a;this.type=b;this.time=null==c||\"\"===c?(new Date).valueOf():c;this.sessionId=d;this.data=e;}D.prototype.ic=function(){var a={name:this.type,time:Fa(this.time),data:this.data||{},session_id:this.sessionId};null!=this.Fb&&(a.user_id=this.Fb);return a};D.prototype.B=function(){return {u:this.Fb,t:this.type,ts:this.time,s:this.sessionId,d:this.data}};function Ja(a){return null!=a&&\"[object Object]\"===Object.prototype.toString.call(a)&&null!=a.t&&\"\"!==a.t}\nfunction Ka(a){return new D(a.u,a.t,a.ts,a.s,a.d)}function Ma(a,b,c){null==a&&(a=oa.Ya());c=parseInt(c);if(isNaN(c)||0===c)c=(new Date).valueOf();this.ea=a;this.xb=c;this.nc=(new Date).valueOf();this.bd=b;}Ma.prototype.B=function(){return {g:this.ea,e:this.bd,c:this.xb,l:this.nc}};function Na(a){if(null==a||null==a.g)return null;var b=new Ma(a.g,a.e,a.c);b.nc=a.l;return b}function Oa(a,b,c,d){(d=\"string\"===typeof a||null===a&&d)||v.error(\"Cannot \"+b+\" because \"+c+' \"'+a+'\" is invalid.');return d}function Pa(a,b,c){var d=null!=a&&\"string\"===typeof a&&(\"\"===a||a.match(Qa));d||v.error(\"Cannot \"+b+\" because \"+c+' \"'+a+'\" is invalid.');return d}var Qa=/^[^\\x00-\\x1F\\x22]+$/,Ra=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;var I={};function J(a,b){this.f=a;this.J=b;}p=J.prototype;p.A=function(a){null==a&&v.error(\"getUserId must be supplied with a callback. e.g., appboy.getUser().getUserId(function(userId) {console.log('the user id is ' + userId)})\");\"function\"===typeof a&&a(this.f.A());};\np.Hf=function(a,b){if(!Oa(a,\"add alias\",\"the alias\",!1)||0>=a.length)return v.error(\"addAlias requires a non-empty alias\"),!1;if(!Oa(b,\"add alias\",\"the label\",!1)||0>=b.length)return v.error(\"addAlias requires a non-empty label\"),!1;var c=this.J,d=new Sa,e=Ta(c.G),f=B.Ge;d.j.push(new D(c.f.A(),f,(new Date).valueOf(),e,{a:a,l:b}));d.h=Ua(c.b,d.j);return d.h};p.kg=function(a){return Oa(a,\"set first name\",\"the firstName\",!0)?this.f.H(\"first_name\",a):!1};\np.og=function(a){return Oa(a,\"set last name\",\"the lastName\",!0)?this.f.H(\"last_name\",a):!1};p.ig=function(a){return null===a||\"string\"===typeof a&&null!=a.toLowerCase().match(Ra)?this.f.H(\"email\",a):(v.error('Cannot set email address - \"'+a+'\" did not pass RFC-5322 validation.'),!1)};p.lg=function(a){\"string\"===typeof a&&(a=a.toLowerCase());return null===a||ya(Va,a,'Gender \"'+a+'\" is not a valid gender.',\"User.Genders\")?this.f.H(\"gender\",a):!1};\np.hg=function(a,b,c){if(null===a&&null===b&&null===c)return this.f.H(\"dob\",null);a=parseInt(a);b=parseInt(b);c=parseInt(c);return isNaN(a)||isNaN(b)||isNaN(c)||12<b||1>b||31<c||1>c?(v.error(\"Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);\"),!1):this.f.H(\"dob\",\"\"+a+\"-\"+b+\"-\"+c)};p.fg=function(a){return Oa(a,\"set country\",\"the country\",!0)?this.f.H(\"country\",a):!1};\np.mg=function(a){return Oa(a,\"set home city\",\"the homeCity\",!0)?this.f.H(\"home_city\",a):!1};p.ng=function(a){return Oa(a,\"set language\",\"the language\",!0)?this.f.H(\"language\",a):!1};p.jg=function(a){return ya(Wa,a,'Email notification setting \"'+a+'\" is not a valid subscription type.',\"User.NotificationSubscriptionTypes\")?this.f.H(\"email_subscribe\",a):!1};\np.qd=function(a){return ya(Wa,a,'Push notification setting \"'+a+'\" is not a valid subscription type.',\"User.NotificationSubscriptionTypes\")?this.f.H(\"push_subscribe\",a):!1};p.pg=function(a){return Oa(a,\"set phone number\",\"the phoneNumber\",!0)?null===a||a.match(Xa)?this.f.H(\"phone\",a):(v.error('Cannot set phone number - \"'+a+'\" did not pass validation.'),!1):!1};p.eg=function(a){return this.f.H(\"image_url\",a)};\np.vc=function(a,b,c,d,e){if(null==a||null==b)return v.error(\"Cannot set last-known location - latitude and longitude are required.\"),!1;a=parseFloat(a);b=parseFloat(b);null!=c&&(c=parseFloat(c));null!=d&&(d=parseFloat(d));null!=e&&(e=parseFloat(e));return isNaN(a)||isNaN(b)||null!=c&&isNaN(c)||null!=d&&isNaN(d)||null!=e&&isNaN(e)?(v.error(\"Cannot set last-known location - all supplied parameters must be numeric.\"),!1):90<a||-90>a||180<b||-180>b?(v.error(\"Cannot set last-known location - latitude and longitude are bounded by \\u00b190 and \\u00b1180 respectively.\"),\n!1):null!=c&&0>c||null!=e&&0>e?(v.error(\"Cannot set last-known location - accuracy and altitudeAccuracy may not be negative.\"),!1):this.J.vc(this.f.A(),a,b,d,c,e).h};\np.od=function(a,b){if(!Pa(a,\"set custom user attribute\",\"the given key\"))return !1;var c=typeof b,d=Ba(b),e=Aa(b);if(\"number\"!==c&&\"boolean\"!==c&&!d&&!e&&null!==b&&!Pa(b,'set custom user attribute \"'+a+'\"',\"the given value\"))return !1;d&&(b=Ha(b));if(e){for(c=0;c<b.length;c++)if(!Pa(b[c],'set custom user attribute \"'+a+'\"',\"the element in the given array\"))return !1;return Ya(this.J,B.Te,a,b).h}return this.f.od(a,b)};\np.If=function(a,b){return !Pa(a,\"add to custom user attribute array\",\"the given key\")||null!=b&&!Pa(b,\"add to custom user attribute array\",\"the given value\")?!1:Ya(this.J,B.Qe,a,b).h};p.ag=function(a,b){return !Pa(a,\"remove from custom user attribute array\",\"the given key\")||null!=b&&!Pa(b,\"remove from custom user attribute array\",\"the given value\")?!1:Ya(this.J,B.Se,a,b).h};\np.Vf=function(a,b){if(!Pa(a,\"increment custom user attribute\",\"the given key\"))return !1;null==b&&(b=1);var c=parseInt(b);return isNaN(c)||c!==parseFloat(b)?(v.error('Cannot increment custom user attribute because the given incrementValue \"'+b+'\" is not an integer.'),!1):Ya(this.J,B.Re,a,c).h};p.nd=function(a,b,c,d,e){this.f.nd(a,b,c,d,e);Za(this.J);};p.nb=function(a){this.f.nb(a);};\np.gg=function(a,b,c){if(!Pa(a,\"set custom location attribute\",\"the given key\"))return !1;if(null!==b||null!==c)if(b=parseFloat(b),c=parseFloat(c),isNaN(b)||90<b||-90>b||isNaN(c)||180<c||-180>c)return v.error(\"Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by \\u00b190 and \\u00b1180 respectively, or must both be null for removal.\"),!1;var d=this.J,e=c;c=new Sa;if($a(d.D,a))v.info('Custom Attribute \"'+a+'\" is blacklisted, ignoring.'),c.h=!1;else{var f=Ta(d.G);\nif(null===b&&null===e){var g=B.jf;a={key:a};}else g=B.hf,a={key:a,latitude:b,longitude:e};c.j.push(new D(d.f.A(),g,(new Date).valueOf(),f,a));c.h=Ua(d.b,c.j);}return c.h};var Xa=/^[0-9 .\\\\(\\\\)\\\\+\\\\-]+$/,Va={MALE:\"m\",FEMALE:\"f\",OTHER:\"o\",UNKNOWN:\"u\",NOT_APPLICABLE:\"n\",PREFER_NOT_TO_SAY:\"p\"},Wa={OPTED_IN:\"opted_in\",SUBSCRIBED:\"subscribed\",UNSUBSCRIBED:\"unsubscribed\"};I.User=J;I.User.Genders=Va;I.User.NotificationSubscriptionTypes=Wa;I.User.prototype.getUserId=J.prototype.A;\nI.User.prototype.setFirstName=J.prototype.kg;I.User.prototype.setLastName=J.prototype.og;I.User.prototype.setEmail=J.prototype.ig;I.User.prototype.setGender=J.prototype.lg;I.User.prototype.setDateOfBirth=J.prototype.hg;I.User.prototype.setCountry=J.prototype.fg;I.User.prototype.setHomeCity=J.prototype.mg;I.User.prototype.setLanguage=J.prototype.ng;I.User.prototype.setEmailNotificationSubscriptionType=J.prototype.jg;I.User.prototype.setPushNotificationSubscriptionType=J.prototype.qd;\nI.User.prototype.setPhoneNumber=J.prototype.pg;I.User.prototype.setAvatarImageUrl=J.prototype.eg;I.User.prototype.setLastKnownLocation=J.prototype.vc;I.User.prototype.setUserAttribute=J.prototype.H;I.User.prototype.setCustomUserAttribute=J.prototype.od;I.User.prototype.addToCustomAttributeArray=J.prototype.If;I.User.prototype.removeFromCustomAttributeArray=J.prototype.ag;I.User.prototype.incrementCustomUserAttribute=J.prototype.Vf;I.User.prototype.addAlias=J.prototype.Hf;\nI.User.prototype.setCustomLocationAttribute=J.prototype.gg;function ab(){var a=navigator.userAgent||\"\",b=a.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\\/))\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i)||[];if(/trident/i.test(b[1])){var c=/\\brv[ :]+(\\.?\\d+(\\.\\d+)*)/g.exec(a)||[];return [bb,c[1]||\"\"]}if(-1!==a.indexOf(\"(Web0S; Linux/SmartTV)\"))return [\"LG Smart TV\",null];if(-1!==a.indexOf(\"CrKey\"))return [\"Chromecast\",null];if(-1!==a.indexOf(\"BRAVIA\")||-1!==a.indexOf(\"SonyCEBrowser\")||-1!==a.indexOf(\"SonyDTV\"))return [\"Sony Smart TV\",\nnull];if(-1!==a.indexOf(\"PhilipsTV\"))return [\"Philips Smart TV\",null];if(a.match(/\\b(Roku)\\b/))return [\"Roku\",null];if(a.match(/\\bAFTM\\b/))return [\"Amazon Fire Stick\",null];if(b[1]===cb&&(c=a.match(/\\b(OPR|Edge|EdgA|Edg|UCBrowser)\\/(\\.?\\d+(\\.\\d+)*)/),null!=c))return c=c.slice(1),c[0]=c[0].replace(\"OPR\",db),c[0]=c[0].replace(\"EdgA\",eb),\"Edg\"===c[0]&&(c[0]=eb),[c[0],c[1]];if(b[1]===fb&&(c=a.match(/\\b(EdgiOS)\\/(\\.?\\d+(\\.\\d+)*)/),null!=c))return c=c.slice(1),c[0]=c[0].replace(\"EdgiOS\",eb),[c[0],c[1]];b=\nb[2]?[b[1],b[2]]:[null,null];null!=(c=a.match(/version\\/(\\.?\\d+(\\.\\d+)*)/i))&&b.splice(1,1,c[1]);null!=(c=a.match(/\\b(UCBrowser)\\/(\\.?\\d+(\\.\\d+)*)/))&&b.splice(1,1,c[2]);if(b[0]===db&&null!=(c=a.match(/mini\\/(\\.?\\d+(\\.\\d+)*)/i)))return [\"Opera Mini\",c[1]||\"\"];b[0]&&(a=b[0].toLowerCase(),\"msie\"===a&&(b[0]=bb),\"crios\"===a&&(b[0]=cb),\"tizen\"===a&&(b[0]=\"Samsung Smart TV\",b[1]=null),\"samsungbrowser\"===a&&(b[0]=\"Samsung Browser\"));return b}\nfunction gb(){for(var a=hb,b=0;b<a.length;b++){var c=a[b].V,d=a[b].Jg;if(c)if(c=c.toLowerCase(),Aa(a[b].P))for(d=0;d<a[b].P.length;d++){if(-1!==c.indexOf(a[b].P[d].toLowerCase()))return a[b].R}else{if(-1!==c.indexOf(a[b].P.toLowerCase()))return a[b].R}else if(d)return a[b].R}}\nvar ib={td:\"Android\",Bc:\"iOS\",lf:\"Mac\",sf:\"Windows\"},cb=\"Chrome\",eb=\"Edge\",bb=\"Internet Explorer\",db=\"Opera\",fb=\"Safari\",hb=[{V:navigator.platform,P:\"Win\",R:ib.sf},{V:navigator.platform,P:\"Mac\",R:ib.lf},{V:navigator.platform,P:\"BlackBerry\",R:\"BlackBerry\"},{V:navigator.platform,P:\"FreeBSD\",R:\"FreeBSD\"},{V:navigator.platform,P:\"OpenBSD\",R:\"OpenBSD\"},{V:navigator.platform,P:\"Nintendo\",R:\"Nintendo\"},{V:navigator.platform,P:\"SunOS\",R:\"SunOS\"},{V:navigator.platform,P:\"PlayStation\",R:\"PlayStation\"},{V:navigator.platform,\nP:\"X11\",R:\"X11\"},{V:navigator.userAgent,P:[\"iPhone\",\"iPad\",\"iPod\"],R:ib.Bc},{V:navigator.platform,P:\"Pike v\",R:ib.Bc},{V:navigator.userAgent,P:[\"Web0S\"],R:\"WebOS\"},{V:navigator.platform,P:[\"Linux armv7l\",\"Android\"],R:ib.td},{V:navigator.userAgent,P:[\"Android\"],R:ib.td},{V:navigator.platform,P:\"Linux\",R:\"Linux\"}],jb=new function(){var a=ab();this.vb=a[0]||\"Unknown Browser\";this.version=a[1]||\"Unknown Version\";this.Dd=gb()||navigator.platform;this.language=(navigator.Mg||navigator.language||navigator.browserLanguage||\nnavigator.Lg||\"\").toLowerCase();a:{a=navigator.userAgent;a=a.toLowerCase();for(var b=\"googlebot bingbot slurp duckduckbot baiduspider yandex facebookexternalhit sogou ia_archiver https://github.com/prerender/prerender aolbuild bingpreview msnbot adsbot mediapartners-google teoma\".split(\" \"),c=0;c<b.length;c++)if(-1!==a.indexOf(b[c])){a=!0;break a}a=!1;}this.Wf=a;this.userAgent=navigator.userAgent;this.Zf=ib;};function kb(a,b){this.ia=a;this.T=b;}function lb(a,b,c){var d=c;null!=c&&c instanceof Ma&&(d=c.B());a.ia.store(b,d);}function Ua(a,b){if(null==b||0===b.length)return !1;Aa(b)||(b=[b]);var c=a.T.O(M.Gb);null!=c&&Aa(c)||(c=[]);for(var d=0;d<b.length;d++)c.push(b[d].B());return a.T.store(M.Gb,c)}\nfunction mb(a){var b=a.T.O(M.Gb);a.T.remove(M.Gb);null==b&&(b=[]);a=[];var c=!1,d=null;if(Aa(b))for(var e=0;e<b.length;e++)Ja(b[e])?a.push(Ka(b[e])):d=e;else c=!0;if(c||null!=d)e=\"Stored events could not be deserialized as Events\",c&&(e+=\", was \"+Object.prototype.toString.call(b)+\" not an array\"),null!=d&&(e+=\", value at index \"+d+\" does not look like an event\"),e+=\", serialized values were of type \"+typeof b+\": \"+JSON.stringify(b),a.push(new D(null,B.cf,(new Date).valueOf(),null,{e:e}));return a}\nfunction P(a,b,c){ya(M,b,\"StorageManager cannot store object.\",\"StorageManager.KEYS.OBJECTS\")&&a.T.store(b,c);}function Q(a,b){return ya(M,b,\"StorageManager cannot retrieve object.\",\"StorageManager.KEYS.OBJECTS\")?a.T.O(b):!1}function R(a,b){ya(M,b,\"StorageManager cannot remove object.\",\"StorageManager.KEYS.OBJECTS\")&&a.T.remove(b);}kb.prototype.clearData=function(){for(var a=Da(nb),b=Da(M),c=0;c<a.length;c++)this.ia.remove(nb[a[c]]);for(a=0;a<b.length;a++)this.T.remove(M[b[a]]);};\nfunction ob(a,b){var c=a.T.O(M.Ka);null==c&&(c={});var d=b.user_id||M.ud,e;for(e in b)\"user_id\"===e||null!=c[d]&&null!=c[d][e]||pb(a,b.user_id,e,b[e]);}function pb(a,b,c,d){var e=a.T.O(M.Ka);null==e&&(e={});var f=b||M.ud,g=e[f];null==g&&(g={},null!=b&&(g.user_id=b));if(\"custom\"===c){null==g[c]&&(g[c]={});for(var h in d)g[c][h]=d[h];}else g[c]=d;e[f]=g;return a.T.store(M.Ka,e)}function qb(a){var b=a.T.O(M.Ka);a.T.remove(M.Ka);a=[];for(var c in b)null!=b[c]&&a.push(b[c]);return a}\nvar nb={Oc:\"ab.storage.userId\",xd:\"ab.storage.deviceId\",Oa:\"ab.storage.sessionId\"},M={Lc:\"ab.test\",Gb:\"ab.storage.events\",Ka:\"ab.storage.attributes\",zc:\"ab.storage.device\",Tb:\"ab.storage.pushToken\",Gc:\"ab.storage.newsFeed\",Ec:\"ab.storage.lastNewsFeedRefresh\",ob:\"ab.storage.cardImpressions\",Hd:\"ab.storage.serverConfig\",Mc:\"ab.storage.triggers\",Nc:\"ab.storage.triggers.ts\",ff:\"ab.storage.lastTriggeredTime\",ef:\"ab.storage.lastTriggeredTimesById\",gf:\"ab.storage.lastTriggerEventDataById\",Pb:\"ab.storage.messagingSessionStart\",\npb:\"ab.storage.cc\",Lb:\"ab.storage.ccLastFullSync\",Kb:\"ab.storage.ccLastCardUpdated\",fb:\"ab.storage.ccClicks\",gb:\"ab.storage.ccImpressions\",ra:\"ab.storage.ccDismissals\",Ob:\"ab.storage.lastDisplayedTriggerTimesById\",Dc:\"ab.storage.lastDisplayedTriggerTime\",rb:\"ab.storage.triggerFireInstancesById\"};function rb(a){this.Z=a;this.ne=jb.vb===fb?3:10;}rb.prototype.Sa=function(a){return a+\".\"+this.Z};\nrb.prototype.store=function(a,b){b={v:b};try{return localStorage.setItem(this.Sa(a),JSON.stringify(b)),!0}catch(c){return v.info(\"Storage failure: \"+c.message),!1}};rb.prototype.O=function(a){try{var b=JSON.parse(localStorage.getItem(this.Sa(a)));return null==b?null:b.v}catch(c){return v.info(\"Storage retrieval failure: \"+c.message),null}};rb.prototype.remove=function(a){try{localStorage.removeItem(this.Sa(a));}catch(b){return v.info(\"Storage removal failure: \"+b.message),!1}};\nfunction sb(a,b){this.Z=a;a=0;for(var c=document.domain,d=c.split(\".\"),e=\"ab._gd\"+(new Date).valueOf();a<d.length-1&&-1===document.cookie.indexOf(e+\"=\"+e);)a++,c=\".\"+d.slice(-1-a).join(\".\"),document.cookie=e+\"=\"+e+\";domain=\"+c+\";\";document.cookie=e+\"=;expires=\"+(new Date(0)).toGMTString()+\";domain=\"+c+\";\";this.Xd=c;this.Pd=525949;this.ae=!!b;}sb.prototype.Sa=function(a){return null!=this.Z?a+\".\"+this.Z:a};function tb(a){var b=new Date;b.setTime(b.getTime()+6E4*a.Pd);return b.getFullYear()}\nsb.prototype.store=function(a,b){for(var c=za(nb),d=document.cookie.split(\";\"),e=0;e<d.length;e++){for(var f=d[e];\" \"===f.charAt(0);)f=f.substring(1);for(var g=!1,h=0;h<c.length;h++)if(0===f.indexOf(c[h])){g=!0;break}g&&(f=f.split(\"=\")[0],-1===f.indexOf(\".\"+this.Z)&&ub(this,f));}c=new Date;c.setTime(c.getTime()+6E4*this.Pd);c=\"expires=\"+c.toUTCString();d=\"domain=\"+this.Xd;b=this.ae?b:encodeURIComponent(JSON.stringify(b));a=this.Sa(a)+\"=\"+b+\";\"+c+\";\"+d+\";path=/\";if(4093<=a.length)return v.info(\"Storage failure: string is \"+\na.length+\" chars which is too large to store as a cookie.\"),!1;document.cookie=a;return !0};\nsb.prototype.O=function(a){for(var b=[],c=this.Sa(a)+\"=\",d=document.cookie.split(\";\"),e=0;e<d.length;e++){for(var f=d[e];\" \"===f.charAt(0);)f=f.substring(1);if(0===f.indexOf(c))try{var g=void 0;g=this.ae?f.substring(c.length,f.length):JSON.parse(decodeURIComponent(f.substring(c.length,f.length)));b.push(g);}catch(h){return v.info(\"Storage retrieval failure: \"+h.message),this.remove(a),null}}return 0<b.length?b[b.length-1]:null};sb.prototype.remove=function(a){ub(this,this.Sa(a));};\nfunction ub(a,b){b=b+\"=;expires=\"+(new Date(0)).toGMTString();document.cookie=b;document.cookie=b+\";path=/\";document.cookie=b+\";path=\"+document.location.pathname;a=b+\";domain=\"+a.Xd;document.cookie=a;document.cookie=a+\";path=/\";document.cookie=a+\";path=\"+document.location.pathname;}function vb(){this.Vc={};this.Vd=5242880;this.ne=3;}\nvb.prototype.store=function(a,b){var c={value:b};var d=[];b=[b];for(var e=0;b.length;){var f=b.pop();if(\"boolean\"===typeof f)e+=4;else if(\"string\"===typeof f)e+=2*f.length;else if(\"number\"===typeof f)e+=8;else if(\"object\"===typeof f&&-1===d.indexOf(f)){d.push(f);for(var g in f)b.push(f[g]);}}d=e;if(d>this.Vd)return v.info(\"Storage failure: object is \\u2248\"+d+\" bytes which is greater than the max of \"+this.Vd),!1;this.Vc[a]=c;return !0};vb.prototype.O=function(a){a=this.Vc[a];return null==a?null:a.value};\nvb.prototype.remove=function(a){this.Vc[a]=null;};function wb(a,b,c){this.ha=[];b&&this.ha.push(new sb(a));c&&this.ha.push(new rb(a));this.ha.push(new vb);}wb.prototype.store=function(a,b){for(var c=!0,d=0;d<this.ha.length;d++)c=this.ha[d].store(a,b)&&c;return c};wb.prototype.O=function(a){for(var b=0;b<this.ha.length;b++){var c=this.ha[b].O(a);if(null!=c)return c}return null};wb.prototype.remove=function(a){for(var b=0;b<this.ha.length;b++)this.ha[b].remove(a);};function xb(){this.ub={};}function yb(a,b){if(\"function\"!==typeof b)return null;var c=oa.Ya();a.ub[c]=b;return c}xb.prototype.S=function(a){delete this.ub[a];};xb.prototype.N=function(){this.ub={};};function zb(a,b){var c=[],d;for(d in a.ub)c.push(a.ub[d](b));}function Ab(){var a=this;if(null==this.Wc){this.Wc=!1;try{var b=Object.defineProperty({},\"passive\",{get:function(){a.Wc=!0;}});window.addEventListener(\"testPassive\",null,b);window.removeEventListener(\"testPassive\",null,b);}catch(c){}}return this.Wc}function Bb(a,b,c){a.addEventListener(b,c,Ab()?{passive:!0}:!1);}\nfunction Cb(a,b,c,d){if(null==a)return !1;b=b||!1;c=c||!1;a=a.getBoundingClientRect();return null==a?!1:(0<=a.top&&a.top<=(window.innerHeight||document.documentElement.clientHeight)||!b)&&(0<=a.left||!d)&&(0<=a.bottom&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!c)&&(a.right<=(window.innerWidth||document.documentElement.clientWidth)||!d)}function Db(a){if(a.onclick){var b=document.createEvent(\"MouseEvents\");b.initEvent(\"click\",!0,!0);a.onclick.apply(a,[b]);}}\nfunction Eb(a,b,c){var d=null,e=null;Bb(a,\"touchstart\",function(f){d=f.touches[0].clientX;e=f.touches[0].clientY;});Bb(a,\"touchmove\",function(f){if(null!=d&&null!=e){var g=d-f.touches[0].clientX,h=e-f.touches[0].clientY;Math.abs(g)>Math.abs(h)&&25<=Math.abs(g)?(0<g&&b===Fb?c(f):0>g&&b===Gb&&c(f),e=d=null):25<=Math.abs(h)&&(0<h&&b===Hb&&a.scrollTop===a.scrollHeight-a.offsetHeight?c(f):0>h&&b===Ib&&0===a.scrollTop&&c(f),e=d=null);}});}\nfunction Jb(a,b,c){var d=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");d.setAttribute(\"viewBox\",a);d.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\");a=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");a.setAttribute(\"d\",b);null!=c&&a.setAttribute(\"fill\",c);d.appendChild(a);return d}var Hb=\"up\",Ib=\"down\",Fb=\"left\",Gb=\"right\";function Kb(a,b,c){var d=document.createElement(\"button\");d.setAttribute(\"aria-label\",a);d.setAttribute(\"tabindex\",\"0\");d.setAttribute(\"role\",\"button\");Bb(d,\"touchstart\",function(){});d.className=\"ab-close-button\";a=Jb(\"0 0 15 15\",\"M15 1.5L13.5 0l-6 6-6-6L0 1.5l6 6-6 6L1.5 15l6-6 6 6 1.5-1.5-6-6 6-6z\",b);d.appendChild(a);d.addEventListener(\"keydown\",function(e){if(32===e.keyCode||13===e.keyCode)c(),e.stopPropagation();});d.onclick=function(e){c();e.stopPropagation();};return d}var Lb={Xf:function(){return 600>=screen.width},Sf:function(){if(\"orientation\"in window)return 90===Math.abs(window.orientation)||270===window.orientation?Lb.Ma.Cc:Lb.Ma.Sb;if(\"screen\"in window){var a=window.screen.orientation||screen.Gg||screen.Ig;null!=a&&\"object\"===typeof a&&(a=a.type);if(\"landscape-primary\"===a||\"landscape-secondary\"===a)return Lb.Ma.Cc}return Lb.Ma.Sb},Yf:function(a,b,c){c||null!=b&&b.metaKey?window.open(a):window.location=a;},Ma:{Sb:0,Cc:1}};I.WindowUtils=Lb;\nI.WindowUtils.openUri=Lb.Yf;function Mb(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A){this.id=a;this.viewed=b||!1;this.title=c||\"\";this.imageUrl=d;this.description=e||\"\";this.created=f||null;this.updated=g||null;this.categories=h||[];this.expiresAt=l||null;this.url=k;this.linkText=m;q=parseFloat(q);this.aspectRatio=isNaN(q)?null:q;this.extras=t;this.pinned=r||!1;this.dismissible=y||!1;this.dismissed=!1;this.clicked=A||!1;this.Rc=this.W=null;}function Nb(a){null==a.W&&(a.W=new xb);return a.W}\nfunction Ob(a){null==a.Rc&&(a.Rc=new xb);return a.Rc}p=Mb.prototype;p.wc=function(a){return yb(Nb(this),a)};p.ye=function(a){return yb(Ob(this),a)};p.S=function(a){Nb(this).S(a);Ob(this).S(a);};p.N=function(){Nb(this).N();Ob(this).N();};p.md=function(){this.viewed=!0;};p.eb=function(){this.clicked=this.viewed=!0;zb(Nb(this));};p.kd=function(){return this.dismissible&&!this.dismissed?(this.dismissed=!0,zb(Ob(this)),!0):!1};\nfunction Pb(a,b){if(null==b||b[S.ta]!==a.id)return !0;if(b[S.Gd])return !1;if(null!=b[S.aa]&&null!=a.updated&&b[S.aa]<Fa(a.updated.valueOf()))return !0;b[S.wa]&&!a.viewed&&(a.viewed=!0);b[S.qa]&&!a.clicked&&(a.clicked=b[S.qa]);null!=b[S.Pa]&&(a.title=b[S.Pa]);null!=b[S.ua]&&(a.imageUrl=b[S.ua]);null!=b[S.La]&&(a.description=b[S.La]);if(null!=b[S.aa]){var c=Ga(b[S.aa]);null!=c&&(a.updated=c);}null!=b[S.$]&&(a.expiresAt=b[S.$]===Qb?null:Ga(b[S.$]));null!=b[S.URL]&&(a.url=b[S.URL]);null!=b[S.va]&&(a.linkText=\nb[S.va]);null!=b[S.pa]&&(c=parseFloat(b[S.pa]),a.aspectRatio=isNaN(c)?null:c);null!=b[S.fa]&&(a.extras=b[S.fa]);null!=b[S.ga]&&(a.pinned=b[S.ga]);null!=b[S.sa]&&(a.dismissible=b[S.sa]);return !0}\nfunction Rb(a){if(a[S.Gd])return null;var b=a[S.ta],c=a[S.Qa],d=a[S.wa],e=a[S.Pa],f=a[S.ua],g=a[S.La],h=Ga(a[S.aa]);var l=a[S.$]===Qb?null:Ga(a[S.$]);var k=a[S.URL],m=a[S.va],q=a[S.pa],t=a[S.fa],r=a[S.ga],y=a[S.sa];a=a[T.qa];return c===Sb.Kd||c===Sb.Rb?new Tb(b,d,e,f,g,null,h,null,l,k,m,q,t,r,y,a):c===Sb.Ib?new Ub(b,d,e,f,g,null,h,null,l,k,m,q,t,r,y,a):c===Sb.Hb?new Vb(b,d,f,null,h,null,l,k,m,q,t,r,y,a):c===Sb.xc?new Wb(b,d,h,l,t,r):null}\nfunction Xb(a){var b=a[T.ta],c=a[T.Qa],d=a[T.wa],e=a[T.Pa],f=a[T.ua],g=a[T.La],h=Ia(a[T.Mb]),l=Ia(a[T.aa]),k=a[T.Jb],m=Ia(a[T.$]),q=a[T.URL],t=a[T.va],r=a[T.pa],y=a[T.fa],A=a[T.ga],z=a[T.sa];a=a[T.qa];if(c===Sb.Rb)return new Tb(b,d,e,f,g,h,l,k,m,q,t,r,y,A,z,a);if(c===Sb.Ib)return new Ub(b,d,e,f,g,h,l,k,m,q,t,r,y,A,z,a);if(c===Sb.Hb)return new Vb(b,d,f,h,l,k,m,q,t,r,y,A,z,a);if(c===Sb.xc)return new Wb(b,d,l,m,y,A)}\nfunction Yb(a){null!=a&&(a=a.querySelectorAll(\".ab-unread-indicator\")[0],null!=a&&(a.className+=\" read\"));}\np.Y=function(a,b,c){function d(q){Yb(f);g&&(a(e),Lb.openUri(e.url,q,c));return !1}var e=this,f=document.createElement(\"div\");f.className=\"ab-card ab-effect-card \"+this.constructor.prototype.jc;f.setAttribute(\"data-ab-card-id\",this.id);f.setAttribute(\"role\",\"article\");f.setAttribute(\"tabindex\",\"0\");var g=this.url&&\"\"!==this.url;if(this.pinned){var h=document.createElement(\"div\");h.className=\"ab-pinned-indicator\";var l=document.createElement(\"i\");l.className=\"fa fa-star\";h.appendChild(l);f.appendChild(h);}this.imageUrl&&\n\"\"!==this.imageUrl&&(h=document.createElement(\"div\"),h.className=\"ab-image-area\",l=document.createElement(\"img\"),l.setAttribute(\"src\",this.imageUrl),h.appendChild(l),f.className+=\" with-image\",g&&!this.constructor.prototype.mc?(l=document.createElement(\"a\"),l.setAttribute(\"href\",this.url),l.onclick=d,l.appendChild(h),f.appendChild(l)):f.appendChild(h));h=document.createElement(\"div\");h.className=\"ab-card-body\";if(this.dismissible){this.Ud=b;var k=Kb(\"Dismiss Card\",void 0,this.le.bind(this));f.appendChild(k);\nEb(h,Fb,function(q){f.className+=\" ab-swiped-left\";k.onclick(q);});Eb(h,Gb,function(q){f.className+=\" ab-swiped-right\";k.onclick(q);});}if(b=this.title&&\"\"!==this.title){l=document.createElement(\"h1\");l.className=\"ab-title\";l.id=oa.Ya();f.setAttribute(\"aria-labelledby\",l.id);if(g){var m=document.createElement(\"a\");m.setAttribute(\"href\",this.url);m.onclick=d;m.appendChild(document.createTextNode(this.title));l.appendChild(m);}else l.appendChild(document.createTextNode(this.title));h.appendChild(l);}l=document.createElement(\"div\");\nl.className=b?\"ab-description\":\"ab-description ab-no-title\";l.id=oa.Ya();f.setAttribute(\"aria-describedby\",l.id);l.appendChild(document.createTextNode(this.description));g&&(b=document.createElement(\"div\"),b.className=\"ab-url-area\",m=document.createElement(\"a\"),m.setAttribute(\"href\",this.url),m.appendChild(document.createTextNode(this.linkText)),m.onclick=d,b.appendChild(m),l.appendChild(b));h.appendChild(l);f.appendChild(h);h=document.createElement(\"div\");h.className=\"ab-unread-indicator\";this.viewed&&\n(h.className+=\" read\");f.appendChild(h);return this.yf=f};p.le=function(){if(this.dismissible&&!this.dismissed){this.Ud&&this.Ud(this);var a=this.yf;a&&(a.style.height=a.offsetHeight+\"px\",a.className+=\" ab-hide\",setTimeout(function(){a&&a.parentNode&&(a.style.height=\"0\",a.style.margin=\"0\",setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a);},Zb));},$b));}};\nvar Qb=-1,Sb={Ib:\"captioned_image\",Kd:\"text_announcement\",Rb:\"short_news\",Hb:\"banner_image\",xc:\"control\"},S={ta:\"id\",wa:\"v\",sa:\"db\",Gd:\"r\",aa:\"ca\",ga:\"p\",$:\"ea\",fa:\"e\",Qa:\"tp\",ua:\"i\",Pa:\"tt\",La:\"ds\",URL:\"u\",va:\"dm\",pa:\"ar\",qa:\"cl\"},T={ta:\"id\",wa:\"v\",sa:\"db\",Mb:\"cr\",aa:\"ca\",ga:\"p\",Jb:\"t\",$:\"ea\",fa:\"e\",Qa:\"tp\",ua:\"i\",Pa:\"tt\",La:\"ds\",URL:\"u\",va:\"dm\",pa:\"ar\",qa:\"cl\"},Zb=400;I.Card=Mb;I.Card.prototype.dismissCard=Mb.prototype.le;function Vb(a,b,c,d,e,f,g,h,l,k,m,q,t,r){Mb.call(this,a,b,null,c,null,d,e,f,g,h,l,k,m,q,t,r);}ia(Vb,Mb);Vb.prototype.B=function(){var a={};a[T.Qa]=Sb.Hb;a[T.ta]=this.id;a[T.wa]=this.viewed;a[T.ua]=this.imageUrl;a[T.aa]=this.updated;a[T.Mb]=this.created;a[T.Jb]=this.categories;a[T.$]=this.expiresAt;a[T.URL]=this.url;a[T.va]=this.linkText;a[T.pa]=this.aspectRatio;a[T.fa]=this.extras;a[T.ga]=this.pinned;a[T.sa]=this.dismissible;a[T.qa]=this.clicked;return a};\nja.Object.defineProperties(Vb.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return \"ab-banner\"}},mc:{configurable:!0,enumerable:!0,get:function(){return !1}}});I.Banner=Vb;function Ub(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A){Mb.call(this,a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A);}ia(Ub,Mb);Ub.prototype.B=function(){var a={};a[T.Qa]=Sb.Ib;a[T.ta]=this.id;a[T.wa]=this.viewed;a[T.Pa]=this.title;a[T.ua]=this.imageUrl;a[T.La]=this.description;a[T.aa]=this.updated;a[T.Mb]=this.created;a[T.Jb]=this.categories;a[T.$]=this.expiresAt;a[T.URL]=this.url;a[T.va]=this.linkText;a[T.pa]=this.aspectRatio;a[T.fa]=this.extras;a[T.ga]=this.pinned;a[T.sa]=this.dismissible;a[T.qa]=this.clicked;return a};\nja.Object.defineProperties(Ub.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return \"ab-captioned-image\"}},mc:{configurable:!0,enumerable:!0,get:function(){return !0}}});I.CaptionedImage=Ub;function Tb(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A){Mb.call(this,a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A);}ia(Tb,Mb);Tb.prototype.B=function(){var a={};a[T.Qa]=Sb.Rb;a[T.ta]=this.id;a[T.wa]=this.viewed;a[T.Pa]=this.title;a[T.ua]=this.imageUrl;a[T.La]=this.description;a[T.aa]=this.updated;a[T.Mb]=this.created;a[T.Jb]=this.categories;a[T.$]=this.expiresAt;a[T.URL]=this.url;a[T.va]=this.linkText;a[T.pa]=this.aspectRatio;a[T.fa]=this.extras;a[T.ga]=this.pinned;a[T.sa]=this.dismissible;a[T.qa]=this.clicked;return a};\nja.Object.defineProperties(Tb.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return \"ab-classic-card\"}},mc:{configurable:!0,enumerable:!0,get:function(){return !0}}});I.ClassicCard=Tb;function Wb(a,b,c,d,e,f){Mb.call(this,a,b,null,null,null,null,c,null,d,null,null,null,e,f,null);}ia(Wb,Mb);Wb.prototype.B=function(){var a={};a[T.Qa]=Sb.xc;a[T.ta]=this.id;a[T.wa]=this.viewed;a[T.aa]=this.updated;a[T.$]=this.expiresAt;a[T.fa]=this.extras;a[T.ga]=this.pinned;return a};ja.Object.defineProperties(Wb.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return \"ab-control-card\"}},mc:{configurable:!0,enumerable:!0,get:function(){return !1}}});I.ControlCard=Wb;function ac(a){a=parseInt(a);return !isNaN(a)&&0===(a&4278190080)>>>24}function bc(a){a=parseInt(a);if(isNaN(a))return \"\";var b=parseFloat(b);isNaN(b)&&(b=1);a>>>=0;var c=a&255,d=(a&65280)>>>8,e=(a&16711680)>>>16;return (jb.vb===bb?8<jb.version:1)?\"rgba(\"+[e,d,c,((a&4278190080)>>>24)/255*b].join()+\")\":\"rgb(\"+[e,d,c].join()+\")\"}function U(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L,Y,ea,n,u,x,C,H,O){this.message=a;this.messageAlignment=b||cc.CENTER;this.duration=q||5E3;this.slideFrom=c||dc.BOTTOM;this.extras=d||[];this.campaignId=e;this.cardId=f;this.triggerId=g;this.clickAction=h||ec.NONE;this.uri=l;this.openTarget=k||fc.NONE;this.dismissType=m||gc.AUTO_DISMISS;this.icon=t;this.imageUrl=r;this.imageStyle=y||hc.TOP;this.iconColor=A||ic.Pc;this.iconBackgroundColor=z||ic.vd;this.backgroundColor=F||ic.Pc;this.textColor=G||\nic.wd;this.closeButtonColor=E||ic.Ve;this.animateIn=K;null==this.animateIn&&(this.animateIn=!0);this.animateOut=N;null==this.animateOut&&(this.animateOut=!0);this.header=L;this.headerAlignment=Y||cc.CENTER;this.headerTextColor=ea||ic.wd;this.frameColor=n||ic.qf;this.buttons=u||[];this.cropType=x||jc;this.orientation=C;this.htmlId=H;this.css=O;this.Qd=this.Ra=this.Rd=!1;this.W=new xb;this.Yb=new xb;}p=U.prototype;p.Za=function(){return !0};p.Ce=function(){return this.Za()};\nfunction kc(a){return null!=a.htmlId&&4<a.htmlId.length}function lc(a){return kc(a)&&null!=a.css&&0<a.css.length}function mc(a){if(kc(a)&&lc(a))return a.htmlId+\"-css\"}p.wc=function(a){return yb(this.W,a)};p.ye=function(a){return yb(this.Yb,a)};p.S=function(a){this.W.S(a);this.Yb.S(a);};p.N=function(){this.W.N();this.Yb.N();};p.md=function(){return this.Rd?!1:this.Rd=!0};p.eb=function(){return this.Ra?!1:(this.Ra=!0,zb(this.W),!0)};p.kd=function(){return this.Qd?!1:(this.Qd=!0,zb(this.Yb),!0)};\nfunction nc(a){if(a.is_control)return new oc(a.trigger_id);var b=a.type;null!=b&&(b=b.toUpperCase());var c=a.message,d=a.text_align_message,e=a.slide_from,f=a.extras,g=a.campaign_id,h=a.card_id,l=a.trigger_id,k=a.click_action,m=a.uri,q=a.open_target,t=a.message_close,r=a.duration,y=a.icon,A=a.image_url,z=a.image_style,F=a.icon_color,G=a.icon_bg_color,E=a.bg_color,K=a.text_color,N=a.close_btn_color,L=a.header,Y=a.text_align_header,ea=a.header_text_color,n=a.frame_color,u=[],x=a.btns;null==x&&(x=[]);\nfor(var C=0;C<x.length;C++){var H=x[C];u.push(new pc(H.text,H.bg_color,H.text_color,H.border_color,H.click_action,H.uri,H.id));}x=a.crop_type;C=a.orientation;H=a.animate_in;var O=a.animate_out,Z=a.html_id,na=a.css;if(null==Z||\"\"===Z||null==na||\"\"===na)na=Z=void 0;if(b===qc||b===rc)c=new sc(c,d,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,H,O,L,Y,ea,n,u,x,Z,na);else if(b===tc)c=new uc(c,d,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,H,O,L,Y,ea,n,u,x,C,Z,na);else if(b===vc)c=new wc(c,d,e,f,g,h,l,k,m,q,t,r,y,A,F,G,E,K,N,H,\nO,Z,na);else if(b===xc||b===yc)c=new zc(c,f,g,h,l,t,r,H,O,n,Z,na,a.message_fields),c.xg=a.trusted||!1;else{v.error(\"Ignoring message with unknown type \"+b);return}c.dg=b;return c}function Ac(a,b){if(b&&b.parentNode){var c=b.closest(\".ab-iam-root\");null==c&&(c=b);a.Za()&&null!=c.parentNode&&((b=c.parentNode.classList)&&b.contains(Bc)&&b.remove(Bc),document.body.removeEventListener(\"touchmove\",Cc));c.className=c.className.replace(Dc,Ec);}return a.animateOut}\nfunction Fc(a,b,c){if(null!=b){a.bc=null;var d=-1===b.className.indexOf(\"ab-in-app-message\")?b.getElementsByClassName(\"ab-in-app-message\")[0]:b;var e=!1;d&&(e=Ac(a,d));var f=document.body;if(null!=f)var g=f.scrollTop;d=function(){if(b&&b.parentNode){var h=b.closest(\".ab-iam-root\");null==h&&(h=b);h.parentNode&&h.parentNode.removeChild(h);}null!=mc(a)&&(h=document.getElementById(mc(a)))&&h.parentNode&&h.parentNode.removeChild(h);null!=f&&\"Safari\"===jb.vb&&(f.scrollTop=g);c?c():a.kd();};e?setTimeout(d,\nGc):d();a.cc&&a.cc.focus();}}p.ge=function(){Fc(this,this.bc);};\np.Y=function(a,b,c,d){function e(){-1!==g.className.indexOf(\"ab-start-hidden\")&&(g.className=g.className.replace(\"ab-start-hidden\",\"\"),c(g));}var f=this,g=document.createElement(\"div\");g.className=\"ab-in-app-message ab-start-hidden ab-background\";this.Za()&&(g.className+=\" ab-modal-interactions\",g.setAttribute(\"tabindex\",\"-1\"));lc(this)||(g.style.color=bc(this.textColor),g.style.backgroundColor=bc(this.backgroundColor),ac(this.backgroundColor)&&(g.className+=\" ab-no-shadow\"));this.imageStyle===hc.GRAPHIC&&\n(g.className+=\" graphic\");this.orientation===Hc.LANDSCAPE&&(g.className+=\" landscape\");0===this.buttons.length&&(this.clickAction!==ec.NONE&&(g.className+=\" ab-clickable\"),g.onclick=function(t){Fc(f,g,function(){a.qc(f);f.clickAction===ec.URI?Lb.openUri(f.uri,t,d||f.openTarget===fc.BLANK):f.clickAction===ec.NEWS_FEED&&b();});t.stopPropagation();return !1});var h=Kb(\"Close Message\",lc(this)?void 0:bc(this.closeButtonColor),function(){Fc(f,g);});g.appendChild(h);h=document.createElement(\"div\");h.className=\n\"ab-message-text\";h.className+=\" \"+(this.messageAlignment||this.constructor.DefaultTextAlignment).toLowerCase()+\"-aligned\";var l=!1,k=document.createElement(\"div\");k.className=\"ab-image-area\";if(this.imageUrl){if(this.cropType===Ic.CENTER_CROP){var m=document.createElement(\"span\");m.className=\"ab-center-cropped-img\";m.style.backgroundImage=\"url(\"+this.imageUrl+\")\";k.appendChild(m);}else m=document.createElement(\"img\"),m.setAttribute(\"src\",this.imageUrl),l=!0,m.onload=e,setTimeout(e,1E3),k.appendChild(m);\ng.appendChild(k);h.className+=\" ab-with-image\";}else if(this.icon){k.className+=\" ab-icon-area\";m=document.createElement(\"span\");m.className=\"ab-icon\";lc(this)||(m.style.backgroundColor=bc(this.iconBackgroundColor),m.style.color=bc(this.iconColor));var q=document.createElement(\"i\");q.className=\"fa\";q.appendChild(document.createTextNode(this.icon));m.appendChild(q);k.appendChild(m);g.appendChild(k);h.className+=\" ab-with-icon\";}Bb(h,\"touchstart\",function(){});this.header&&0<this.header.length&&(k=document.createElement(\"h1\"),\nk.className=\"ab-message-header\",this.Sc=oa.Ya(),k.id=this.Sc,k.className+=\" \"+(this.headerAlignment||Jc).toLowerCase()+\"-aligned\",lc(this)||(k.style.color=bc(this.headerTextColor)),k.appendChild(document.createTextNode(this.header)),h.appendChild(k));h.appendChild(this.fe());g.appendChild(h);l||e();return this.bc=g};p.fe=function(){return document.createTextNode(this.message)};\nfunction Cc(a){a.targetTouches&&1<a.targetTouches.length||a.target.classList&&a.target.classList.contains(\"ab-message-text\")&&a.target.scrollHeight>a.target.clientHeight||a.preventDefault();}p.rc=function(a){this.Za()&&null!=a.parentNode&&this.orientation!==Hc.LANDSCAPE&&(null!=a.parentNode.classList&&a.parentNode.classList.add(Bc),document.body.addEventListener(\"touchmove\",Cc,Ab()?{passive:!1}:!1));a.className+=\" \"+Dc;};\np.ma=function(){var a=\"\";this.animateIn&&(a+=\" ab-animate-in\");this.animateOut&&(a+=\" ab-animate-out\");return a};\nvar ic={wd:4281545523,Pc:4294967295,vd:4278219733,We:4293914607,Xe:4283782485,qf:3224580915,Ve:4288387995},Kc={yd:\"hd\",Fe:\"ias\",mf:\"of\",Ye:\"do\",sb:\"umt\",qb:\"tf\",zd:\"te\"},dc={TOP:\"TOP\",BOTTOM:\"BOTTOM\"},ec={NEWS_FEED:\"NEWS_FEED\",URI:\"URI\",NONE:\"NONE\"},gc={AUTO_DISMISS:\"AUTO_DISMISS\",MANUAL:\"SWIPE\"},fc={NONE:\"NONE\",BLANK:\"BLANK\"},hc={TOP:\"TOP\",GRAPHIC:\"GRAPHIC\"},Hc={PORTRAIT:\"PORTRAIT\",LANDSCAPE:\"LANDSCAPE\"},Jc=\"CENTER\",cc={START:\"START\",CENTER:Jc,END:\"END\"},jc=\"FIT_CENTER\",Ic={CENTER_CROP:\"CENTER_CROP\",\nFIT_CENTER:jc},vc=\"SLIDEUP\",qc=\"MODAL\",rc=\"MODAL_STYLED\",tc=\"FULL\",xc=\"WEB_HTML\",yc=\"HTML\",Gc=500,Dc=\"ab-show\",Ec=\"ab-hide\",Bc=\"ab-pause-scrolling\";I.InAppMessage=U;I.InAppMessage.SlideFrom=dc;I.InAppMessage.ClickAction=ec;I.InAppMessage.DismissType=gc;I.InAppMessage.OpenTarget=fc;I.InAppMessage.ImageStyle=hc;I.InAppMessage.TextAlignment=cc;I.InAppMessage.Orientation=Hc;I.InAppMessage.CropType=Ic;I.InAppMessage.prototype.subscribeToClickedEvent=U.prototype.wc;\nI.InAppMessage.prototype.subscribeToDismissedEvent=U.prototype.ye;I.InAppMessage.prototype.removeSubscription=U.prototype.S;I.InAppMessage.prototype.removeAllSubscriptions=U.prototype.N;I.InAppMessage.prototype.closeMessage=U.prototype.ge;function pc(a,b,c,d,e,f,g){this.text=a||\"\";this.backgroundColor=b||ic.vd;this.textColor=c||ic.Pc;this.borderColor=d||this.backgroundColor;this.clickAction=e||ec.NEWS_FEED;this.uri=f;null==g&&(g=Lc);this.id=g;this.Ra=!1;this.W=new xb;}pc.prototype.wc=function(a){return yb(this.W,a)};pc.prototype.S=function(a){this.W.S(a);};pc.prototype.N=function(){this.W.N();};pc.prototype.eb=function(){return this.Ra?!1:(this.Ra=!0,zb(this.W),!0)};var Lc=-1;I.InAppMessage.Button=pc;\nI.InAppMessage.Button.prototype.subscribeToClickedEvent=pc.prototype.wc;I.InAppMessage.Button.prototype.removeSubscription=pc.prototype.S;I.InAppMessage.Button.prototype.removeAllSubscriptions=pc.prototype.N;function oc(a){this.triggerId=a;}I.ControlMessage=oc;function Mc(a){var b=a.querySelectorAll(\".ab-close-button, .ab-message-button\");if(0<b.length){var c=b[0],d=b[b.length-1];a.addEventListener(\"keydown\",function(e){var f=document.activeElement;9===e.keyCode&&(e.shiftKey||f!==d&&f!==a?!e.shiftKey||f!==c&&f!==a||(e.preventDefault(),d.focus()):(e.preventDefault(),c.focus()));});}}function Nc(a,b){b.setAttribute(\"role\",\"dialog\");b.setAttribute(\"aria-modal\",!0);b.setAttribute(\"aria-label\",\"Modal Message\");a&&b.setAttribute(\"aria-labelledby\",a);}\nfunction Oc(a,b,c,d,e){if(0<a.buttons.length){var f=document.createElement(\"div\");f.className=\"ab-message-buttons\";d.appendChild(f);var g=d.getElementsByClassName(\"ab-message-text\")[0];null!=g&&(g.className+=\" ab-with-buttons\");g=function(q){return function(t){Fc(a,d,function(){b.pc(q,a);q.clickAction===ec.URI?Lb.openUri(q.uri,t,e||a.openTarget===fc.BLANK):q.clickAction===ec.NEWS_FEED&&c();});t.stopPropagation();return !1}};for(var h=0;h<a.buttons.length;h++){var l=a.buttons[h],k=document.createElement(\"button\");\nk.className=\"ab-message-button\";k.setAttribute(\"type\",\"button\");Bb(k,\"touchstart\",function(){});var m=l.text;\"\"===l.text&&(m=\"\\u00a0\");k.appendChild(document.createTextNode(m));lc(a)||(k.style.backgroundColor=bc(l.backgroundColor),k.style.color=bc(l.textColor),k.style.borderColor=bc(l.borderColor));k.onclick=g(l);f.appendChild(k);}}}function uc(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L,Y,ea,n,u,x,C,H){k=k||gc.MANUAL;x=x||Hc.PORTRAIT;u=u||Ic.CENTER_CROP;U.call(this,a,b,null,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L,Y,ea,n,u,x,C,H);}ia(uc,U);uc.prototype.Y=function(a,b,c,d,e){this.cc=document.activeElement;b=U.prototype.Y.call(this,a,c,d,e);b.className+=\" ab-fullscreen ab-centered\";Oc(this,a,c,b,e);Mc(b);Nc(this.Sc,b);return b};uc.prototype.ma=function(){return U.prototype.ma.call(this)+\" ab-effect-fullscreen\"};\nuc.DefaultTextAlignment=Jc;I.FullScreenMessage=uc;var Pc=new function(){this.je=\".ab-pause-scrolling,body.ab-pause-scrolling,html.ab-pause-scrolling{overflow:hidden;touch-action:none}.ab-centering-div,.ab-iam-root.v3{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1050;-webkit-tap-highlight-color:transparent}.ab-centering-div:focus,.ab-iam-root.v3:focus{outline:0}.ab-centering-div.ab-effect-fullscreen,.ab-centering-div.ab-effect-html,.ab-centering-div.ab-effect-modal,.ab-iam-root.v3.ab-effect-fullscreen,.ab-iam-root.v3.ab-effect-html,.ab-iam-root.v3.ab-effect-modal{opacity:0}.ab-centering-div.ab-effect-fullscreen.ab-show,.ab-centering-div.ab-effect-html.ab-show,.ab-centering-div.ab-effect-modal.ab-show,.ab-iam-root.v3.ab-effect-fullscreen.ab-show,.ab-iam-root.v3.ab-effect-html.ab-show,.ab-iam-root.v3.ab-effect-modal.ab-show{opacity:1}.ab-centering-div.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-centering-div.ab-effect-html.ab-show.ab-animate-in,.ab-centering-div.ab-effect-modal.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-html.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-modal.ab-show.ab-animate-in{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-centering-div.ab-effect-fullscreen.ab-hide,.ab-centering-div.ab-effect-html.ab-hide,.ab-centering-div.ab-effect-modal.ab-hide,.ab-iam-root.v3.ab-effect-fullscreen.ab-hide,.ab-iam-root.v3.ab-effect-html.ab-hide,.ab-iam-root.v3.ab-effect-modal.ab-hide{opacity:0}.ab-centering-div.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-centering-div.ab-effect-html.ab-hide.ab-animate-out,.ab-centering-div.ab-effect-modal.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-html.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-modal.ab-hide.ab-animate-out{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-centering-div.ab-effect-slide .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-centering-div.ab-effect-slide.ab-show .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-show .ab-in-app-message{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-centering-div.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left{-webkit-transform:translateX(-535px);-moz-transform:translateX(-535px);-ms-transform:translateX(-535px);transform:translateX(-535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up{-webkit-transform:translateY(-535px);-moz-transform:translateY(-535px);-ms-transform:translateY(-535px);transform:translateY(-535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down{-webkit-transform:translateY(535px);-moz-transform:translateY(535px);-ms-transform:translateY(535px);transform:translateY(535px)}.ab-centering-div.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-centering-div .ab-ios-scroll-wrapper,.ab-iam-root.v3 .ab-ios-scroll-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;pointer-events:all;touch-action:auto;-webkit-overflow-scrolling:touch}.ab-centering-div .ab-in-app-message,.ab-iam-root.v3 .ab-in-app-message{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:fixed;text-align:center;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);-moz-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3);line-height:normal;letter-spacing:normal;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;z-index:1050;max-width:100%;overflow:hidden;display:inline-block;pointer-events:all;color:#333}.ab-centering-div .ab-in-app-message.ab-no-shadow,.ab-iam-root.v3 .ab-in-app-message.ab-no-shadow{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.ab-centering-div .ab-in-app-message :focus,.ab-centering-div .ab-in-app-message:focus,.ab-iam-root.v3 .ab-in-app-message :focus,.ab-iam-root.v3 .ab-in-app-message:focus{outline:0}.ab-centering-div .ab-in-app-message.ab-clickable,.ab-iam-root.v3 .ab-in-app-message.ab-clickable{cursor:pointer}.ab-centering-div .ab-in-app-message.ab-background,.ab-iam-root.v3 .ab-in-app-message.ab-background{background-color:#fff}.ab-centering-div .ab-in-app-message .ab-close-button,.ab-iam-root.v3 .ab-in-app-message .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-repeat:no-repeat;background-origin:content-box;background-size:15px;border:none;width:15px;height:15px;-webkit-border-radius:7.5px;-moz-border-radius:7.5px;border-radius:7.5px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:10px;padding-bottom:10px;position:absolute;right:0;top:0;text-align:center;z-index:1060}.ab-centering-div .ab-in-app-message .ab-close-button svg,.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-centering-div .ab-in-app-message .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg.ab-chevron{display:none}.ab-centering-div .ab-in-app-message .ab-close-button:active,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:active{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:focus,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:focus{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:hover,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:hover svg,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover svg{fill-opacity:.8}.ab-centering-div .ab-in-app-message .ab-message-text,.ab-iam-root.v3 .ab-in-app-message .ab-message-text{line-height:1.5;margin:20px 25px;max-width:100%;overflow:hidden;overflow-y:auto;vertical-align:text-bottom;word-wrap:break-word;white-space:pre-wrap}.ab-centering-div .ab-in-app-message .ab-message-text.start-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.start-aligned{text-align:left;text-align:start}.ab-centering-div .ab-in-app-message .ab-message-text.end-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.end-aligned{text-align:right;text-align:end}.ab-centering-div .ab-in-app-message .ab-message-text.center-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.center-aligned{text-align:center}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar{-webkit-appearance:none;width:14px}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb{-webkit-appearance:none;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;background-color:rgba(0,0,0,.2)}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-button,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-button{width:0;height:0;display:none}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-message-header,.ab-iam-root.v3 .ab-in-app-message .ab-message-header{letter-spacing:0;margin:0;font-weight:700;display:block;font-size:20px;margin-bottom:10px;line-height:1.3}.ab-centering-div .ab-in-app-message .ab-message-header.start-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.start-aligned{text-align:left;text-align:start}.ab-centering-div .ab-in-app-message .ab-message-header.end-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.end-aligned{text-align:right;text-align:end}.ab-centering-div .ab-in-app-message .ab-message-header.center-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.center-aligned{text-align:center}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-centering-div .ab-in-app-message.ab-modal,.ab-centering-div .ab-in-app-message.ab-slideup,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-centering-div .ab-in-app-message.ab-slideup,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;cursor:pointer;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:14px;font-weight:700;margin:20px;margin-top:calc(constant(safe-area-inset-top,0) + 20px);margin-right:calc(constant(safe-area-inset-right,0) + 20px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 20px);margin-left:calc(constant(safe-area-inset-left,0) + 20px);margin-top:calc(env(safe-area-inset-top,0) + 20px);margin-right:calc(env(safe-area-inset-right,0) + 20px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 20px);margin-left:calc(env(safe-area-inset-left,0) + 20px);max-height:150px;padding:10px;right:0;background-color:#efefef}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button{display:none}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron),.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron){display:none}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text{border-right-width:40px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text{max-width:100%;border-right-width:10px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span{max-height:66px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area{width:50px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img{max-width:50px;max-height:50px;width:auto}.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text{opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron{fill-opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 25px 5px 10px;max-width:430px;vertical-align:middle;margin:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text span,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{display:block;max-height:150px;overflow:auto}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:365px;border-top:0;border-bottom:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-repeat:no-repeat;background-origin:content-box;background-size:15px;border:none;width:15px;height:15px;-webkit-border-radius:7.5px;-moz-border-radius:7.5px;border-radius:7.5px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:10px;padding-right:10px;padding-left:6.66666667px;padding-bottom:6.66666667px;position:absolute;right:0;top:0;text-align:center;z-index:1060}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button svg,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron{display:none}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:active,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:active{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:focus,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:focus{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:hover,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:hover svg,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover svg{fill-opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;vertical-align:top;width:60px;margin:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area{width:auto}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{width:100%}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-centering-div .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal{font-size:14px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{position:relative;display:block;overflow:hidden}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img{background-size:cover;background-repeat:no-repeat;background-position:50% 50%;position:absolute;top:0;right:0;bottom:0;left:0}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-icon,.ab-centering-div .ab-in-app-message.ab-modal .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-icon{margin-top:20px}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic,.ab-centering-div .ab-in-app-message.ab-modal.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{padding:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-text{display:none}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-buttons{bottom:0;left:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{height:auto;margin:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{display:block;top:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none}.ab-centering-div .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-modal{padding-top:20px;width:450px;max-width:450px;max-height:720px}.ab-centering-div .ab-in-app-message.ab-modal.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone{max-width:91%;max-width:calc(100% - 30px)}.ab-centering-div .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text{max-height:660px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-image{max-height:524.82758621px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon{max-height:610px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons{margin-bottom:93px;max-height:587px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image{max-height:451.82758621px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon{max-height:537px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{margin-top:-20px;max-height:155.17241379px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area img{max-width:100%;max-height:155.17241379px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area{height:auto}.ab-centering-div .ab-in-app-message.ab-modal.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{width:auto;overflow:hidden}.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{display:inline}.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{max-height:720px;max-width:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen{width:450px;max-height:720px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape{width:720px;max-height:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-image-area{height:225px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area{height:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-message-text{max-height:112px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text{max-height:247px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons{margin-bottom:93px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area{height:360px}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area{height:720px}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area{height:50%}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic),.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic{display:block}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area{height:100%}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}.ab-centering-div .ab-in-app-message.ab-html-message,.ab-iam-root.v3 .ab-in-app-message.ab-html-message{background-color:transparent;border:none;height:100%;overflow:auto;position:relative;touch-action:auto;width:100%}.ab-centering-div .ab-in-app-message .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message .ab-message-buttons{position:absolute;bottom:0;width:100%;padding:17px 25px 30px 25px;z-index:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ab-centering-div .ab-in-app-message .ab-message-button,.ab-iam-root.v3 .ab-in-app-message .ab-message-button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;height:44px;line-height:normal;letter-spacing:normal;margin:0;max-width:100%;min-width:80px;padding:0 12px;position:relative;text-transform:none;width:48%;width:calc(50% - 5px);border:1px solid #1b78cf;-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;word-wrap:normal;white-space:nowrap}.ab-centering-div .ab-in-app-message .ab-message-button:first-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type{float:left;background-color:#fff;color:#1b78cf}.ab-centering-div .ab-in-app-message .ab-message-button:last-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:last-of-type{float:right;background-color:#1b78cf;color:#fff}.ab-centering-div .ab-in-app-message .ab-message-button:first-of-type:last-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type:last-of-type{float:none;width:auto}.ab-centering-div .ab-in-app-message .ab-message-button:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent}.ab-centering-div .ab-in-app-message .ab-message-button:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease}.ab-centering-div .ab-in-app-message .ab-message-button:hover,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:hover{opacity:.8}.ab-centering-div .ab-in-app-message .ab-message-button:active:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:active:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.08)}.ab-centering-div .ab-in-app-message .ab-message-button:focus:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:focus:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.ab-centering-div .ab-in-app-message .ab-message-button a,.ab-iam-root.v3 .ab-in-app-message .ab-message-button a{color:inherit;text-decoration:inherit}.ab-centering-div .ab-in-app-message img,.ab-iam-root.v3 .ab-in-app-message img{display:inline-block}.ab-centering-div .ab-in-app-message .ab-icon,.ab-iam-root.v3 .ab-in-app-message .ab-icon{display:inline-block;padding:10px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-centering-div .ab-in-app-message .ab-icon .fa,.ab-iam-root.v3 .ab-in-app-message .ab-icon .fa{font-size:30px;width:30px}.ab-centering-div .ab-start-hidden,.ab-iam-root.v3 .ab-start-hidden{visibility:hidden}.ab-centering-div .ab-centered,.ab-centering-div.ab-centering-div .ab-modal,.ab-iam-root.v3 .ab-centered,.ab-iam-root.v3.ab-centering-div .ab-modal{margin:auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ab-email-capture,.ab-iam-root.v3{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ab-email-capture .ab-page-blocker,.ab-iam-root.v3 .ab-page-blocker{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1040;pointer-events:all;background-color:rgba(51,51,51,.75)}.ab-email-capture .ab-in-app-message.ab-modal .ab-email-capture-input{margin-bottom:30px}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-buttons~.ab-message-text{max-height:541px;margin-bottom:160px}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-buttons~.ab-message-text.with-explanatory-link{max-height:513px;margin-bottom:188px}.ab-email-capture .ab-in-app-message.ab-modal .ab-image-area~.ab-message-text{max-height:385.82758621px}.ab-email-capture .ab-in-app-message.ab-modal .ab-image-area~.ab-message-text.with-explanatory-link{max-height:357.82758621px}.ab-email-capture .ab-in-app-message.ab-modal .ab-email-validation-error{margin-top:62px}.ab-email-capture .ab-in-app-message.ab-modal .ab-explanatory-link{display:block}.ab-email-capture .ab-in-app-message.ab-modal .ab-background,.ab-email-capture .ab-in-app-message.ab-modal .ab-mask{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.ab-email-capture .ab-in-app-message.ab-modal .ab-close-button{line-height:normal}.ab-email-capture .ab-in-app-message.ab-modal .ab-html-close-button{right:3px;top:-1px;font-size:34px;padding-top:0}@media (max-width:600px){.ab-iam-root.v3 .ab-in-app-message.ab-slideup{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{width:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{max-width:50px;max-height:50px;width:auto}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic),.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:480px){.ab-email-capture .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-modal{max-width:91%;max-width:calc(100% - 30px)}.ab-email-capture .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}}@media (max-height:750px){.ab-email-capture .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-modal{max-height:91%;max-height:calc(100% - 30px)}.ab-email-capture .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{max-height:91vh;max-height:calc(100vh - 30px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text{max-height:65vh;max-height:calc(100vh - 30px - 60px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-image{max-height:45vh;max-height:calc(100vh - 30px - 155.17241379310346px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon{max-height:45vh;max-height:calc(100vh - 30px - 70px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons{max-height:50vh;max-height:calc(100vh - 30px - 93px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image{max-height:30vh;max-height:calc(100vh - 30px - 155.17241379310346px - 93px - 20px)}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon{max-height:30vh;max-height:calc(100vh - 30px - 70px - 93px - 20px)}}@media (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area img{max-height:100%;max-width:100%}}@media (max-height:750px) and (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important;width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-height:480px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:750px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}body>.ab-feed{position:fixed;top:0;right:0;bottom:0;width:421px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}body>.ab-feed .ab-feed-body{position:absolute;top:0;left:0;right:0;border:none;border-left:1px solid #d0d0d0;padding-top:58px;min-height:100%}body>.ab-feed .ab-no-cards-message{position:absolute;width:100%;margin-left:-20px;top:40%}.ab-feed{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);-moz-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);box-shadow:0 1px 7px 1px rgba(66,82,113,.15);width:402px;background-color:#eee;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;font-size:13px;line-height:130%;letter-spacing:normal;overflow-y:auto;overflow-x:visible;z-index:1050;-webkit-overflow-scrolling:touch}.ab-feed :focus,.ab-feed:focus{outline:0}.ab-feed .ab-feed-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #d0d0d0;border-top:none;padding:20px 20px 0 20px}.ab-feed.ab-effect-slide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px);-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-feed.ab-effect-slide.ab-show{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-feed.ab-effect-slide.ab-hide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card{position:relative;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;width:100%;border:1px solid #d0d0d0;margin-bottom:20px;overflow:hidden;background-color:#fff;-webkit-transition:height .4s ease-in-out,margin .4s ease-in-out;-moz-transition:height .4s ease-in-out,margin .4s ease-in-out;-o-transition:height .4s ease-in-out,margin .4s ease-in-out;transition:height .4s ease-in-out,margin .4s ease-in-out}.ab-feed .ab-card .ab-pinned-indicator{position:absolute;right:0;top:0;margin-right:-1px;width:0;height:0;border-style:solid;border-width:0 24px 24px 0;border-color:transparent #1676d0 transparent transparent}.ab-feed .ab-card .ab-pinned-indicator .fa-star{position:absolute;right:-21px;top:2px;font-size:9px;color:#fff}.ab-feed .ab-card.ab-effect-card.ab-hide{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-left{-webkit-transform:translateX(-450px);-moz-transform:translateX(-450px);-ms-transform:translateX(-450px);transform:translateX(-450px)}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-right{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card.ab-effect-card.ab-hide:not(.ab-swiped-left):not(.ab-swiped-right){opacity:0}.ab-feed .ab-card .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-repeat:no-repeat;background-origin:content-box;background-size:15px;border:none;width:15px;height:15px;-webkit-border-radius:7.5px;-moz-border-radius:7.5px;border-radius:7.5px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:10px;padding-bottom:10px;position:absolute;right:0;top:0;text-align:center;z-index:1060;opacity:0;-webkit-transition:.5s;-moz-transition:.5s;-o-transition:.5s;transition:.5s}.ab-feed .ab-card .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-feed .ab-card .ab-close-button svg.ab-chevron{display:none}.ab-feed .ab-card .ab-close-button:active{background-color:transparent}.ab-feed .ab-card .ab-close-button:focus{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover svg{fill-opacity:.8}.ab-feed .ab-card .ab-close-button:hover{opacity:1}.ab-feed .ab-card .ab-close-button:focus{opacity:1}.ab-feed .ab-card a{color:inherit;text-decoration:none}.ab-feed .ab-card a:hover{text-decoration:underline}.ab-feed .ab-card .ab-image-area{display:inline-block;vertical-align:top;line-height:0;overflow:hidden;width:100%;-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.ab-feed .ab-card .ab-image-area img{height:auto;width:100%}.ab-feed .ab-card.ab-banner .ab-card-body{display:none}.ab-feed .ab-card .ab-card-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:100%;position:relative}.ab-feed .ab-card .ab-unread-indicator{position:absolute;bottom:0;margin-right:-1px;width:100%;height:5px;background-color:#1676d0}.ab-feed .ab-card .ab-unread-indicator.read{background-color:transparent}.ab-feed .ab-card .ab-title{letter-spacing:0;margin:0;font-weight:700;display:block;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:18px;line-height:130%;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;padding:20px 25px 0 25px}.ab-feed .ab-card .ab-description{color:#545454;padding:15px 25px 20px 25px;word-wrap:break-word;white-space:pre-wrap}.ab-feed .ab-card .ab-description.ab-no-title{padding-top:20px}.ab-feed .ab-card .ab-url-area{color:#1676d0;margin-top:12px;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-feed .ab-card.ab-classic-card .ab-card-body{min-height:40px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body{min-height:100px;padding-left:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area{width:60px;height:60px;padding:25px 0 25px 25px;position:absolute}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area img{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;width:60px;height:60px}.ab-feed .ab-card.ab-classic-card.with-image .ab-title{background-color:transparent;font-size:16px}.ab-feed .ab-card.ab-classic-card.with-image .ab-description{padding-top:10px}.ab-feed .ab-card.ab-control-card{height:0;width:0;margin:0;border:0}.ab-feed .ab-feed-buttons-wrapper{position:relative;background-color:#282828;height:38px;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);z-index:1}.ab-feed .ab-feed-buttons-wrapper .ab-close-button,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{cursor:pointer;color:#fff;font-size:18px;margin:10px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{font-size:22px}.ab-feed .ab-feed-buttons-wrapper .ab-close-button{float:right;margin-top:9px}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover{margin-top:6px;margin-right:9px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{margin-left:12px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{margin-top:8px;margin-left:10px}.ab-feed .ab-no-cards-message{text-align:center;margin-bottom:20px}@media (max-width:600px){body>.ab-feed{width:100%}}\";};function Qc(a){null==a&&(a=\"\");var b=a.split(\"?\").slice(1).join(\"?\");a={};if(null!=b){b=b.split(\"&\");for(var c=0;c<b.length;c++){var d=b[c].split(\"=\");\"\"!==d[0]&&(a[d[0]]=d[1]);}}return a}function Rc(a){return a&&(a=a.toString().toLowerCase(),0===a.lastIndexOf(\"javascript:\",0)||0===a.lastIndexOf(\"data:\",0))?!0:!1}function zc(a,b,c,d,e,f,g,h,l,k,m,q,t){f=f||gc.MANUAL;null!=a&&0<a.length&&0<a.indexOf('\"ab-in-app-message ab-html-message ab-email-capture\"')&&0<a.indexOf('\"ab-in-app-message ab-show ab-modal ab-effect-modal\"')&&(l=h=!0);U.call(this,a,null,null,b,c,d,e,null,null,null,f,g,null,null,null,null,null,null,null,null,h,l,null,null,null,k,void 0,void 0,void 0,m,q);this.messageFields=t;}ia(zc,U);zc.prototype.Ce=function(){return !1};zc.prototype.eb=function(a){return this.Ra?!1:(this.Ra=!0,zb(this.W,a),!0)};\nzc.prototype.Y=function(a,b,c,d,e){function f(l){var k=l.getAttribute(\"href\"),m=l.onclick;return function(q){if(null==m||\"function\"!==typeof m||!1!==m()){var t=Qc(k).abButtonId;if(null==t||\"\"===t)t=l.getAttribute(\"id\");if(null!=k&&\"\"!==k&&0!==k.indexOf(\"#\")){var r=\"blank\"===(l.getAttribute(\"target\")||\"\").toLowerCase().replace(\"_\",\"\"),y=e||g.openTarget===fc.BLANK||r;r=function(){a.Bb(g,t,k);Lb.openUri(k,q,y);};y?r():Fc(g,h,r);}else a.Bb(g,t,k);q.stopPropagation();return !1}}}var g=this;this.cc=document.activeElement;\nvar h=document.createElement(\"iframe\");h.setAttribute(\"title\",\"Modal Message\");h.onload=function(){function l(z){return function(){var F=arguments;Fc(g,h,function(){b.display[z].apply(b.display,Array.prototype.slice.call(F));});}}function k(z){return function(){var F=b.getUser();F[z].apply(F,Array.prototype.slice.call(arguments));}}function m(z){return function(){b[z].apply(b,Array.prototype.slice.call(arguments));}}var q=null,t=a.Tf();if(null!=t){q=document.createElement(\"html\");q.innerHTML=g.message;\nfor(var r=q.getElementsByTagName(\"style\"),y=0;y<r.length;y++)r[y].setAttribute(\"nonce\",t);r=q.getElementsByTagName(\"script\");for(y=0;y<r.length;y++)r[y].setAttribute(\"nonce\",t);}h.contentWindow.focus();h.contentWindow.document.write(q?q.innerHTML:g.message);q=h.contentWindow.document.getElementsByTagName(\"head\")[0];null!=q&&(r=document.createElement(\"style\"),r.innerHTML=Pc.je,null!=t&&r.setAttribute(\"nonce\",t),q.appendChild(r),lc(g)&&(r=document.createElement(\"style\"),r.innerHTML=g.css,r.id=mc(g),\nnull!=t&&r.setAttribute(\"nonce\",t),q.appendChild(r)),t=h.contentWindow.document.createElement(\"base\"),t.setAttribute(\"target\",\"_parent\"),q.appendChild(t));t=h.contentWindow.document.getElementsByTagName(\"title\");0<t.length&&h.setAttribute(\"title\",t[0].textContent);t={closeMessage:function(){Fc(g,h);},logClick:function(){var z=[g];0<arguments.length&&z.push(arguments[0]);b.logInAppMessageHtmlClick.apply(b,z);},display:{},web:{}};q=[\"requestImmediateDataFlush\",\"logCustomEvent\",\"logPurchase\",\"unregisterAppboyPushMessages\"];\nfor(r=0;r<q.length;r++)t[q[r]]=m(q[r]);q=\"setFirstName setLastName setEmail setGender setDateOfBirth setCountry setHomeCity setEmailNotificationSubscriptionType setPushNotificationSubscriptionType setPhoneNumber setCustomUserAttribute addToCustomAttributeArray removeFromCustomAttributeArray incrementCustomUserAttribute setCustomLocationAttribute\".split(\" \");var A={};for(r=0;r<q.length;r++)A[q[r]]=k(q[r]);t.getUser=function(){return A};q=[\"showFeed\"];for(r=0;r<q.length;r++)t.display[q[r]]=l(q[r]);\nq=[\"registerAppboyPushMessages\",\"trackLocation\"];for(r=0;r<q.length;r++)t.web[q[r]]=m(q[r]);h.contentWindow.appboyBridge=t;if(g.dg!==yc){q=h.contentWindow.document.getElementsByTagName(\"a\");for(r=0;r<q.length;r++)q[r].onclick=f(q[r]);q=h.contentWindow.document.getElementsByTagName(\"button\");for(r=0;r<q.length;r++)q[r].onclick=f(q[r]);}q=h.contentWindow.document.body;null!=q&&(kc(g)&&(q.id=g.htmlId),r=document.createElement(\"hidden\"),r.onclick=t.closeMessage,r.className=\"ab-programmatic-close-button\",\nq.appendChild(r));h.contentWindow.dispatchEvent(new CustomEvent(\"ab.BridgeReady\"));-1!==h.className.indexOf(\"ab-start-hidden\")&&(h.className=h.className.replace(\"ab-start-hidden\",\"\"),d(h));document.activeElement!==h&&h.focus();};h.className=\"ab-in-app-message ab-start-hidden ab-html-message ab-modal-interactions\";return jb.Dd===jb.Zf.Bc?(c=document.createElement(\"div\"),c.className=\"ab-ios-scroll-wrapper\",c.appendChild(h),this.bc=c):this.bc=h};\nzc.prototype.ma=function(){return U.prototype.ma.call(this)+\" ab-effect-html\"};I.HtmlMessage=zc;function sc(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L,Y,ea,n,u,x,C){k=k||gc.MANUAL;u=u||Ic.FIT_CENTER;U.call(this,a,b,null,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L,Y,ea,n,u,void 0,x,C);}ia(sc,U);sc.prototype.Y=function(a,b,c,d,e){this.cc=document.activeElement;b=U.prototype.Y.call(this,a,c,d,e);b.className+=\" ab-modal ab-centered\";Oc(this,a,c,b,e);Mc(b);Nc(this.Sc,b);return b};sc.prototype.ma=function(){return U.prototype.ma.call(this)+\" ab-effect-modal\"};sc.DefaultTextAlignment=Jc;\nI.ModalMessage=sc;function wc(a,b,c,d,e,f,g,h,l,k,m,q,t,r,y,A,z,F,G,E,K,N,L){F=F||ic.Xe;z=z||ic.We;b=b||cc.START;U.call(this,a,b,c,d,e,f,g,h,l,k,m,q,t,r,null,y,A,z,F,G,E,K,void 0,void 0,void 0,void 0,void 0,void 0,void 0,N,L);}ia(wc,U);p=wc.prototype;p.Za=function(){return !1};\np.Y=function(a,b,c,d,e){var f=U.prototype.Y.call(this,a,c,d,e);f.className+=\" ab-slideup\";var g=f.getElementsByClassName(\"ab-close-button\")[0];null!=g&&(a=Jb(\"0 0 11.38 19.44\",\"M11.38 9.72l-9.33 9.72L0 17.3l7.27-7.58L0 2.14 2.05 0l9.33 9.72z\",lc(this)?void 0:bc(this.closeButtonColor)),a.setAttribute(\"class\",\"ab-chevron\"),g.appendChild(a));Eb(f,Fb,function(l){f.className+=\" ab-swiped-left\";g.onclick(l);});Eb(f,Gb,function(l){f.className+=\" ab-swiped-right\";g.onclick(l);});if(this.slideFrom===dc.TOP){a=\nHb;var h=\" ab-swiped-up\";}else a=Ib,h=\" ab-swiped-down\";Eb(f,a,function(l){f.className+=h;g.onclick(l);});return f};p.fe=function(){var a=document.createElement(\"span\");a.appendChild(document.createTextNode(this.message));return a};p.rc=function(a){var b=a.getElementsByClassName(\"ab-in-app-message\")[0];Cb(b,!0,!0)||(this.slideFrom===dc.TOP?b.style.top=\"0px\":b.style.bottom=\"0px\");U.prototype.rc.call(this,a);};p.ma=function(){return U.prototype.ma.call(this)+\" ab-effect-slide\"};\nwc.DefaultTextAlignment=\"START\";I.SlideUpMessage=wc;function Sc(a,b){Tc={en:{NO_CARDS_MESSAGE:\"We have no updates for you at this time.<br/>Please check again later.\",FEED_TIMEOUT_MESSAGE:\"Sorry, this refresh timed out.<br/>Please try again later.\"},ar:{NO_CARDS_MESSAGE:\"\\u0644\\u064a\\u0633 \\u0644\\u062f\\u064a\\u0646\\u0627 \\u0623\\u064a \\u062a\\u062d\\u062f\\u064a\\u062b. \\u064a\\u0631\\u062c\\u0649 \\u0627\\u0644\\u062a\\u062d\\u0642\\u0642 \\u0645\\u0631\\u0629 \\u0623\\u062e\\u0631\\u0649 \\u0644\\u0627\\u062d\\u0642\\u0627\\u064b\",FEED_TIMEOUT_MESSAGE:\"\\u064a\\u0631\\u062c\\u0649 \\u062a\\u0643\\u0631\\u0627\\u0631 \\u0627\\u0644\\u0645\\u062d\\u0627\\u0648\\u0644\\u0629 \\u0644\\u0627\\u062d\\u0642\\u0627\"},\ncs:{NO_CARDS_MESSAGE:\"V tuto chv\\u00edli pro v\\u00e1s nem\\u00e1me \\u017e\\u00e1dn\\u00e9 aktualizace.<br/>Zkontrolujte pros\\u00edm znovu pozd\\u011bji.\",FEED_TIMEOUT_MESSAGE:\"Pros\\u00edm zkuste to znovu pozd\\u011bji.\"},da:{NO_CARDS_MESSAGE:\"Vi har ingen updates.<br/>Pr\\u00f8v venligst senere.\",FEED_TIMEOUT_MESSAGE:\"Pr\\u00f8v venligst senere.\"},de:{NO_CARDS_MESSAGE:\"Derzeit sind keine Updates verf\\u00fcgbar.<br/>Bitte sp\\u00e4ter noch einmal versuchen.\",FEED_TIMEOUT_MESSAGE:\"Bitte sp\\u00e4ter noch einmal versuchen.\"},\nes:{NO_CARDS_MESSAGE:\"No tenemos actualizaciones.<br/>Por favor compru\\u00e9belo m\\u00e1s tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor int\\u00e9ntelo m\\u00e1s tarde.\"},\"es-mx\":{NO_CARDS_MESSAGE:\"No tenemos ninguna actualizaci\\u00f3n.<br/>Vuelva a verificar m\\u00e1s tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor, vuelva a intentarlo m\\u00e1s tarde.\"},et:{NO_CARDS_MESSAGE:\"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.\",FEED_TIMEOUT_MESSAGE:\"Palun proovige hiljem uuesti.\"},fi:{NO_CARDS_MESSAGE:\"P\\u00e4ivityksi\\u00e4 ei ole saatavilla.<br/>Tarkista my\\u00f6hemmin uudelleen.\",\nFEED_TIMEOUT_MESSAGE:\"Yrit\\u00e4 my\\u00f6hemmin uudelleen.\"},fr:{NO_CARDS_MESSAGE:\"Aucune mise \\u00e0 jour disponible.<br/>Veuillez v\\u00e9rifier ult\\u00e9rieurement.\",FEED_TIMEOUT_MESSAGE:\"Veuillez r\\u00e9essayer ult\\u00e9rieurement.\"},he:{NO_CARDS_MESSAGE:\".\\u05d0\\u05d9\\u05df \\u05dc\\u05e0\\u05d5 \\u05e2\\u05d3\\u05db\\u05d5\\u05e0\\u05d9\\u05dd. \\u05d1\\u05d1\\u05e7\\u05e9\\u05d4 \\u05d1\\u05d3\\u05d5\\u05e7 \\u05e9\\u05d5\\u05d1 \\u05d1\\u05e7\\u05e8\\u05d5\\u05d1\",FEED_TIMEOUT_MESSAGE:\".\\u05d1\\u05d1\\u05e7\\u05e9\\u05d4 \\u05e0\\u05e1\\u05d4 \\u05e9\\u05d5\\u05d1 \\u05d1\\u05e7\\u05e8\\u05d5\\u05d1\"},\nhi:{NO_CARDS_MESSAGE:\"\\u0939\\u092e\\u093e\\u0930\\u0947 \\u092a\\u093e\\u0938 \\u0915\\u094b\\u0908 \\u0905\\u092a\\u0921\\u0947\\u091f \\u0928\\u0939\\u0940\\u0902 \\u0939\\u0948\\u0902\\u0964 \\u0915\\u0943\\u092a\\u092f\\u093e \\u092c\\u093e\\u0926 \\u092e\\u0947\\u0902 \\u092b\\u093f\\u0930 \\u0938\\u0947 \\u091c\\u093e\\u0901\\u091a \\u0915\\u0930\\u0947\\u0902.\\u0964\",FEED_TIMEOUT_MESSAGE:\"\\u0915\\u0943\\u092a\\u092f\\u093e \\u092c\\u093e\\u0926 \\u092e\\u0947\\u0902 \\u0926\\u094b\\u092c\\u093e\\u0930\\u093e \\u092a\\u094d\\u0930\\u092f\\u093e\\u0938 \\u0915\\u0930\\u0947\\u0902\\u0964.\"},\nid:{NO_CARDS_MESSAGE:\"Kami tidak memiliki pembaruan. Coba lagi nanti.\",FEED_TIMEOUT_MESSAGE:\"Coba lagi nanti.\"},it:{NO_CARDS_MESSAGE:\"Non ci sono aggiornamenti.<br/>Ricontrollare pi\\u00f9 tardi.\",FEED_TIMEOUT_MESSAGE:\"Riprovare pi\\u00f9 tardi.\"},ja:{NO_CARDS_MESSAGE:\"\\u30a2\\u30c3\\u30d7\\u30c7\\u30fc\\u30c8\\u306f\\u3042\\u308a\\u307e\\u305b\\u3093\\u3002<br/>\\u5f8c\\u3067\\u3082\\u3046\\u4e00\\u5ea6\\u78ba\\u8a8d\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\",FEED_TIMEOUT_MESSAGE:\"\\u5f8c\\u3067\\u3082\\u3046\\u4e00\\u5ea6\\u8a66\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\"},\nko:{NO_CARDS_MESSAGE:\"\\uc5c5\\ub370\\uc774\\ud2b8\\uac00 \\uc5c6\\uc2b5\\ub2c8\\ub2e4. \\ub2e4\\uc74c\\uc5d0 \\ub2e4\\uc2dc \\ud655\\uc778\\ud574 \\uc8fc\\uc2ed\\uc2dc\\uc624.\",FEED_TIMEOUT_MESSAGE:\"\\ub098\\uc911\\uc5d0 \\ub2e4\\uc2dc \\uc2dc\\ub3c4\\ud574 \\uc8fc\\uc2ed\\uc2dc\\uc624.\"},ms:{NO_CARDS_MESSAGE:\"Tiada kemas kini. Sila periksa kemudian.\",FEED_TIMEOUT_MESSAGE:\"Sila cuba kemudian.\"},nl:{NO_CARDS_MESSAGE:\"Er zijn geen updates.<br/>Probeer het later opnieuw.\",FEED_TIMEOUT_MESSAGE:\"Probeer het later opnieuw.\"},no:{NO_CARDS_MESSAGE:\"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.\",\nFEED_TIMEOUT_MESSAGE:\"Vennligst pr\\u00f8v igjen senere.\"},pl:{NO_CARDS_MESSAGE:\"Brak aktualizacji.<br/>Prosz\\u0119 sprawdzi\\u0107 ponownie p\\u00f3\\u017aniej.\",FEED_TIMEOUT_MESSAGE:\"Prosz\\u0119 spr\\u00f3bowa\\u0107 ponownie p\\u00f3\\u017aniej.\"},pt:{NO_CARDS_MESSAGE:\"N\\u00e3o temos atualiza\\u00e7\\u00f5es.<br/>Por favor, verifique mais tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor, tente mais tarde.\"},\"pt-br\":{NO_CARDS_MESSAGE:\"N\\u00e3o temos nenhuma atualiza\\u00e7\\u00e3o.<br/>Verifique novamente mais tarde.\",\nFEED_TIMEOUT_MESSAGE:\"Tente novamente mais tarde.\"},ru:{NO_CARDS_MESSAGE:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u043b\\u0435\\u043d\\u0438\\u044f \\u043d\\u0435\\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b.<br/>\\u041f\\u043e\\u0436\\u0430\\u043b\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043f\\u0440\\u043e\\u0432\\u0435\\u0440\\u044c\\u0442\\u0435 \\u0441\\u043d\\u043e\\u0432\\u0430 \\u043f\\u043e\\u0437\\u0436\\u0435.\",FEED_TIMEOUT_MESSAGE:\"\\u041f\\u043e\\u0436\\u0430\\u043b\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043f\\u043e\\u0432\\u0442\\u043e\\u0440\\u0438\\u0442\\u0435 \\u043f\\u043e\\u043f\\u044b\\u0442\\u043a\\u0443 \\u043f\\u043e\\u0437\\u0436\\u0435.\"},\nsv:{NO_CARDS_MESSAGE:\"Det finns inga uppdateringar.<br/>F\\u00f6rs\\u00f6k igen senare.\",FEED_TIMEOUT_MESSAGE:\"F\\u00f6rs\\u00f6k igen senare.\"},th:{NO_CARDS_MESSAGE:\"\\u0e40\\u0e23\\u0e32\\u0e44\\u0e21\\u0e48\\u0e21\\u0e35\\u0e01\\u0e32\\u0e23\\u0e2d\\u0e31\\u0e1e\\u0e40\\u0e14\\u0e15 \\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e15\\u0e23\\u0e27\\u0e08\\u0e2a\\u0e2d\\u0e1a\\u0e20\\u0e32\\u0e22\\u0e2b\\u0e25\\u0e31\\u0e07.\",FEED_TIMEOUT_MESSAGE:\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e25\\u0e2d\\u0e07\\u0e43\\u0e2b\\u0e21\\u0e48\\u0e20\\u0e32\\u0e22\\u0e2b\\u0e25\\u0e31\\u0e07.\"},\nuk:{NO_CARDS_MESSAGE:\"\\u041e\\u043d\\u043e\\u0432\\u043b\\u0435\\u043d\\u043d\\u044f \\u043d\\u0435\\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u0456.<br/>\\u043b\\u0430\\u0441\\u043a\\u0430, \\u043f\\u0435\\u0440\\u0435\\u0432\\u0456\\u0440\\u0442\\u0435 \\u0437\\u043d\\u043e\\u0432\\u0443 \\u043f\\u0456\\u0437\\u043d\\u0456\\u0448\\u0435.\",FEED_TIMEOUT_MESSAGE:\"\\u0411\\u0443\\u0434\\u044c \\u043b\\u0430\\u0441\\u043a\\u0430, \\u0441\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0449\\u0435 \\u0440\\u0430\\u0437 \\u043f\\u0456\\u0437\\u043d\\u0456\\u0448\\u0435.\"},\nvi:{NO_CARDS_MESSAGE:\"Ch\\u00fang t\\u00f4i kh\\u00f4ng c\\u00f3 c\\u1eadp nh\\u1eadt n\\u00e0o.<br/>Vui l\\u00f2ng ki\\u1ec3m tra l\\u1ea1i sau.\",FEED_TIMEOUT_MESSAGE:\"Vui l\\u00f2ng th\\u1eed l\\u1ea1i sau.\"},\"zh-hk\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},\"zh-hans\":{NO_CARDS_MESSAGE:\"\\u6682\\u65f6\\u6ca1\\u6709\\u66f4\\u65b0.<br/>\\u8bf7\\u7a0d\\u540e\\u518d\\u8bd5.\",FEED_TIMEOUT_MESSAGE:\"\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5.\"},\n\"zh-hant\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},\"zh-tw\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},zh:{NO_CARDS_MESSAGE:\"\\u6682\\u65f6\\u6ca1\\u6709\\u66f4\\u65b0.<br/>\\u8bf7\\u7a0d\\u540e\\u518d\\u8bd5.\",FEED_TIMEOUT_MESSAGE:\"\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5.\"}};null!=a&&(a=a.toLowerCase());\nif(null!=a&&null==Tc[a]){var c=a.indexOf(\"-\");0<c&&(a=a.substring(0,c));}null==Tc[a]&&(a=\"Braze does not yet have a localization for language \"+a+\", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.\",b?v.error(a):v.info(a),a=\"en\");Uc=a;}var Tc,Uc;function Vc(a,b){this.cards=a;this.lastUpdated=b;}p=Vc.prototype;p.oe=function(){for(var a=0,b=0;b<this.cards.length;b++)this.cards[b].viewed||a++;return a};function Wc(a,b){b&&(b.className=b.className.replace(\"ab-show\",\"ab-hide\"),setTimeout(function(){b&&b.parentNode&&b.parentNode.removeChild(b);},$b));var c=b.getAttribute(Xc);null!=c&&a.S(c);}p.Ga=function(a,b){a.Ga(b);};p.Fa=function(a,b){a.Fa(b);};\nfunction Yc(a,b,c){var d=document.createElement(\"div\");d.className=\"ab-feed-body\";if(null==a.lastUpdated){c=document.createElement(\"div\");c.className=\"ab-no-cards-message\";var e=document.createElement(\"i\");e.className=\"fa fa-spinner fa-spin fa-4x ab-initial-spinner\";c.appendChild(e);d.appendChild(c);}else{e=!1;for(var f=function(k){a.Fa(b,k);},g=function(k){b.oc(k);},h=0;h<a.cards.length;h++){var l=a.cards[h]instanceof Wb;!l||a instanceof Zc?(d.appendChild(a.cards[h].Y(f,g,c)),e=e||!l):v.error(\"Received a control card for a legacy news feed. Control cards are only supported with content cards.\");}e||\n(c=document.createElement(\"div\"),c.className=\"ab-no-cards-message\",c.innerHTML=Tc[Uc].NO_CARDS_MESSAGE,d.appendChild(c));}return d}\nfunction $c(a,b,c){if(null!=c){var d=[];c=c.querySelectorAll(\".ab-card\");a.Qc||(a.Qc={});for(var e=0;e<c.length;e++){var f=c[e].getAttribute(\"data-ab-card-id\");if(!a.Qc[f]){var g=c[e];g=null!=g&&!!g.getAttribute(\"data-ab-had-top-impression\");var h=c[e];h=null!=h&&!!h.getAttribute(\"data-ab-had-bottom-impression\");var l=g,k=h,m=Cb(c[e],!0,!1,!1),q=Cb(c[e],!1,!0,!1);if(!g&&m){g=!0;var t=c[e];null!=t&&t.setAttribute(\"data-ab-had-top-impression\",!0);}!h&&q&&(h=!0,t=c[e],null!=t&&t.setAttribute(\"data-ab-had-bottom-impression\",\n!0));if(g&&h&&(m||q||Yb(c[e]),!l||!k))for(g=0;g<a.cards.length;g++)if(a.cards[e].id===f){a.Qc[a.cards[e].id]=!0;d.push(a.cards[e]);break}}}0<d.length&&a.Ga(b,d);}}p.ce=function(a){a.uc();};\nfunction ad(a,b,c){c.setAttribute(\"aria-busy\",\"true\");var d=c.querySelectorAll(\".ab-refresh-button\")[0];null!=d&&(d.className+=\" fa-spin\");var e=(new Date).valueOf().toString();c.setAttribute(bd,e);setTimeout(function(){if(c.getAttribute(bd)===e){for(var f=c.querySelectorAll(\".fa-spin\"),g=0;g<f.length;g++)f[g].className=f[g].className.replace(/fa-spin/g,\"\");f=c.querySelectorAll(\".ab-initial-spinner\")[0];null!=f&&(g=document.createElement(\"span\"),g.innerHTML=Tc[Uc].FEED_TIMEOUT_MESSAGE,f.parentNode.appendChild(g),\nf.parentNode.removeChild(f));\"true\"===c.getAttribute(\"aria-busy\")&&c.setAttribute(\"aria-busy\",\"false\");}},cd);a.ce(b);}\np.Y=function(a,b){function c(k){ad(e,a,f);k.stopPropagation();}function d(k){Wc(a,f);k.stopPropagation();}var e=this,f=document.createElement(\"div\");f.className=\"ab-feed ab-hide ab-effect-slide\";f.setAttribute(\"tabindex\",\"-1\");f.setAttribute(\"aria-label\",\"Feed\");f.setAttribute(\"role\",\"feed\");var g=document.createElement(\"div\");g.className=\"ab-feed-buttons-wrapper\";f.appendChild(g);var h=document.createElement(\"i\");h.className=\"fa fa-times ab-close-button\";h.setAttribute(\"aria-label\",\"Close Feed\");h.setAttribute(\"tabindex\",\n\"0\");h.setAttribute(\"role\",\"button\");h.addEventListener(\"keydown\",function(k){32!==k.keyCode&&13!==k.keyCode||d(k);});h.onclick=d;var l=document.createElement(\"i\");l.className=\"fa fa-refresh ab-refresh-button\";null==this.lastUpdated&&(l.className+=\" fa-spin\");l.setAttribute(\"aria-label\",\"Refresh Feed\");l.setAttribute(\"tabindex\",\"0\");l.setAttribute(\"role\",\"button\");l.addEventListener(\"keydown\",function(k){32!==k.keyCode&&13!==k.keyCode||c(k);});l.onclick=c;g.appendChild(l);g.appendChild(h);f.appendChild(Yc(this,\na,b));f.onscroll=function(){$c(e,a,f);};return f};function dd(a,b,c,d,e,f){if(Aa(b)){for(var g=[],h=0;h<b.length;h++)b[h]instanceof Mb&&g.push(b[h]);a.cards=g;a.lastUpdated=c;null!=d&&(d.setAttribute(\"aria-busy\",\"false\"),null==a.lastUpdated?Wc(e,d):(b=d.querySelectorAll(\".ab-feed-body\")[0],null!=b&&(f=Yc(a,e,f),b.parentNode.replaceChild(f,b),$c(a,e,f.parentNode))));}}var $b=500,Xc=\"data-update-subscription-id\",bd=\"data-last-requested-refresh\",cd=1E4;I.Feed=Vc;I.Feed.prototype.getUnreadCardCount=Vc.prototype.oe;function Zc(a,b){Vc.call(this,a,b);}ia(Zc,Vc);Zc.prototype.Uf=function(){return Vc.prototype.oe.call(this)};Zc.prototype.Ga=function(a,b){a.Ga(b,!0);};Zc.prototype.Fa=function(a,b){a.Fa(b,!0);};Zc.prototype.ce=function(a){a.Ha();};I.ContentCards=Zc;I.ContentCards.prototype.getUnviewedCardCount=Zc.prototype.Uf;function Sa(){this.h=!1;this.j=[];}function ed(a){this.Xa=a;}ed.prototype.ba=function(a){return null==this.Xa||this.Xa===a[0]};ed.prototype.B=function(){return this.Xa};function fd(a,b,c,d){this.te=a;this.tc=b;this.jb=c;this.I=d;this.tc===gd&&this.jb!==hd&&this.jb!==id&&this.jb!==jd&&this.jb!==kd&&(this.I=Ga(this.I));}\nfd.prototype.ba=function(a){var b=null;null!=a&&(b=a[this.te]);switch(this.jb){case ld:return null!=b&&b.valueOf()===this.I.valueOf();case md:return null==b||b.valueOf()!==this.I.valueOf();case nd:return typeof b===typeof this.I&&b>this.I;case hd:return this.tc===gd?null!=b&&Ba(b)&&((new Date).valueOf()-b.valueOf())/1E3<=this.I:typeof b===typeof this.I&&b>=this.I;case od:return typeof b===typeof this.I&&b<this.I;case id:return this.tc===gd?null!=b&&Ba(b)&&((new Date).valueOf()-b.valueOf())/1E3>=this.I:\ntypeof b===typeof this.I&&b<=this.I;case pd:return null!=b&&\"string\"===typeof b&&typeof b===typeof this.I&&null!=b.match(this.I);case qd:return null!=b;case rd:return null==b;case jd:return null!=b&&Ba(b)&&(b.valueOf()-(new Date).valueOf())/1E3<this.I;case kd:return null!=b&&Ba(b)&&(b.valueOf()-(new Date).valueOf())/1E3>this.I;case sd:return null==b||typeof b!==typeof this.I||\"string\"!==typeof b||null==b.match(this.I)}return !1};\nfd.prototype.B=function(){var a=this.I;Ba(this.I)&&(a=Fa(a.valueOf()));return {k:this.te,t:this.tc,c:this.jb,v:a}};var ld=1,md=2,nd=3,hd=4,od=5,id=6,pd=10,qd=11,rd=12,jd=15,kd=16,sd=17,gd=\"date\";function td(a){this.filters=a;}td.prototype.ba=function(a){for(var b=!0,c=0;c<this.filters.length;c++){for(var d=this.filters[c],e=!1,f=0;f<d.length;f++)if(d[f].ba(a)){e=!0;break}if(!e){b=!1;break}}return b};function ud(a){if(null==a||!Aa(a))return null;for(var b=[],c=0;c<a.length;c++){for(var d=[],e=a[c],f=0;f<e.length;f++){var g=e[f];d.push(new fd(g.property_key,g.property_type,g.comparator,g.property_value));}b.push(d);}return new td(b)}\ntd.prototype.B=function(){for(var a=[],b=0;b<this.filters.length;b++){for(var c=this.filters[b],d=[],e=0;e<c.length;e++)d.push(c[e].B());a.push(d);}return a};function vd(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=a[c],f=0;f<e.length;f++){var g=e[f];d.push(new fd(g.k,g.t,g.c,g.v));}b.push(d);}return new td(b)}function wd(a,b){this.Xa=a;this.cb=b;}wd.prototype.ba=function(a){if(null==this.Xa||null==this.cb)return !1;var b=a[1];return a[0]===this.Xa&&this.cb.ba(b)};wd.prototype.B=function(){return {e:this.Xa,pf:this.cb.B()}};function xd(a,b){this.Ta=a;this.wb=b;}xd.prototype.ba=function(a){if(null==this.Ta)return !1;var b=yd(a[0],this.Ta);if(!b)return !1;var c=null==this.wb||0===this.wb.length;if(null!=this.wb)for(var d=0;d<this.wb.length;d++)if(this.wb[d]===a[1]){c=!0;break}return b&&c};xd.prototype.B=function(){return this.Ta};function zd(a){this.bb=a;}zd.prototype.ba=function(a){return null==this.bb||a[0]===this.bb};zd.prototype.B=function(){return this.bb};function Ad(a,b){this.bb=a;this.cb=b;}Ad.prototype.ba=function(a){if(null==this.bb||null==this.cb)return !1;var b=a[1];return a[0]===this.bb&&this.cb.ba(b)};Ad.prototype.B=function(){return {id:this.bb,pf:this.cb.B()}};function Bd(a){this.Ta=a;}Bd.prototype.ba=function(a){return null==this.Ta?!0:yd(a[0],this.Ta)};Bd.prototype.B=function(){return this.Ta};var Cd={OPEN:\"open\",Jc:\"purchase\",Ed:\"push_click\",yc:\"custom_event\",Nb:\"iam_click\",Vb:\"test\"};function Dd(a,b){this.type=a;this.data=b;}function Ed(a,b,c){return Fd[a.type]===b&&(null==a.data||a.data.ba(c))}function yd(a,b){var c=null;try{c=window.atob(a);}catch(d){return v.info(\"Failed to unencode analytics id \"+a+\": \"+d.message),!1}return b===c.split(\"_\")[0]}\nfunction Gd(a){var b=a.type;switch(b){case Hd:var c=null;break;case Id:a=a.data;c=new zd(a?a.product_id:null);break;case Jd:a=a.data;c=new Ad(a?a.product_id:null,a?ud(a.property_filters):null);break;case Kd:a=a.data;c=new Bd(a?a.campaign_id:null);break;case Ld:a=a.data;c=new ed(a?a.event_name:null);break;case Md:a=a.data;c=new wd(a?a.event_name:null,a?ud(a.property_filters):null);break;case Nd:a=a.data;c=new xd(a?a.id:null,a?a.buttons:null);break;case Od:c=null;}return new Dd(b,c)}\nDd.prototype.B=function(){return {t:this.type,d:this.data?this.data.B():null}};function Pd(a){switch(a.t){case Hd:var b=null;break;case Id:b=new zd(a.d);break;case Jd:b=a.d||{};b=new Ad(b.id,vd(b.pf||[]));break;case Kd:b=new Bd(a.d);break;case Ld:b=new ed(a.d);break;case Md:b=a.d||{};b=new wd(b.e,vd(b.pf||[]));break;case Nd:b=new xd(a.d);break;case Od:b=null;}return new Dd(a.t,b)}\nvar Hd=\"open\",Id=\"purchase\",Jd=\"purchase_property\",Kd=\"push_click\",Ld=\"custom_event\",Md=\"custom_event_property\",Nd=\"iam_click\",Od=\"test\",Fd={};Fd[Hd]=Cd.OPEN;Fd[Id]=Cd.Jc;Fd[Jd]=Cd.Jc;Fd[Kd]=Cd.Ed;Fd[Ld]=Cd.yc;Fd[Md]=Cd.yc;Fd[Nd]=Cd.Nb;Fd[Od]=Cd.Vb;function Qd(a,b,c,d,e,f,g,h,l,k,m,q){this.id=a;this.kb=b||[];void 0===c&&(c=null);this.startTime=c;void 0===d&&(d=null);this.endTime=d;this.priority=e||0;this.type=f;this.Wa=h||0;null==k&&(k=1E3*(this.Wa+30));this.Ia=k;this.data=g;null==l&&(l=Rd);this.Db=l;this.se=m;this.za=q||null;}\nfunction Sd(a,b){var c=(new Date).valueOf()-b;(b=null==b||isNaN(c)||null==a.Ia||c<a.Ia)||v.info(\"Trigger action \"+a.type+\" is no longer eligible for display - fired \"+c+\"ms ago and has a timeout of \"+a.Ia+\"ms\");return !b}Qd.prototype.B=function(){for(var a=[],b=0;b<this.kb.length;b++)a.push(this.kb[b].B());return {i:this.id,c:a,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.Wa,r:this.Db,tm:this.Ia,ss:this.se,ld:this.za}};\nfunction Td(a){for(var b=[],c=0;c<a.c.length;c++)b.push(Pd(a.c[c]));return new Qd(a.i,b,Ia(a.s),Ia(a.e),a.p,a.t,a.da,a.d,a.r,a.tm,a.ss,a.ld)}var Rd=-1,Ud={Ac:\"inapp\",Jd:\"templated_iam\"};function Vd(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a+1))+a}function Wd(a){var b,c=!1;try{if(window.XMLHttpRequest&&(b=new XMLHttpRequest)&&\"undefined\"!==typeof b.withCredentials||(\"undefined\"!==typeof XDomainRequest?(b=new XDomainRequest,c=b.async=!0):v.error(\"This browser does not have any supported ajax options!\")),null!=b){var d=function(){\"function\"===typeof a.error&&a.error(b.status);\"function\"===typeof a.hc&&a.hc(!1);};b.onload=function(){if(c)var h=!0;else{if(4!==b.readyState)return;h=200<=b.status&&300>b.status||304===b.status;}h?(\"function\"===typeof a.h&&\na.h(JSON.parse(b.responseText)),\"function\"===typeof a.hc&&a.hc(!0)):d();};b.onerror=function(){d();};b.ontimeout=function(){d();};var e=JSON.stringify(a.data);if(c)b.onprogress=function(){},b.open(\"post\",a.url);else{b.open(\"POST\",a.url,!0);b.setRequestHeader(\"Content-type\",\"application/json\");b.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");for(var f=a.headers||[],g=0;g<f.length;g++)b.setRequestHeader(f[g][0],f[g][1]);}b.send(e);}}catch(h){v.error(\"Network request error: \"+h.message);}}function Xd(a,b,c,d,e,f,g,h,l,k,m){this.Z=a;this.Cf=b;this.Zd=c;this.xf=d;this.Wb=e;this.hb=0;this.$b=k.T.ne;this.Td=null;this.G=f;this.Xb=g;this.f=h;this.D=l;this.b=k;this.vf=m;this.Uc=new xb;this.uf=1E3;this.tf=6E4;}function Yd(a,b){var c=Zd(a.Xb),d=c.ic(),e=Q(a.b,M.zc);Ea(e,d)||(b.device=d);b.api_key=a.Z;b.time=Fa((new Date).valueOf(),!0);b.sdk_version=a.Cf;a.Zd&&(b.sdk_flavor=a.Zd);b.app_version=a.xf;b.device_id=c.id;return b}\nfunction $d(a,b){if(b.error){var c=b.error;\"invalid_api_key\"===b.error?c='The API key \"'+a.api_key+'\" is invalid.':\"blacklisted\"===b.error?c=\"Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.\":\"no_device_identifier\"===b.error&&(c=\"No device identifier. Please contact support@braze.com\");v.error(\"Backend error: \"+c);return !1}return !0}\nfunction ae(a,b,c,d,e,f,g){null==d&&(d=!0);d&&be(a);var h=mb(a.b),l=qb(a.b),k=ce(a.G);if(0<h.length)for(var m=0;m<h.length;m++)h[m].type===B.Id&&(k=!0);var q=c||k;if(!d||0!==h.length||0!==l.length||b||q){var t=de(a,b,q);if(0<h.length){b=[];for(c=0;c<h.length;c++)b.push(h[c].ic());t.events=b;}0<l.length&&(t.attributes=l);t=Yd(a,t);b=ee(a,t);q&&a.hb++;Wd({url:\"\"+a.Wb+\"/data/\",data:t,headers:b,h:function(r){q&&(a.hb=Math.max(a.hb-1,0));if($d(t,r)){var y=a.D;if(null!=r&&null!=r.config){var A=r.config;\nif(A.time>fe(y).$a){A=new ge(A.time,A.events_blacklist,A.attributes_blacklist,A.purchases_blacklist,A.messaging_session_timeout,A.vapid_public_key,A.content_cards);var z=!1;null!=A.oa&&fe(y).oa!==A.oa&&(z=!0);var F=!1;null!=A.Va.enabled&&(fe(y).Va.enabled||!1)!==A.Va.enabled&&(F=!0);y.dc=A;P(y.b,M.Hd,A.B());z&&zb(y.Zc);F&&zb(y.Ld);}}if(null==t.respond_with||t.respond_with.user_id==a.f.A())null!=t.device&&P(a.b,M.zc,t.device),a.vf(r),\"function\"===typeof e&&e();}},error:function(){q&&(a.hb=Math.max(a.hb-\n1,0));Ua(a.b,h);for(var r=0;r<l.length;r++)ob(a.b,l[r]);\"function\"===typeof f&&f();},hc:function(r){\"function\"===typeof g&&g(r);if(d)if(r)ie(a);else{r=a.Td;if(null==r||r<1E3*a.$b)r=1E3*a.$b;ie(a,Math.min(3E5,Vd(1E3*a.$b,3*r)));}}});k&&(v.info(\"Invoking new session subscriptions\"),zb(a.Uc));}else ie(a),\"function\"===typeof g&&g(!0);}function je(a,b){var c=\"HTTP error \";null!=a&&(c+=a+\" \");v.error(c+b);}\nfunction ke(a,b,c,d,e){var f=de(a,!1,!1);f=Yd(a,f);f.template={trigger_id:b.Ja,trigger_event_type:c};null!=d&&(f.template.data=d.ic());var g=ee(a,f);Wd({url:\"\"+a.Wb+\"/template/\",data:f,headers:g,h:function(h){$d(f,h)?null==h||null==h.templated_message?a.L(b.Ja,Kc.qb):(h=h.templated_message,h.type!==Ud.Ac?a.L(b.Ja,Kc.sb):(h=nc(h.data),null==h?a.L(b.Ja,Kc.sb):\"function\"===typeof b.Ee?b.Ee(h):a.L(b.Ja,Kc.qb))):(a.L(b.Ja,Kc.qb),\"function\"===typeof b.De&&b.De());},error:function(h){var l=\"getting user personalization for message \"+\nb.Ja;if((new Date).valueOf()-b.kc>b.Ia)a.L(b.Ja,Kc.qb);else{var k=Math.min(b.Ia,a.tf),m=a.uf;null==e&&(e=m);var q=Math.min(k,Vd(m,3*e));l+=\". Retrying in \"+q+\"ms\";setTimeout(function(){ke(a,b,c,d,q);},q);}je(h,l);}});}p=Xd.prototype;\np.Ha=function(a,b,c){var d=Yd(this,{});d.last_full_sync_at=a;d.last_card_updated_at=b;a=this.f.A();null!=a&&(d.user_id=a);Wd({url:\"\"+this.Wb+\"/content_cards/sync\",data:d,headers:[[\"X-Braze-Api-Key\",this.Z],[\"X-Braze-DataRequest\",\"true\"],[\"X-Braze-ContentCardsRequest\",\"true\"]],h:function(e){$d(d,e)&&c(e);},error:function(e){je(e,\"retrieving content cards\");}});};\nfunction de(a,b,c){var d={};b&&(d.feed=!0);c&&(d.triggers=!0);b=a.f.A();null!=b&&(d.user_id=b);d.config={config_time:fe(a.D).$a};return {respond_with:d}}function ee(a,b){a=[[\"X-Braze-Api-Key\",a.Z]];var c=!1;null!=b.respond_with&&b.respond_with.triggers&&(a.push([\"X-Braze-TriggersRequest\",\"true\"]),c=!0);null!=b.respond_with&&b.respond_with.feed&&(a.push([\"X-Braze-FeedRequest\",\"true\"]),c=!0);c&&a.push([\"X-Braze-DataRequest\",\"true\"]);return a}\nfunction le(a){if(null==a.campaignId&&null==a.cardId&&null==a.triggerId)return v.info(\"The in-app message has no analytics id. Not logging event to Braze servers.\"),null;var b={};null!=a.cardId&&(b.card_ids=[a.cardId]);null!=a.campaignId&&(b.campaign_ids=[a.campaignId]);null!=a.triggerId&&(b.trigger_ids=[a.triggerId]);return b}function me(a){for(var b=null,c=0;c<a.length;c++)null!=a[c].id&&\"\"!==a[c].id&&(b=b||{},b.ids=b.ids||[],b.ids.push(a[c].id));return b}\nfunction ie(a,b){a.Nd||(null==b&&(b=1E3*a.$b),be(a),a.ac=setTimeout(function(){if(document.hidden){var c=function(){document.hidden||(document.removeEventListener(\"visibilitychange\",c,!1),ae(a));};document.addEventListener(\"visibilitychange\",c,!1);}else ae(a);},b),a.Td=b);}function be(a){null!=a.ac&&(clearTimeout(a.ac),a.ac=null);}p.ed=function(){this.Nd=!1;ie(this);};p.yb=function(){this.Uc.N();be(this);this.Nd=!0;ae(this,null,null,!1);this.ac=null;};function ne(a,b){yb(a.Uc,b);}\np.sc=function(a,b){var c=this,d=oe(this.G),e=Ta(this.G);d=d!==e;ae(this,null,!1,null,null,null,b);Za(this);if(d&&null!=a&&(a.Ab()||a.Da())){var f=function(){a.zf?v.info(\"Push token maintenance is disabled, not refreshing token for backend.\"):a.subscribe();};b=xa.Na;ta(new pa(b),b.M.Kc,function(g,h){h&&f();},function(){var g=Q(c.b,M.Tb);(null==g||g)&&f();});}};\np.Ua=function(a,b,c,d){var e=this.f.A();if(e!==a){var f=this.G,g=Na(f.b.ia.O(nb.Oa));null!=g&&(f.b.ia.remove(nb.Oa),g=pe(f,(new Date).valueOf(),g),null==g||Ua(f.b,[g]));f=this.f;g=null==f.A();lb(f.b,nb.Oc,new Ma(a));if(g){f=f.b;g=f.T.O(M.Ka);if(null!=g){var h=M.ud,l=g[h];null!=l&&(g[h]=void 0,f.T.store(M.Ka,g),l.user_id=a,ob(f,l));}h=Na(f.ia.O(nb.Oa));g=null;null!=h&&(g=h.ea);h=mb(f);if(null!=h)for(l=0;l<h.length;l++){var k=h[l];null==k.Fb&&k.sessionId==g&&(k.Fb=a);null==k||Ua(f,[k]);}}for(f=0;f<b.length;f++)b[f].Ua(null==\ne);null!=e&&R(this.b,M.ob);R(this.b,M.zc);this.sc(d,c);v.info('Changed user to \"'+a+'\".');}else\"function\"===typeof c?(v.info('Current user is already \"'+a+'\". Executing networkCallCompleteCallback.'),c()):v.info('Current user is already \"'+a+'\". Doing nothing.');};p.mb=function(){return new J(this.f,this)};p.Eb=function(a){be(this);Ta(this.G);ae(this,null,null,null,null,null,a);};p.uc=function(){Ta(this.G);ae(this,!0);};\nfunction qe(a,b,c){Ta(a.G);v.info(\"Requesting explicit trigger refresh.\");ae(a,null,!0,null,b,c);}p.gd=function(a,b){var c=new Sa,d=Ta(this.G);if(-1!==fe(this.D).me.indexOf(a))return v.info('Custom Event \"'+a+'\" is blacklisted, ignoring.'),c;c.j.push(new D(this.f.A(),B.CustomEvent,(new Date).valueOf(),d,{n:a,p:b}));c.h=Ua(this.b,c.j);return c};\nfunction Ya(a,b,c,d){var e=new Sa,f=Ta(a.G);if($a(a.D,c))return v.info('Custom Attribute \"'+c+'\" is blacklisted, ignoring.'),e;e.j.push(new D(a.f.A(),b,(new Date).valueOf(),f,{key:c,value:d}));e.h=Ua(a.b,e.j);return e}p.hd=function(a,b,c,d,e){var f=new Sa,g=Ta(this.G);if(-1!==fe(this.D).ue.indexOf(a))return v.info('Purchase \"'+a+'\" is blacklisted, ignoring.'),f;f.j.push(new D(this.f.A(),B.bf,(new Date).valueOf(),g,{pid:a,c:c,p:b,q:d,pr:e}));f.h=Ua(this.b,f.j);return f};\np.vc=function(a,b,c,d,e,f){var g=new Sa,h=Ta(this.G);b={latitude:b,longitude:c};null!=d&&(b.altitude=d);null!=e&&(b.ll_accuracy=e);null!=f&&(b.alt_accuracy=f);g.j.push(new D(a,B.kf,(new Date).valueOf(),h,b));g.h=Ua(this.b,g.j);return g};\np.Cb=function(a){var b=new Sa,c=Ta(this.G);if(a instanceof oc)b.j.push(new D(this.f.A(),B.Pe,(new Date).valueOf(),c,{trigger_ids:[a.triggerId]}));else{if(!a.md())return v.info(\"This in-app message has already received an impression. Ignoring analytics event.\"),b;a=le(a);if(null==a)return b;b.j.push(new D(this.f.A(),B.af,(new Date).valueOf(),c,a));}b.h=Ua(this.b,b.j);return b};\np.qc=function(a){var b=new Sa,c=Ta(this.G);if(!a.eb())return v.info(\"This in-app message has already received a click. Ignoring analytics event.\"),b;a=le(a);if(null==a)return b;b.j.push(new D(this.f.A(),B.Bd,(new Date).valueOf(),c,a));b.h=Ua(this.b,b.j);return b};\np.pc=function(a,b){var c=new Sa,d=Ta(this.G);if(!a.eb())return v.info(\"This in-app message button has already received a click. Ignoring analytics event.\"),c;b=le(b);if(null==b)return c;if(a.id===Lc)return v.info(\"This in-app message button does not have a tracking id. Not logging event to Braze servers.\"),c;null!=a.id&&(b.bid=a.id);c.j.push(new D(this.f.A(),B.Ad,(new Date).valueOf(),d,b));c.h=Ua(this.b,c.j);return c};\np.Bb=function(a,b,c){var d=new Sa,e=Ta(this.G);if(!a.eb(c))return v.info(\"This in-app message has already received a click. Ignoring analytics event.\"),d;a=le(a);if(null==a)return d;c=B.Bd;null!=b&&(a.bid=b,c=B.Ad);d.j.push(new D(this.f.A(),c,(new Date).valueOf(),e,a));d.h=Ua(this.b,d.j);return d};p.L=function(a,b){var c=new Sa,d=Ta(this.G);a={trigger_ids:[a],error_code:b};c.j.push(new D(this.f.A(),B.$e,(new Date).valueOf(),d,a));c.h=Ua(this.b,c.j);return c};\np.Ga=function(a,b){var c=new Sa,d=Ta(this.G),e=[],f=[];var g=b?Q(this.b,M.gb)||{}:Q(this.b,M.ob)||{};for(var h=0;h<a.length;h++)a[h].md(),a[h]instanceof Wb?f.push(a[h]):e.push(a[h]),g[a[h].id]=!0;a=me(e);f=me(f);if(null==a&&null==f)return c;b?P(this.b,M.gb,g):P(this.b,M.ob,g);null!=a&&c.j.push(new D(this.f.A(),b?B.Me:B.Je,(new Date).valueOf(),d,a));null!=f&&b&&c.j.push(new D(this.f.A(),B.Oe,(new Date).valueOf(),d,f));c.h=Ua(this.b,c.j);return c};\np.Fa=function(a,b){var c=new Sa,d=Ta(this.G);a.eb();if(null==a.url||\"\"===a.url)return v.info(\"Card \"+a.id+\" has no url. Not logging click to Braze servers.\"),c;if(b){var e=Q(this.b,M.fb)||{};e[a.id]=!0;P(this.b,M.fb,e);}a=me([a]);if(null==a)return c;c.j.push(new D(this.f.A(),b?B.Ke:B.Ie,(new Date).valueOf(),d,a));c.h=Ua(this.b,c.j);return c};\np.oc=function(a){var b=new Sa,c=Ta(this.G);if(!a.kd())return v.info(\"Card \"+a.id+\" refused this dismissal. Ignoring analytics event.\"),b;var d=Q(this.b,M.ra)||{};d[a.id]=!0;P(this.b,M.ra,d);a=me([a]);if(null==a)return b;b.j.push(new D(this.f.A(),B.Le,(new Date).valueOf(),c,a));b.h=Ua(this.b,b.j);return b};function re(a,b){var c=new Sa,d=Ta(a.G);c.j.push(new D(a.f.A(),B.df,(new Date).valueOf(),d,{n:b}));c.h=Ua(a.b,c.j);return c}\nfunction se(a,b,c){var d=Ta(a.G);return new D(a.f.A(),B.nf,b,d,{cid:c})}function Za(a){var b=xa.Na;(new pa(b)).setItem(b.M.Ue,1,{baseUrl:a.Wb,data:{api_key:a.Z,device_id:Zd(a.Xb).id},userId:a.f.A()});}var V={BROWSER:\"browser\",BROWSER_VERSION:\"browserVersion\",OS:\"os\",RESOLUTION:\"resolution\",LANGUAGE:\"language\",TIME_ZONE:\"timeZone\",USER_AGENT:\"userAgent\"};I.DeviceProperties=V;function te(a){this.id=a;}te.prototype.ic=function(){var a={};null!=this[V.BROWSER]&&(a.browser=this[V.BROWSER]);null!=this[V.BROWSER_VERSION]&&(a.browser_version=this[V.BROWSER_VERSION]);null!=this[V.OS]&&(a.os_version=this[V.OS]);null!=this[V.RESOLUTION]&&(a.resolution=this[V.RESOLUTION]);null!=this[V.LANGUAGE]&&(a.locale=this[V.LANGUAGE]);null!=this[V.TIME_ZONE]&&(a.time_zone=this[V.TIME_ZONE]);null!=this[V.USER_AGENT]&&(a.user_agent=this[V.USER_AGENT]);return a};function ue(a,b){this.b=a;null==b&&(b=za(V));this.Od=b;}\nfunction Zd(a){var b=Na(a.b.ia.O(nb.xd));null==b&&(b=new Ma(oa.Ya()),lb(a.b,nb.xd,b));b=new te(b.ea);for(var c=0;c<a.Od.length;c++){var d=a.Od[c];switch(d){case V.BROWSER:b[d]=jb.vb;break;case V.BROWSER_VERSION:b[d]=jb.version;break;case V.OS:b[d]=jb.Dd;break;case V.RESOLUTION:b[d]=screen.width+\"x\"+screen.height;break;case V.LANGUAGE:b[d]=jb.language;break;case V.TIME_ZONE:a:{var e=new Date;if(\"undefined\"!==typeof Intl&&\"function\"===typeof Intl.DateTimeFormat)try{if(\"function\"===typeof Intl.DateTimeFormat().resolvedOptions){var f=\nIntl.DateTimeFormat().resolvedOptions().timeZone;if(null!=f&&\"\"!==f){var g=f;break a}}}catch(k){v.info(\"Intl.DateTimeFormat threw an error, probably https://bugs.chromium.org/p/chromium/issues/detail?id=811403, falling back to GTM offset: \"+k.message);}g=e.getTimezoneOffset();e=parseInt(g/60);var h=parseInt(g%60),l=\"GMT\";0!==g&&(l=l+(0>g?\"+\":\"-\")+((\"00\"+Math.abs(e)).slice(-2)+\":\"+(\"00\"+Math.abs(h)).slice(-2)));g=l;}b[d]=g;break;case V.USER_AGENT:b[d]=jb.userAgent;}}return b}function ve(a){this.la=a;this.fc=null;this.be=\"geolocation\"in navigator;}ve.prototype.Ff=function(a){var b=this;if(document.hidden){we(this);var c=function(){document.hidden||(document.removeEventListener(\"visibilitychange\",c,!1),b.watchPosition());};document.addEventListener(\"visibilitychange\",c,!1);}this.la.vc(a.coords.latitude,a.coords.longitude,a.coords.accuracy,a.coords.altitude,a.coords.altitudeAccuracy);};\nve.prototype.Ef=function(a){a.code===a.PERMISSION_DENIED?v.info(a.message):v.error(\"Could not detect user location: \"+a.code+\" - \"+a.message);};ve.prototype.watchPosition=function(){this.be?(we(this),this.fc=navigator.geolocation.watchPosition(this.Ff.bind(this),this.Ef.bind(this)),v.info(\"Requested Geolocation\")):v.info(this.Hc);};function we(a){a.be?null!=a.fc&&(navigator.geolocation.clearWatch(a.fc),a.fc=null,v.info(\"Stopped watching Geolocation\")):v.info(a.Hc);}function xe(a,b,c,d,e){this.endpoint=a||null;this.ie=b||null;this.publicKey=c||null;this.Ag=d||null;this.oa=e||null;}xe.prototype.B=function(){return {e:this.endpoint,c:this.ie,p:this.publicKey,u:this.Ag,v:this.oa}};function ye(a,b,c,d,e,f,g,h,l,k){this.la=a;this.Z=b;this.Xb=c;this.Bf=d;this.$d=e||\"/service-worker.js\";this.Yd=f;this.D=g;this.Tc=l||!1;this.zf=h||!1;this.b=k;this.ec=\"serviceWorker\"in navigator&&\"undefined\"!==typeof ServiceWorkerRegistration&&\"showNotification\"in ServiceWorkerRegistration.prototype&&\"PushManager\"in window;this.Xc=\"safari\"in window&&\"pushNotification\"in window.safari;}p=ye.prototype;p.Ea=function(){return this.ec||this.Xc};\np.Da=function(){return this.Ea()&&null!=Notification&&null!=Notification.permission&&\"denied\"===Notification.permission};p.Ab=function(){return this.Ea()&&null!=Notification&&null!=Notification.permission&&\"granted\"===Notification.permission};\np.fd=function(a,b,c){var d=this;c=this.Yd||c;this.Ea()?this.ec?ze(this).then(function(e){d.Da()?b():null==e?b():e.pushManager.getSubscription().then(function(f){f?a():b();}).catch(function(){b();});}).catch(function(){b();}):null==c||\"\"===c?v.error(\"You must supply the safariWebsitePushId argument in order to use isPushGranted on Safari\"):\"granted\"===window.safari.pushNotification.permission(c).permission?a():b():b();};\nfunction Ae(a,b,c,d,e,f){b.unsubscribe().then(function(g){g?Be(a,c,d,e,f):(v.error(\"Failed to unsubscribe device from push.\"),\"function\"===typeof f&&f(!1));}).catch(function(g){v.error(\"Push unsubscription error: \"+g);\"function\"===typeof f&&f(!1);});}\nfunction Ce(a,b,c,d){var e=function(h){if(\"string\"===typeof h)return h;if(0!==h.endpoint.indexOf(\"https://android.googleapis.com/gcm/send\"))return h.endpoint;var l=h.endpoint;h.subscriptionId&&-1===h.endpoint.indexOf(h.subscriptionId)&&(l=h.endpoint+\"/\"+h.subscriptionId);return l}(b),f=null,g=null;if(null!=b.getKey)try{f=btoa(String.fromCharCode.apply(null,new Uint8Array(b.getKey(\"p256dh\")))),g=btoa(String.fromCharCode.apply(null,new Uint8Array(b.getKey(\"auth\"))));}catch(h){if(\"invalid arguments\"!==\nh.message)throw h;}b=function(h){var l;return h.options&&(l=h.options.applicationServerKey)&&l.byteLength&&0<l.byteLength?btoa(String.fromCharCode.apply(null,new Uint8Array(l))).replace(/\\+/g,\"-\").replace(/\\//g,\"_\"):null}(b);a.la.nd(e,d,f,g,b);e&&\"function\"===typeof c&&c(e,f,g);}\nfunction De(a,b,c,d,e){\"default\"===c.permission?window.safari.pushNotification.requestPermission(a.Bf,b,{api_key:a.Z,device_id:Zd(a.Xb).id},function(f){\"granted\"===f.permission&&a.la.qd(Wa.OPTED_IN);De(a,b,f,d,e);}):\"denied\"===c.permission?(a.la.nb(!1),v.info(\"The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.\"),\"function\"===typeof e&&e(!1)):\"granted\"===c.permission&&(v.info(\"Device successfully subscribed to push.\"),Ce(a,c.deviceToken,d,new Date));}\nfunction Ee(a,b,c){function d(g){switch(g){case \"granted\":\"function\"===typeof a&&a();break;case \"default\":\"function\"===typeof b&&b();break;case \"denied\":\"function\"===typeof c&&c();break;default:v.error(\"Received unexpected permission result \"+g);}}var e=!1,f=Notification.requestPermission(function(g){e&&d(g);});f?f.then(function(g){d(g);}):e=!0;}\nfunction Be(a,b,c,d,e){var f={userVisibleOnly:!0};null!=c&&(f.applicationServerKey=c);b.pushManager.subscribe(f).then(function(g){v.info(\"Device successfully subscribed to push.\");Ce(a,g,d,new Date);}).catch(function(g){a.Da()?(v.info(\"Permission for push notifications was denied.\"),\"function\"===typeof e&&e(!1)):v.error(\"Push subscription failed: \"+g);});}\nfunction ze(a){return a.Tc?navigator.serviceWorker.getRegistration():navigator.serviceWorker.register(a.$d).then(function(){return navigator.serviceWorker.ready.then(function(b){b&&\"function\"===typeof b.update&&b.update().catch(function(c){v.info(\"ServiceWorker update failed: \"+c);});return b})})}\np.subscribe=function(a,b,c){var d=this;a=this.Yd||a;if(this.Ea())if(this.ec){if(!this.Tc&&null!=window.location){var e=this.$d;-1===e.indexOf(window.location.host)&&(e=window.location.host+e);-1===e.indexOf(window.location.protocol)&&(e=window.location.protocol+\"//\"+e);if(0!==window.location.href.indexOf(e.substr(0,e.lastIndexOf(\"/\")+1))){v.error(\"Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from \"+window.location.pathname+\" but service worker is at \"+\ne+\")\");return}}if(this.Da())v.info(\"Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.\"),this.la.nb(!1),\"function\"===typeof c&&c();else if(this.D&&!fe(this.D).oa&&0===fe(this.D).$a)v.info(\"Waiting for VAPID key from server config before subscribing to push.\"),Fe(this.D,function(){d.subscribe(a,b,c);});else{var f=this.Ab();Ee(function(){f||d.la.qd(Wa.OPTED_IN);ze(d).then(function(g){null==g?(v.error(\"No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerAppboyPushMessages.\"),\n\"function\"===typeof c&&c()):g.pushManager.getSubscription().then(function(h){var l=null;d.D&&null!=fe(d.D).oa&&(l=ma.zg(fe(d.D).oa));if(h){var k=null,m=null,q=Q(d.b,M.Tb);if(q&&!Aa(q)){try{var t=(new xe(q.e,Ia(q.c),q.p,q.u,q.v)).ie;}catch(r){t=null;}null==t||isNaN(t.getTime())||0===t.getTime()||(k=t,m=new Date(k),m.setMonth(k.getMonth()+6));}null!=l&&h.options&&h.options.applicationServerKey&&h.options.applicationServerKey.byteLength&&0<h.options.applicationServerKey.byteLength&&!Ea(l,new Uint8Array(h.options.applicationServerKey))?\n(12<h.options.applicationServerKey.byteLength?v.info(\"Device was already subscribed to push using a different VAPID provider, creating new subscription.\"):v.info(\"Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription.\"),Ae(d,h,g,l,b,c)):h.expirationTime&&new Date(h.expirationTime)<=(new Date).valueOf()?(v.info(\"Push subscription is expired, creating new subscription.\"),Ae(d,h,g,l,b,\nc)):q&&Aa(q)?Ae(d,h,g,l,b,c):null==m?(v.info(\"No push subscription creation date found, creating new subscription.\"),Ae(d,h,g,l,b,c)):m<=(new Date).valueOf()?(v.info(\"Push subscription older than 6 months, creating new subscription.\"),Ae(d,h,g,l,b,c)):(v.info(\"Device already subscribed to push, sending existing subscription to backend.\"),Ce(d,h,b,k));}else Be(d,g,l,b,c);}).catch(function(h){v.error(\"Error checking current push subscriptions: \"+h);});}).catch(function(g){v.error(\"ServiceWorker registration failed: \"+\ng);});},function(){var g=\"Permission for push notifications was ignored.\";d.Da()&&(g+=\" The browser has automatically blocked further permission requests for a period (probably 1 week).\");v.info(g);\"function\"===typeof c&&c(!0);},function(){v.info(\"Permission for push notifications was denied.\");\"function\"===typeof c&&c(!1);});}}else this.Xc&&(null==a||\"\"===a?v.error(\"You must supply the safariWebsitePushId argument in order to use registerAppboyPushMessages on Safari\"):(e=window.safari.pushNotification.permission(a),\nDe(this,a,e,b,c)));else v.info(this.Hc);};\np.unsubscribe=function(a,b){var c=this;this.Ea()?this.ec?navigator.serviceWorker.getRegistration().then(function(d){d&&d.pushManager.getSubscription().then(function(e){e&&(c.la.nb(!0),e.unsubscribe().then(function(f){f?(v.info(\"Device successfully unsubscribed from push.\"),\"function\"===typeof a&&a()):(v.error(\"Failed to unsubscribe device from push.\"),\"function\"===typeof b&&b());c.Tc||(d.unregister(),v.info(\"Service worker successfully unregistered.\"));}).catch(function(f){v.error(\"Push unsubscription error: \"+f);\n\"function\"===typeof b&&b();}));}).catch(function(e){v.error(\"Error unsubscribing from push: \"+e);\"function\"===typeof b&&b();});}):this.Xc&&(this.la.nb(!0),v.info(\"Device unsubscribed from push.\"),\"function\"===typeof a&&a()):v.info(this.Hc);};function ge(a,b,c,d,e,f,g){this.$a=a||0;this.me=b||[];this.ee=c||[];this.ue=d||[];this.jd=e;if(null==e||\"\"===e)this.jd=null;this.oa=f||null;this.Va=g||{};}ge.prototype.B=function(){return {s:\"2.5.2\",l:this.$a,e:this.me,a:this.ee,p:this.ue,m:this.jd,v:this.oa,c:this.Va}};function Ge(a){this.b=a;this.Zc=new xb;this.Ld=new xb;this.dc=null;}function fe(a){if(null==a.dc){var b=Q(a.b,M.Hd);if(null!=b){var c=b.l;\"2.5.2\"!==b.s&&(c=0);b=new ge(c,b.e,b.a,b.p,b.m,b.v,b.c);}else b=new ge;a.dc=b;}return a.dc}function Fe(a,b){b=yb(a.Zc,b);a.Md&&a.Zc.S(a.Md);a.Md=b;}function He(a,b){yb(a.Ld,b);}function $a(a,b){return -1!==fe(a).ee.indexOf(b)}function Ie(a,b,c,d){this.b=a;this.f=b;this.D=c;this.tb=1E3;d=parseFloat(d);isNaN(d)&&(d=1800);d<this.tb/1E3&&(v.info(\"Specified session timeout of \"+d+\"s is too small, using the minimum session timeout of \"+this.tb/1E3+\"s instead.\"),d=this.tb/1E3);this.Df=d;}function pe(a,b,c){return new D(a.f.A(),B.rf,b,c.ea,{d:Fa(b-c.xb)})}function oe(a){a=Na(a.b.ia.O(nb.Oa));return null==a?null:a.ea}\nfunction ce(a){var b=(new Date).valueOf(),c=fe(a.D).jd;if(null==c)return !1;var d=Q(a.b,M.Pb);(c=null==d||b-d>1E3*c)&&P(a.b,M.Pb,b);return c}\nfunction Ta(a){var b=(new Date).valueOf(),c=b+1E3*a.Df,d=Na(a.b.ia.O(nb.Oa));if(null==d||(b-d.xb<a.tb?0:d.bd<b)){var e=\"Generating session start event with time \"+b;if(null!=d){var f=d.nc;f-d.xb<a.tb&&(f=d.xb+a.Eg);d=pe(a,f,d);null==d||Ua(a.b,[d]);e+=\" (old session ended \"+f+\")\";}e+=\". Will expire \"+c.valueOf();v.info(e);c=new Ma(oa.Ya(),c);e=new D(a.f.A(),B.Id,b,c.ea);null==e||Ua(a.b,[e]);lb(a.b,nb.Oa,c);null==Q(a.b,M.Pb)&&P(a.b,M.Pb,b);return c.ea}d.nc=b;d.bd=c;lb(a.b,nb.Oa,d);return d.ea}function Je(a,b){var c=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(M.Lc,!0),localStorage.getItem(M.Lc)&&(localStorage.removeItem(M.Lc),c=!0);}catch(e){if((\"QuotaExceededError\"===e.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===e.name)&&0<localStorage.length)c=!0;else throw e;}}catch(e){v.info(\"Local Storage not supported!\");}var d=navigator.cookieEnabled||\"cookie\"in document&&(0<document.cookie.length||-1<(document.cookie=\"test\").indexOf.call(document.cookie,\"test\"));b=new wb(a,d&&!b,\nc);return new kb(b,c?new rb(a):new vb)}function Ke(a){for(var b=a.length,c=a.length-1;0<=c;c--){var d=a.charCodeAt(c);127<d&&2047>=d?b++:2047<d&&65535>=d&&(b+=2);56320<=d&&57343>=d&&c--;}return b}function Le(a,b){this.D=a;this.b=b;}p=Le.prototype;p.A=function(){var a=Na(this.b.ia.O(nb.Oc));if(null==a)return null;var b=a.ea,c=Ke(b);if(997<c){for(;997<c;)b=b.slice(0,b.length-1),c=Ke(b);a.ea=b;lb(this.b,nb.Oc,a);}return b};p.od=function(a,b){if($a(this.D,a))return v.info('Custom Attribute \"'+a+'\" is blacklisted, ignoring.'),!1;var c={};c[a]=b;return this.H(\"custom\",c)};p.H=function(a,b){return pb(this.b,this.A(),a,b)};\np.nd=function(a,b,c,d,e){this.H(\"push_token\",a);this.H(\"custom_push_public_key\",c);this.H(\"custom_push_user_auth\",d);this.H(\"custom_push_vapid_public_key\",e);var f=xa.Na,g=new pa(f);P(this.b,M.Tb,(new xe(a,b,c,d,e)).B());g.setItem(f.M.Kc,f.Ub,!0);};p.nb=function(a){this.H(\"push_token\",null);this.H(\"custom_push_public_key\",null);this.H(\"custom_push_user_auth\",null);this.H(\"custom_push_vapid_public_key\",null);if(a){a=xa.Na;var b=new pa(a);P(this.b,M.Tb,!1);b.setItem(a.M.Kc,a.Ub,!1);}};function Me(){}Me.prototype.zb=function(){};Me.prototype.Ua=function(){};Me.prototype.clearData=function(){};function Ne(a,b,c,d,e){this.ca=a;this.J=b;this.b=c;this.D=d;this.wf=e;this.xa=this.Aa=0;this.Ca();}ia(Ne,Me);p=Ne.prototype;p.Ca=function(){for(var a=Q(this.b,M.pb)||[],b=[],c=0;c<a.length;c++){var d=Xb(a[c]);null!=d&&b.push(d);}this.C=Oe(this,Pe(this,b,!1));this.Aa=Q(this.b,M.Lb)||this.Aa;this.xa=Q(this.b,M.Kb)||this.xa;};\np.zb=function(a){if(!fe(this.D).Va.enabled)0!==fe(this.D).$a&&Qe(this);else if(null!=a&&a.cards){var b=a.full_sync;b||this.Ca();var c=a.cards,d=a.last_full_sync_at;a=a.last_card_updated_at;var e=b?[]:this.C.slice();for(var f=0;f<c.length;f++){for(var g=c[f],h=null,l=0;l<this.C.length;l++)if(g.id===this.C[l].id){h=this.C[l];break}if(b)g=Rb(g),null!=h&&h.viewed&&(g.viewed=!0),null!=g&&e.push(g);else if(null==h)g=Rb(g),null!=g&&e.push(g);else if(!Pb(h,g))for(h=0;h<e.length;h++)if(g.id===e[h].id){e.splice(h,\n1);break}}this.C=Oe(this,Pe(this,e,b));this.gc();this.Aa=d||0;P(this.b,M.Lb,this.Aa);this.xa=a||0;P(this.b,M.Kb,this.xa);zb(this.ca,this.lb(!0));}};\nfunction Re(a,b){if(fe(a.D).Va.enabled){a.Ca();var c=a.C.slice();a.J.mb().A(function(d){for(var e=0;e<b.length;e++)if(d===b[e].userId||null==d&&null==b[e].userId){for(var f=b[e].card,g=null,h=0;h<a.C.length;h++)if(f.id===a.C[h].id){g=a.C[h];break}if(null==g)f=Rb(f),null!=f&&c.push(f);else if(!Pb(g,f))for(g=0;g<c.length;g++)if(f.id===c[g].id){c.splice(g,1);break}}a.C=Oe(a,Pe(a,c,!1));a.gc();zb(a.ca,a.lb(!0));});}else 0!==fe(a.D).$a&&Qe(a);}\nfunction Pe(a,b,c){for(var d=Q(a.b,M.fb)||{},e=Q(a.b,M.gb)||{},f=Q(a.b,M.ra)||{},g={},h={},l={},k=0;k<b.length;k++)d[b[k].id]&&(b[k].clicked=!0,g[b[k].id]=!0),e[b[k].id]&&(b[k].viewed=!0,h[b[k].id]=!0),f[b[k].id]&&(b[k].dismissed=!0,l[b[k].id]=!0);c&&(P(a.b,M.fb,g),P(a.b,M.gb,h),P(a.b,M.ra,l));return b}\nfunction Oe(a,b){for(var c=[],d=new Date,e=Q(a.b,M.ra)||{},f=!1,g=0;g<b.length;g++){var h=b[g].url;!a.wf&&h&&Rc(h)?v.error('Card with url \"'+h+'\" will not be displayed because Javascript URLs are disabled. Use the \"allowUserSuppliedJavascript\" option for appboy.initialize to enable this card.'):(null==b[g].expiresAt||b[g].expiresAt>=d)&&!b[g].dismissed?c.push(b[g]):f=e[b[g].id]=!0;}f&&P(a.b,M.ra,e);return c}p.gc=function(){for(var a=[],b=0;b<this.C.length;b++)a.push(this.C[b].B());P(this.b,M.pb,a);};\np.Ha=function(){if(fe(this.D).Va.enabled)return this.J.Ha(this.Aa,this.xa,this.zb.bind(this));0!==fe(this.D).$a&&Qe(this);};p.lb=function(a){a||this.Ca();a=Oe(this,this.C);a.sort(function(c,d){return c.pinned&&!d.pinned?-1:d.pinned&&!c.pinned?1:c.updated>d.updated?-1:d.updated>c.updated?1:0});var b=Math.max(this.xa||0,this.Aa||0);0===b&&(b=void 0);return new Zc(a,Ga(b))};\np.Ua=function(a){a||(this.C=[],zb(this.ca,new Zc(this.C.slice(),null)),R(this.b,M.pb),R(this.b,M.fb),R(this.b,M.gb),R(this.b,M.ra));this.xa=this.Aa=0;R(this.b,M.Lb);R(this.b,M.Kb);};p.clearData=function(a){this.xa=this.Aa=0;this.C=[];zb(this.ca,new Zc(this.C.slice(),null));a&&(R(this.b,M.pb),R(this.b,M.fb),R(this.b,M.gb),R(this.b,M.ra),R(this.b,M.Lb),R(this.b,M.Kb));};function Qe(a){zb(a.ca,new Zc([],(new Date).valueOf()));R(a.b,M.pb);}function Se(a,b){this.ca=a;this.b=b;this.Ca();}ia(Se,Me);p=Se.prototype;p.Ca=function(){for(var a=Q(this.b,M.Gc)||[],b=[],c=0;c<a.length;c++){var d=Xb(a[c]);null!=d&&b.push(d);}this.C=b;this.ib=Ia(Q(this.b,M.Ec));};p.gc=function(){for(var a=[],b=0;b<this.C.length;b++)a.push(this.C[b].B());P(this.b,M.Gc,a);};\np.zb=function(a){if(null!=a&&a.feed){this.Ca();a=a.feed;for(var b=[],c,d=Q(this.b,M.ob)||{},e={},f=0;f<a.length;f++){c=a[f];var g=c.id,h=c.type,l=c.viewed,k=c.title,m=c.image,q=c.description,t=Ga(c.created),r=Ga(c.updated),y=c.categories,A=Ga(c.expires_at),z=c.url,F=c.domain,G=c.aspect_ratio;c=c.extras;g=h===Sb.Kd||h===Sb.Rb?new Tb(g,l,k,m,q,t,r,y,A,z,F,G,c,!1,!1):h===Sb.Ib?new Ub(g,l,k,m,q,t,r,y,A,z,F,G,c,!1,!1):h===Sb.Hb?new Vb(g,l,m,t,r,y,A,z,F,G,c,!1,!1):null;null!=g&&(d[g.id]&&(g.viewed=!0,e[g.id]=\n!0),b.push(g));}P(this.b,M.ob,e);this.C=b;this.gc();this.ib=new Date;P(this.b,M.Ec,this.ib);zb(this.ca,new Vc(this.C.slice(),this.ib));}};p.lc=function(){this.Ca();for(var a=[],b=new Date,c=0;c<this.C.length;c++)(null==this.C[c].expiresAt||this.C[c].expiresAt>=b)&&a.push(this.C[c]);return new Vc(a,this.ib)};p.clearData=function(a){null==a&&(a=!1);this.C=[];this.ib=null;a&&(R(this.b,M.Gc),R(this.b,M.Ec));zb(this.ca,new Vc(this.C.slice(),this.ib));};function Te(a,b,c,d,e){this.Ja=a;this.Ee=b;this.De=c;this.kc=d;this.Ia=e;}function Ue(a,b,c,d,e){return null==a||null==a.trigger_id?null:new Te(a.trigger_id,b,c,d,e)}function Ve(a,b,c,d){this.Af=a;this.ca=b;this.b=c;this.J=d;this.Zb=[];this.ka=[];this.ya=null;this.K={};this.X={};We(this);Xe(this);}ia(Ve,Me);function Ye(a){a.ya=Q(a.b,M.Dc)||a.ya;a.K=Q(a.b,M.rb)||a.K;a.X=Q(a.b,M.Ob)||a.X;for(var b=0;b<a.U.length;b++){var c=a.U[b];null!=a.X[c.id]&&(c.za=a.X[c.id]);}}function We(a){a.Yc=Q(a.b,M.Nc)||0;for(var b=Q(a.b,M.Mc)||[],c=[],d=0;d<b.length;d++)c.push(Td(b[d]));a.U=c;Ye(a);}\nfunction Xe(a){function b(z,F,G,E,K){return function(){Ze(a,z,F,G,E,K);}}for(var c={},d=0;d<a.U.length;d++)c[a.U[d].id]=a.U[d];d=!1;for(var e=0;e<a.U.length;e++){var f=a.U[e];if(null!=a.K[f.id]){for(var g=a.K[f.id],h=[],l=0;l<g.length;l++){var k=g[l],m=Math.max(k.kc+1E3*f.Wa-(new Date).valueOf(),0);if(0<m){h.push(k);var q=void 0,t=void 0;null!=k.Be&&(q=k.Be);null!=k.$c&&Ja(k.$c)&&(t=Ka(k.$c));var r=[];if(Aa(k.cd))for(var y=0;y<k.cd.length;y++){var A=c[k.cd[y]];null!=A&&r.push(A);}a.ka.push(setTimeout(b(f,\nk.kc,q,t,r),m));}}a.K[f.id].length>h.length&&(a.K[f.id]=h,d=!0,0===a.K[f.id].length&&delete a.K[f.id]);}}d&&P(a.b,M.rb,a.K);}\nVe.prototype.zb=function(a){var b=!1;if(null!=a&&a.triggers){Ye(this);var c={},d={};this.U=[];for(var e=0;e<a.triggers.length;e++){for(var f=a.triggers[e],g=f.id,h=[],l=0;l<f.trigger_condition.length;l++)h.push(Gd(f.trigger_condition[l]));l=Ga(f.start_time);var k=Ga(f.end_time),m=f.priority,q=f.type,t=f.delay,r=f.re_eligibility,y=f.timeout,A=f.data;f=f.min_seconds_since_last_trigger;g=ya(Ud,q,\"Could not construct Trigger from server data\",\"Trigger.Types\")?new Qd(g,h,l,k,m,q,A,t,r,y,f):null;null!=\nthis.X[g.id]&&(g.za=this.X[g.id],c[g.id]=this.X[g.id]);null!=this.K[g.id]&&(d[g.id]=this.K[g.id]);for(h=0;h<g.kb.length;h++)if(Ed(g.kb[h],Cd.Vb,null)){b=!0;break}null!=g&&this.U.push(g);}Ea(this.X,c)||(this.X=c,P(this.b,M.Ob,this.X));Ea(this.K,d)||(this.K=d,P(this.b,M.rb,this.K));a=[];for(c=0;c<this.U.length;c++)a.push(this.U[c].B());this.Yc=(new Date).valueOf();P(this.b,M.Mc,a);P(this.b,M.Nc,this.Yc);b&&(v.info(\"Trigger with test condition found, firing test.\"),this.na(Cd.Vb));this.na(Cd.OPEN);b=\nthis.Zb;this.Zb=[];for(a=0;a<b.length;a++)this.na.apply(this,b[a]);}};\nfunction Ze(a,b,c,d,e,f){function g(){Ye(a);var k=f.pop();if(null!=k)if($e(a,k,c,d,e,f),Sd(k,c)){var m=\"Server aborted in-app message display, but the timeout on fallback trigger \"+k.id+\"has already elapsed.\";0<f.length&&(m+=\" Continuing to fall back.\");v.info(m);a.J.L(k.id,Kc.zd);g();}else v.info(\"Server aborted in-app message display. Falling back to lower priority \"+k.type+\" trigger action \"+k.id),m=1E3*k.Wa-((new Date).valueOf()-c),0<m?a.ka.push(setTimeout(function(){Ze(a,k,c,d,e,f);},m)):Ze(a,\nk,c,d,e,f);}function h(k){Ye(a);var m=(new Date).valueOf();Sd(b,c)?b.type===Ud.Jd?a.J.L(b.id,Kc.qb):a.J.L(b.id,Kc.zd):!1===navigator.onLine&&b.type===Ud.Ac&&k.imageUrl?(v.info(\"Not showing \"+b.type+\" trigger action \"+b.id+\" due to offline state.\"),a.J.L(b.id,Kc.Ye)):(null==b.za||b.Db!==Rd&&m-b.za>=1E3*b.Db)&&af(a,b,m,d)?(zb(a.ca,[k]),Ye(a),b.za=m,a.ya=m,P(a.b,M.Dc,m),a.X[b.id]=m,P(a.b,M.Ob,a.X)):v.info(\"Not displaying trigger \"+b.id+\" because display time fell outside of the acceptable time window.\");}\nswitch(b.type){case Ud.Ac:var l=nc(b.data);if(null==l){v.error(\"Could not parse trigger data for trigger \"+b.id+\", ignoring.\");a.J.L(b.id,Kc.sb);break}h(l);break;case Ud.Jd:l=Ue(b.data,h,g,c,b.Ia);if(null==l){v.error(\"Could not parse trigger data for trigger \"+b.id+\", ignoring.\");a.J.L(b.id,Kc.sb);break}ke(a.J,l,d,e);break;default:v.error(\"Trigger \"+b.id+\" was of unexpected type \"+b.type+\", ignoring.\"),a.J.L(b.id,Kc.sb);}}\nVe.prototype.na=function(a,b,c){var d=this;if(ya(Cd,a,\"Cannot fire trigger action.\",\"TriggerEvents\"))if(0<this.J.hb)v.info(\"Trigger sync is currently in progress, awaiting sync completion before firing trigger event.\"),this.Zb.push(arguments);else{(Q(this.b,M.Nc)||0)>this.Yc?We(this):Ye(this);for(var e=(new Date).valueOf(),f=e-this.ya,g=!0,h=!0,l=[],k=0;k<this.U.length;k++){var m=this.U[k],q=e+1E3*m.Wa;if((null==m.za||m.Db!==Rd&&q-m.za>=1E3*m.Db)&&(null==m.startTime||m.startTime<=e)&&(null==m.endTime||\nm.endTime>=e)){for(var t=!1,r=0;r<m.kb.length;r++)if(Ed(m.kb[r],a,b)){t=!0;break}t&&(g=!1,af(this,m,q,a)&&(h=!1,l.push(m)));}}if(g)v.info(\"Trigger event \"+a+\" did not match any trigger conditions.\");else if(h)v.info(\"Ignoring \"+a+\" trigger event because a trigger was displayed \"+f/1E3+\"s ago.\");else{l.sort(function(A,z){return A.priority-z.priority});var y=l.pop();null!=y&&(v.info(\"Firing \"+y.type+\" trigger action \"+y.id+\" from trigger event \"+a+\".\"),$e(this,y,e,a,c,l),0===y.Wa?Ze(this,y,e,a,c,l):\nthis.ka.push(setTimeout(function(){Ze(d,y,e,a,c,l);},1E3*y.Wa)));}}};Ve.prototype.Ua=function(a){this.U=[];R(this.b,M.Mc);if(!a){this.Zb=[];this.ya=null;this.X={};this.K={};for(a=0;a<this.ka.length;a++)clearTimeout(this.ka[a]);this.ka=[];R(this.b,M.Dc);R(this.b,M.Ob);R(this.b,M.rb);R(this.b,M.ff);R(this.b,M.ef);R(this.b,M.gf);}};Ve.prototype.clearData=function(){this.U=[];this.ya=null;this.X={};this.K={};for(var a=0;a<this.ka.length;a++)clearTimeout(this.ka[a]);this.ka=[];};\nfunction af(a,b,c,d){if(null==a.ya)return !0;if(d===Cd.Vb)return v.info(\"Ignoring minimum interval between trigger because it is a test type.\"),!0;b=b.se;null==b&&(b=a.Af);return c-a.ya>=1E3*b}function $e(a,b,c,d,e,f){Ye(a);a.K[b.id]=a.K[b.id]||[];var g={};g.kc=c;g.Be=d;var h;null!=e&&(h=e.B());g.$c=h;c=[];for(d=0;d<f.length;d++)c.push(f[d].id);g.cd=c;a.K[b.id].push(g);P(a.b,M.rb,a.K);}var bf;\"undefined\"===typeof console&&(window.console={log:function(){}});var cf=window.Element.prototype;\"function\"!==typeof cf.matches&&(cf.matches=cf.msMatchesSelector||cf.mozMatchesSelector||cf.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return !!a[b]});\nElement.prototype.closest||(Element.prototype.closest=function(a){var b=this;if(!document.documentElement.contains(b))return null;do{if(b.matches(a))return b;b=b.parentElement||b.parentNode;}while(null!==b&&1===b.nodeType);return null});\nif(\"function\"!==typeof window.CustomEvent){var df=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:null};var c=document.createEvent(\"CustomEvent\");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c};df.prototype=window.Event.prototype;window.CustomEvent=df;}var ef;module.exports?ef=module.exports:(window.appboy||(window.appboy={}),ef=window.appboy);var ff=ef;var W=new function(a){function b(n){var u={},x;for(x in n){var C=n[x];null==C?delete n[x]:u[x]=Ba(C)?Ha(C):C;}return u}function c(n,u,x,C,H){null==n&&(n={});if(\"object\"!==typeof n||Aa(n))return v.error(u+\" requires that \"+x+\" be an object. Ignoring \"+H+\".\"),!1;for(var O in n){if(!Pa(O,C,\"the \"+H+\" property name\"))return !1;u=n[O];if(x=null!=u){x=typeof u;var Z=Ba(u);(x=null!=u&&(\"number\"===x||\"boolean\"===x||Z||\"string\"===x))||v.error(\"Cannot \"+C+\" because the \"+(H+' property \"'+O+'\" \"')+u+'\" is invalid.');\nx=!x;}if(x)return !1}return !0}function d(){v.yb();Y&&(zb(N),N.N(),r.clearData(!1),r=null,z.clearData(!1),z=null,t.N(),t=null,F.N(),F=null,y.N(),y=null,m.yb(),G=m=null,we(E),g=l=E=null,L=[],k=null);ea=Y=!1;}function e(){if(ea)return !1;if(!Y)throw Error(\"Appboy must be initialized before calling methods.\");return !0}var f={Lf:function(n,u){return new ue(n,u)},Pf:function(n,u,x,C,H,O,Z,na,La){null==H&&(H={});var he=new Le(La,Z),lf=new Ie(Z,he,La,H.sessionTimeoutInSeconds);return new Xd(n,x,C,H.appVersion,\nu,lf,na,he,La,Z,O)},ad:function(){return new xb},Mf:function(n,u){return new Se(n,u)},Kf:function(n,u,x,C){return new Ne(n,u,x,C)},Qf:function(n,u,x,C){return new Ve(n,u,x,C)},Of:function(n,u,x,C,H,O,Z){null==H&&(H={});return new ye(n,u,x,C+\"/safari/\"+u,H.serviceWorkerLocation,H.safariWebsitePushId,O,H.manageServiceWorkerExternally,H.disablePushTokenMaintenance,Z)},Nf:function(n){return new ve(n)}};null==a&&(a=f);var g,h,l,k,m,q,t,r,y,A,z,F,G,E,K=new xb,N=new xb,L=[],Y=!1,ea=!1;bf={Cd:100,Qb:\"inAppMessage must be an InAppMessage object\",\nFc:\"must be a Card object\"};return {sg:function(n){return yb(K,n)},rg:function(n){return yb(N,n)},ed:function(n,u){if(Y)return v.info(\"Braze has already been initialized with an API key.\"),!0;v.dd(null!=u&&u.enableLogging);if(null==n||\"\"===n||\"string\"!==typeof n)return v.error(\"Braze requires a valid API key to be initialized.\"),!1;g=n;l=u||{};if(jb.Wf&&!l.allowCrawlerActivity)return v.info(\"Ignoring activity from crawler bot \"+navigator.userAgent),ea=!0,!1;h=u=Je(n,l.noCookies||!1);if((new sb(null,\n!0)).O(\"ab.optOut\"))return v.info(\"Ignoring all activity due to previous opt out\"),ea=!0,!1;var x=[\"mparticle\",\"wordpress\",\"tealium\"];if(null!=l.sdkFlavor){var C=l.sdkFlavor;-1!==x.indexOf(C)?k=C:v.error(\"Invalid sdk flavor passed: \"+C);}var H=[];t=a.ad();L.push(t);r=a.Mf(t,u);H.push(r);F=a.ad();L.push(F);x=null!=l.baseUrl?l.baseUrl:\"https://sdk.iad-01.braze.com/api/v3\";x=x.replace(/(\\.[a-z]+)[^\\.]*$/i,\"$1/api/v3\");0!==x.indexOf(\"http\")&&(x=\"https://\"+x);C=l.devicePropertyWhitelist;if(null!=C)if(Aa(C)){for(var O=\n[],Z=0;Z<C.length;Z++)ya(V,C[Z],\"devicePropertyWhitelist contained an invalid value.\",\"DeviceProperties\")&&O.push(C[Z]);C=O;}else v.error(\"devicePropertyWhitelist must be an array. Defaulting to all properties.\"),C=null;q=a.Lf(u,C);C=new Ge(u);m=a.Pf(g,x,\"2.5.2\",k,l,function(na){if(Y)for(var La=0;La<H.length;La++)H[La].zb(na);},u,q,C);O=l.minimumIntervalBetweenTriggerActionsInSeconds;null==O&&(O=30);z=a.Qf(O,F,u,m);H.push(z);O=!0===l.allowUserSuppliedJavascript||!0===l.enableHtmlInAppMessages;\ny=a.ad();L.push(y);A=a.Kf(y,m,u,C,O);H.push(A);He(C,function(){A.Ha();});ne(m,function(){A.Ha();});m.ed();G=a.Of(m.mb(),g,q,x,l,C,u);E=a.Nf(m.mb());u=\"Initialized \";l&&l.baseUrl&&(u+='for the Braze backend at \"'+l.baseUrl+'\" ');v.info(u+('with API key \"'+n+'\".'));n=jb.language;u=!1;l&&(l.language&&(n=l.language,u=!0),l.localization&&(n=l.localization,u=!0));Sc(n,u);zb(K,l);return Y=!0},yb:function(){v.info(\"Destroying appboy instance\");h=null;d();},Rf:function(n){e()&&(null==n&&v.error(\"getDeviceId must be supplied with a callback. e.g., appboy.getDeviceId(function(deviceId) {console.log('the device id is ' + deviceId)})\"),\n\"function\"===typeof n&&n(Zd(q).id));},sd:function(){v.sd();},pd:function(n){v.pd(n);},sc:function(n){if(e()){m.sc(G,n);var u=xa.Na,x=new pa(u);ta(x,u.M.Fd,function(C,H){function O(){z.na(Cd.Ed,[na],La);}var Z=H.lastClick,na=H.trackingString;v.info(\"Firing push click trigger from \"+na+\" push click at \"+Z);var La=se(m,Z,na);qe(m,O,O);ua(x,u.M.Fd,C);});va(x,u.M.He,function(C){Re(A,C);});}},Ua:function(n,u){e()&&(null==n||0===n.length||n!==n?(v.error(\"changeUser requires a non-empty userId.\"),\"function\"===typeof u&&\n(v.info(\"messagingReadyCallback provided with an empty userId. Firing immediately.\"),u())):997<Ke(n)?v.error('Rejected user id \"'+n+'\" because it is longer than 997 bytes.'):m.Ua(n.toString(),[r,A,z],u,G));},mb:function(){if(e())return m.mb()},Tf:function(){if(e())return l.contentSecurityNonce},Eb:function(n){e()&&m.Eb(n);},uc:function(){e()&&m.uc();},ze:function(n){if(e())return yb(t,n)},lc:function(){if(e())return r.lc()},Ha:function(){if(e())return A.Ha()},xe:function(n){if(e())return yb(y,n)},lb:function(){if(e())return A.lb(!1)},\ntg:function(n){if(e())return yb(F,n)},Ae:function(n){if(e())return \"function\"!==typeof n?null:yb(F,function(u){n(u[0]);return u.slice(1)})},Cb:function(n){if(e())return n instanceof U||n instanceof oc?m.Cb(n).h:(v.error(bf.Qb),!1)},qc:function(n){if(e()){if(!(n instanceof U))return v.error(bf.Qb),!1;var u=m.qc(n);if(u.h)for(var x=0;x<u.j.length;x++)z.na(Cd.Nb,[n.triggerId],u.j[x]);return u.h}},pc:function(n,u){if(e()){if(!(n instanceof pc))return v.error(\"button must be an ab.InAppMessage.Button object\"),\n!1;if(!(u instanceof U))return v.error(bf.Qb),!1;var x=m.pc(n,u);if(x.h)for(var C=0;C<x.j.length;C++)z.na(Cd.Nb,[u.triggerId,n.id],x.j[C]);return x.h}},Bb:function(n,u,x){if(e()){if(!(n instanceof zc))return v.error(\"inAppMessage argument to logInAppMessageHtmlClick must be an HtmlMessage object.\"),!1;x=m.Bb(n,u,x);if(x.h)for(var C=0;C<x.j.length;C++)z.na(Cd.Nb,[n.triggerId,u],x.j[C]);return x.h}},L:function(n,u){if(e())return n instanceof U||n instanceof oc?ya(Kc,u,u+\" is not a valid in-app message display failure\",\n\"InAppMessage.DisplayFailures\")?m.L(n.triggerId,u).h:!1:(v.error(bf.Qb),!1)},Ga:function(n,u){if(e()){if(!Aa(n))return v.error(\"cards must be an array\"),!1;for(var x=0;x<n.length;x++)if(!(n[x]instanceof Mb))return v.error(\"Each card in cards \"+bf.Fc),!1;return m.Ga(n,u).h}},Fa:function(n,u){if(e())return n instanceof Mb?m.Fa(n,u).h:(v.error(\"card \"+bf.Fc),!1)},oc:function(n){if(e())return n instanceof Mb?m.oc(n).h:(v.error(\"card \"+bf.Fc),!1)},re:function(){if(e())return re(m,wa.Ze).h},qe:function(){if(e())return re(m,\nwa.Ne).h},S:function(n){if(e()){for(var u=0;u<L.length;u++)L[u].S(n);K.S(n);N.S(n);}},N:function(){if(e())for(var n=0;n<L.length;n++)L[n].N();},gd:function(n,u){if(e()){if(null==n||0>=n.length)return v.error('logCustomEvent requires a non-empty eventName, got \"'+n+'\". Ignoring event.'),!1;if(!Pa(n,\"log custom event\",\"the event name\")||!c(u,\"logCustomEvent\",\"eventProperties\",'log custom event \"'+n+'\"',\"event\"))return !1;var x=m.gd(n,b(u));if(x.h){v.info('Logged custom event \"'+n+'\".');for(var C=0;C<x.j.length;C++)z.na(Cd.yc,\n[n,u],x.j[C]);}return x.h}},hd:function(n,u,x,C,H){if(e()){null==x&&(x=\"USD\");null==C&&(C=1);if(null==n||0>=n.length)return v.error('logPurchase requires a non-empty productId, got \"'+n+'\", ignoring.'),!1;if(!Pa(n,\"log purchase\",\"the purchase name\"))return !1;var O=parseFloat(u);if(isNaN(O))return v.error(\"logPurchase requires a numeric price, got \"+u+\", ignoring.\"),!1;O=O.toFixed(2);u=parseInt(C);if(isNaN(u))return v.error(\"logPurchase requires an integer quantity, got \"+C+\", ignoring.\"),!1;if(1>u||\nu>bf.Cd)return v.error(\"logPurchase requires a quantity >1 and <\"+bf.Cd+\", got \"+u+\", ignoring.\"),!1;x=x.toUpperCase();if(-1===\"AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYR BZD CAD CDF CHF CLF CLP CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EEK EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LTL LVL LYD MAD MDL MGA MKD MMK MNT MOP MRO MTL MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD STD SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMK ZMW ZWL\".split(\" \").indexOf(x))return v.error(\"logPurchase requires a valid currencyCode, got \"+\nx+\", ignoring.\"),!1;if(!c(H,\"logPurchase\",\"purchaseProperties\",'log purchase \"'+n+'\"',\"purchase\"))return !1;C=m.hd(n,O,x,u,b(H));if(C.h)for(v.info(\"Logged \"+u+\" purchase\"+(1<u?\"s\":\"\")+' of \"'+n+'\" for '+x+\" \"+O+\".\"),x=0;x<C.j.length;x++)z.na(Cd.Jc,[n,H],C.j[x]);return C.h}},Ea:function(){if(e())return G.Ea()},Da:function(){if(e())return G.Da()},fd:function(n,u,x){e()&&G.fd(n,u,x);},Ab:function(){if(e())return G.Ab()},$f:function(n,u,x){if(e())return G.subscribe(x,function(C,H,O){m.Eb();\"function\"===\ntypeof n&&n(C,H,O);},u)},yg:function(n,u){if(e())return G.unsubscribe(n,u)},wg:function(){e()&&E.watchPosition();},qg:function(){null!=m&&m.Eb();var n=new sb(null,!0);n.store(\"ab.optOut\",\"This-cookie-will-expire-in-\"+tb(n));n=xa.Na;(new pa(n)).setItem(n.M.Ic,n.Ub,!0);d();ea=!0;},bg:function(){(new sb(null,!0)).remove(\"ab.optOut\");var n=xa.Na;ua(new pa(n),n.M.Ic,n.Ub);d();},Bg:function(){if(null==h)throw Error(\"Appboy must be initialized before calling methods.\");h.clearData();for(var n=Da(xa),u=0;u<n.length;u++)(new pa(xa[n[u]])).clearData();\nY&&(r.clearData(!0),z.clearData(!0));}}},X={ab:{}},gf=X.ab,hf;for(hf in I)gf[hf]=I[hf];X.initialize=W.ed;X.destroy=W.yb;X.getDeviceId=W.Rf;X.toggleAppboyLogging=W.sd;X.setLogger=W.pd;X.openSession=W.sc;X.changeUser=W.Ua;X.getUser=W.mb;X.requestImmediateDataFlush=W.Eb;X.requestFeedRefresh=W.uc;X.getCachedFeed=W.lc;X.subscribeToFeedUpdates=W.ze;X.requestContentCardsRefresh=W.Ha;X.getCachedContentCards=W.lb;X.subscribeToContentCardsUpdates=W.xe;X.logCardImpressions=W.Ga;X.logCardClick=W.Fa;\nX.logCardDismissal=W.oc;X.logFeedDisplayed=W.re;X.logContentCardsDisplayed=W.qe;X.logInAppMessageImpression=W.Cb;X.logInAppMessageClick=W.qc;X.logInAppMessageButtonClick=W.pc;X.logInAppMessageHtmlClick=W.Bb;X.subscribeToNewInAppMessages=W.tg;X.subscribeToInAppMessage=W.Ae;X.removeSubscription=W.S;X.removeAllSubscriptions=W.N;X.logCustomEvent=W.gd;X.logPurchase=W.hd;X.isPushSupported=W.Ea;X.isPushBlocked=W.Da;X.isPushGranted=W.fd;X.isPushPermissionGranted=W.Ab;X.registerAppboyPushMessages=W.$f;\nX.unregisterAppboyPushMessages=W.yg;X.trackLocation=W.wg;X.stopWebTracking=W.qg;X.resumeWebTracking=W.bg;X.wipeData=W.Bg;for(var jf in X)\"object\"===typeof appboyInterface?appboyInterface[jf]=X[jf]:ff[jf]=X[jf];var kf=\"object\"===typeof appboyInterface?appboyInterface:ff,mf=new function(a,b){var c=!1,d=!1,e=!1,f=!1,g=null,h=null,l=null;a.sg(function(k){function m(t){if(27===t.keyCode&&!e&&0<document.querySelectorAll(\".ab-modal-interactions\").length){t=document.getElementsByClassName(\"ab-html-message\");for(var r=!1,y=0;y<t.length;y++){var A=t[y].contentWindow.document.getElementsByClassName(\"ab-programmatic-close-button\")[0];null!=A&&(Db(A),r=!0);}r||(t=document.querySelectorAll(\".ab-modal-interactions > .ab-close-button\")[0],\nnull!=t&&Db(t));}}c=k.openInAppMessagesInNewTab||!1;d=k.openCardsInNewTab||k.openNewsFeedCardsInNewTab||!1;e=k.requireExplicitInAppMessageDismissal||!1;f=k.enableHtmlInAppMessages||!1;!0===k.allowUserSuppliedJavascript&&(f=!0);g=null;l=k.contentSecurityNonce||null;k.doNotLoadFontAwesome||null!==document.querySelector('link[rel=stylesheet][href=\"https://use.fontawesome.com/7f85a56ba4.css\"]')||(k=document.createElement(\"link\"),k.setAttribute(\"rel\",\"stylesheet\"),k.setAttribute(\"href\",\"https://use.fontawesome.com/7f85a56ba4.css\"),\ndocument.getElementsByTagName(\"head\")[0].appendChild(k));k=\"ab-css-definitions-\"+\"2.5.2\".replace(/\\./g,\"-\");if(null==document.getElementById(k)){var q=document.createElement(\"style\");q.innerHTML=Pc.je;q.id=k;null!=l&&q.setAttribute(\"nonce\",l);document.getElementsByTagName(\"head\")[0].appendChild(q);}e||(document.addEventListener(\"keydown\",m,!1),a.rg(function(){document.removeEventListener(\"keydown\",m);}));});return {Jf:function(){null==g&&(g=a.Ae(function(k){a.display.we(k);}));return g},we:function(k,\nm,q){if(null==k)return !1;if(k instanceof oc)return v.info(\"User received control for a multivariate test, logging to Braze servers.\"),a.Cb(k),!0;if(!(k instanceof U))return !1;var t=k instanceof zc;if(t&&!k.xg&&!f)return v.error('HTML in-app messages are disabled. Use the \"enableHtmlInAppMessages\" option for appboy.initialize to enable these messages.'),a.L(k,Kc.yd),!1;null==m&&(m=document.body);if(k.Za()&&0<m.querySelectorAll(\".ab-modal-interactions\").length)return v.info(\"Cannot show in-app message '\"+\nk.message+\"' because another message is being shown.\"),a.L(k,Kc.Fe),!1;if(Lb.Xf()){var r=Lb.Sf();if(r===Lb.Ma.Sb&&k.orientation===Hc.LANDSCAPE||r===Lb.Ma.Cc&&k.orientation===Hc.PORTRAIT)return v.info(\"Not showing \"+(k.orientation===Hc.PORTRAIT?\"portrait\":\"landscape\")+\" in-app message '\"+k.message+\"' because the screen is currently \"+(r===Lb.Ma.Sb?\"portrait\":\"landscape\")),a.L(k,Kc.mf),!1}if(!f){r=!1;if(k.buttons&&0<k.buttons.length)for(var y=k.buttons,A=0;A<y.length;A++)y[A].clickAction===ec.URI&&\n(r=Rc(y[A].uri));else k.clickAction===ec.URI&&(r=Rc(k.uri));if(r)return v.error('Javascript click actions are disabled. Use the \"allowUserSuppliedJavascript\" option for appboy.initialize to enable these actions.'),a.L(k,Kc.yd),!1}var z=document.createElement(\"div\");z.className=\"ab-iam-root v3\";z.className+=k.ma();kc(k)&&(z.id=k.htmlId);m.appendChild(z);lc(k)&&(m=document.createElement(\"style\"),m.innerHTML=k.css,m.id=mc(k),null!=l&&m.setAttribute(\"nonce\",l),document.getElementsByTagName(\"head\")[0].appendChild(m));\nvar F=k instanceof wc;m=k.Y(a,b,function(){a.display.rd();},function(G){if(k.Za()&&k.Ce()){var E=document.createElement(\"div\");E.className=\"ab-page-blocker\";lc(k)||(E.style.backgroundColor=bc(k.frameColor));z.appendChild(E);if(!e){var K=(new Date).valueOf();E.onclick=function(Y){200<(new Date).valueOf()-K&&(Fc(k,G),Y.stopPropagation());};}z.appendChild(G);G.focus();k.rc(z);}else if(F){var N=document.querySelectorAll(\".ab-slideup\");E=null;for(var L=N.length-1;0<=L;L--)if(N[L]!==G){E=N[L];break}k.slideFrom===\ndc.TOP?(N=0,null!=E&&(N=E.offsetTop+E.offsetHeight),G.style.top=Math.max(N,0)+\"px\"):(N=0,null!=E&&(N=(window.innerHeight||document.documentElement.clientHeight)-E.offsetTop),G.style.bottom=Math.max(N,0)+\"px\");}else t&&!e&&G.contentWindow.addEventListener(\"keydown\",function(Y){27===Y.keyCode&&k.ge();});a.Cb(k);k.dismissType===gc.AUTO_DISMISS&&setTimeout(function(){z.contains(G)&&Fc(k,G);},k.duration);\"function\"===typeof q&&q();},c);if(t||F)z.appendChild(m),k.rc(z);return !0},rd:function(k,m,q){function t(E){for(var K=\nE.querySelectorAll(\".ab-feed\"),N=null,L=0;L<K.length;L++)K[L].parentNode===E&&(N=K[L]);null!=N?(Wc(a,N),N.parentNode.replaceChild(F,N)):E.appendChild(F);setTimeout(function(){F.className=F.className.replace(\"ab-hide\",\"ab-show\");},0);y&&F.focus();a.re();$c(z,a,F);}function r(E,K){if(null==K)return E;for(var N=[],L=0;L<K.length;L++)N.push(K[L].toLowerCase());K=[];for(L=0;L<E.length;L++){for(var Y=[],ea=0;ea<E[L].categories.length;ea++)Y.push(E[L].categories[ea].toLowerCase());0<Ca(Y,N).length&&K.push(E[L]);}return K}\nvar y=!1;null==k&&(k=document.body,y=!0);var A=!1,z=null;null==m?(z=a.lc(),dd(z,r(z.cards,q),z.lastUpdated,null,a,d),A=!0):z=new Vc(r(m,q),new Date);var F=z.Y(a,d);if(A){if(null==z.lastUpdated||6E4<(new Date).valueOf()-z.lastUpdated.valueOf())v.info(\"Cached feed was older than max TTL of 60000 ms, requesting an update from the server.\"),ad(z,a,F);var G=(new Date).valueOf();m=a.ze(function(E){var K=F.querySelectorAll(\".ab-refresh-button\")[0];if(null!=K){var N=500,L=parseInt(F.getAttribute(bd));N=isNaN(L)?\nN-((new Date).valueOf()-G):N-((new Date).valueOf()-L);setTimeout(function(){K.className=K.className.replace(/fa-spin/g,\"\");},Math.max(N,0));}dd(z,r(E.cards,q),E.lastUpdated,F,a,d);});F.setAttribute(Xc,m);}null!=k?t(k):window.onload=function(E){return function(){\"function\"===typeof E&&E();t(document.body);}}(window.onload);},ke:function(){for(var k=document.querySelectorAll(\".ab-feed\"),m=0;m<k.length;m++)Wc(a,k[m]);},vg:function(k,m,q){0<document.querySelectorAll(\".ab-feed\").length?a.display.ke():a.display.rd(k,\nm,q);},ve:function(k,m){function q(F){for(var G=F.querySelectorAll(\".ab-feed\"),E=null,K=0;K<G.length;K++)G[K].parentNode===F&&(E=G[K]);null!=E?(Wc(a,E),E.parentNode.replaceChild(y,E)):F.appendChild(y);setTimeout(function(){y.className=y.className.replace(\"ab-hide\",\"ab-show\");},0);t&&y.focus();a.qe();$c(r,a,y);}var t=!1;null==k&&(k=document.body,t=!0);var r=null;r=a.lb();\"function\"===typeof m&&dd(r,m(r.cards.slice()),r.lastUpdated,null,a,d);var y=r.Y(a,d);(null==r.lastUpdated||6E4<(new Date).valueOf()-\nr.lastUpdated.valueOf())&&(null==h||6E4<(new Date).valueOf()-h.valueOf())&&(v.info(\"Cached content cards were older than max TTL of 60000 ms, requesting a sync from the server.\"),ad(r,a,y),h=(new Date).valueOf());var A=(new Date).valueOf(),z=a.xe(function(F){var G=y.querySelectorAll(\".ab-refresh-button\")[0];if(null!=G){var E=500,K=parseInt(y.getAttribute(bd));E=isNaN(K)?E-((new Date).valueOf()-A):E-((new Date).valueOf()-K);setTimeout(function(){G.className=G.className.replace(/fa-spin/g,\"\");},Math.max(E,\n0));}E=F.cards;\"function\"===typeof m&&(E=m(E.slice()));dd(r,E,F.lastUpdated,y,a,d);});y.setAttribute(Xc,z);null!=k?q(k):window.onload=function(F){return function(){\"function\"===typeof F&&F();q(document.body);}}(window.onload);},pe:function(){for(var k=document.querySelectorAll(\".ab-feed\"),m=0;m<k.length;m++)Wc(a,k[m]);},ug:function(k,m){0<document.querySelectorAll(\".ab-feed\").length?a.display.pe():a.display.ve(k,m);}}}(W,kf);kf.display={};kf.display.automaticallyShowNewInAppMessages=mf.Jf;\nkf.display.showInAppMessage=mf.we;kf.display.showFeed=mf.rd;kf.display.destroyFeed=mf.ke;kf.display.toggleFeed=mf.vg;kf.display.showContentCards=mf.ve;kf.display.hideContentCards=mf.pe;kf.display.toggleContentCards=mf.ug;W.display=mf;return appboyInterface});var a=window.appboyQueue||(\"undefined\"!==typeof appboyQueue?appboyQueue:null);\nif(\"undefined\"!==typeof a&&a&&a.length&&0<a.length){var b=a===window.appboyQueue;window.appboyQueue=appboyQueue=null;for(var c=0;c<a.length;c++)if(a[c].callee){var d=a[c].callee.name;if(null==d||\"\"===d)d=/^function ([\\w]*)\\(/g.exec(a[c].callee.toString())[1];if(null!=d&&\"\"!==d){for(var e=d.split(\"_\"),f=b?window.appboy:appboy,g=this,h=\"appboy\",k=0;k<e.length;k++){if(\"prototype\"===e[k]){var l=eval({\"appboy.ab.User\":\"appboy.getUser\",\"appboy.ab.Feed\":\"appboy.getCachedFeed\",\"appboy.ab.ContentCards\":\"appboy.getCachedContentCards\"}[h]);\ng=f=null!=l?l.apply():new f.constructor;}else f=f[e[k]];h+=\".\"+e[k];}null!=f&&\"function\"===typeof f&&f.apply(g,a[c]);}}}}).call(window);\n});\n\n/* eslint-disable no-undef */\nwindow.appboy = appboy_min;\n//  Copyright 2015 mParticle, Inc.\n//\n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\n\nvar name = 'Appboy',\n    moduleId = 28,\n    version = '2.0.11',\n    MessageType = {\n        PageView: 3,\n        PageEvent: 4,\n        Commerce: 16,\n    };\n\nvar clusterMapping = {\n    '01': 'sdk.iad-01.braze.com',\n    '02': 'sdk.iad-02.braze.com',\n    '03': 'sdk.iad-03.braze.com',\n    '04': 'sdk.iad-04.braze.com',\n    '05': 'sdk.iad-05.braze.com',\n    '06': 'sdk.iad-06.braze.com',\n    '08': 'sdk.iad-08.braze.com',\n    EU: 'sdk.fra-01.braze.eu',\n    EU02: 'sdk.fra-02.braze.eu'\n};\n\nvar constructor = function() {\n    var self = this,\n        forwarderSettings,\n        options = {},\n        reportingService,\n        mpCustomFlags;\n\n    self.name = name;\n\n    var DefaultAttributeMethods = {\n        $LastName: 'setLastName',\n        $FirstName: 'setFirstName',\n        Email: 'setEmail',\n        $Gender: 'setGender',\n        $Country: 'setCountry',\n        $City: 'setHomeCity',\n        $Mobile: 'setPhoneNumber',\n        $Age: 'setDateOfBirth',\n        last_name: 'setLastName',\n        first_name: 'setFirstName',\n        email: 'setEmail',\n        gender: 'setGender',\n        country: 'setCountry',\n        home_city: 'setHomeCity',\n        email_subscribe: 'setEmailNotificationSubscriptionType',\n        push_subscribe: 'setPushNotificationSubscriptionType',\n        phone: 'setPhoneNumber',\n        image_url: 'setAvatarImageUrl',\n        dob: 'setDateOfBirth',\n    };\n\n    function logPurchaseEvent(event) {\n        var reportEvent = false;\n        if (event.ProductAction.ProductList) {\n            event.ProductAction.ProductList.forEach(function(product) {\n                if (product.Attributes == null) {\n                    product.Attributes = {};\n                }\n                product.Attributes['Sku'] = product.Sku;\n\n                var sanitizedProductName;\n                if (forwarderSettings.forwardSkuAsProductName === 'True') {\n                    sanitizedProductName = getSanitizedValueForAppboy(\n                        String(product.Sku)\n                    );\n                } else {\n                    sanitizedProductName = getSanitizedValueForAppboy(\n                        String(product.Name)\n                    );\n                }\n\n                var sanitizedProperties = getSanitizedCustomProperties(\n                    product.Attributes\n                );\n\n                if (sanitizedProperties == null) {\n                    return (\n                        'Properties did not pass validation for ' +\n                        sanitizedProductName\n                    );\n                }\n\n                reportEvent = appboy.logPurchase(\n                    sanitizedProductName,\n                    parseFloat(product.Price),\n                    event.CurrencyCode,\n                    product.Quantity,\n                    sanitizedProperties\n                );\n            });\n        }\n        return reportEvent === true;\n    }\n\n    function logAppboyPageViewEvent(event) {\n        var sanitizedEventName,\n            sanitizedAttrs,\n            eventName,\n            attrs = event.EventAttributes || {};\n\n        attrs.hostname = window.location.hostname;\n        attrs.title = window.document.title;\n\n        if (forwarderSettings.setEventNameForPageView === 'True') {\n            eventName = event.EventName;\n        } else {\n            eventName = window.location.pathname;\n        }\n        sanitizedEventName = getSanitizedValueForAppboy(eventName);\n        sanitizedAttrs = getSanitizedCustomProperties(attrs);\n        var reportEvent = appboy.logCustomEvent(\n            sanitizedEventName,\n            sanitizedAttrs\n        );\n        return reportEvent === true;\n    }\n\n    function setDefaultAttribute(key, value) {\n        if (key === 'dob') {\n            if (!(value instanceof Date)) {\n                return (\n                    \"Can't call removeUserAttribute or setUserAttribute on forwarder \" +\n                    name +\n                    \", removeUserAttribute or setUserAttribute must set 'dob' to a date\"\n                );\n            } else {\n                appboy\n                    .getUser()\n                    .setDateOfBirth(\n                        value.getFullYear(),\n                        value.getMonth() + 1,\n                        value.getDate()\n                    );\n            }\n        } else if (key === '$Age') {\n            if (typeof value === 'number') {\n                var year = new Date().getFullYear() - value;\n                appboy.getUser().setDateOfBirth(year, 1, 1);\n            } else {\n                return '$Age must be a number';\n            }\n        } else {\n            if (value == null) {\n                value = '';\n            }\n            if (!(typeof value === 'string')) {\n                return (\n                    \"Can't call removeUserAttribute or setUserAttribute on forwarder \" +\n                    name +\n                    ', removeUserAttribute or setUserAttribute must set this value to a string'\n                );\n            }\n            var params = [];\n            params.push(value);\n            var u = appboy.getUser();\n            //This method uses the setLastName, setFirstName, setEmail, setCountry, setHomeCity, setPhoneNumber, setAvatarImageUrl, setDateOfBirth, setGender, setEmailNotificationSubscriptionType, and setPushNotificationSubscriptionType methods\n            if (!u[DefaultAttributeMethods[key]].apply(u, params)) {\n                return (\n                    'removeUserAttribute or setUserAttribute on forwarder ' +\n                    name +\n                    ' failed to call, an invalid attribute value was passed in'\n                );\n            }\n        }\n    }\n\n    function logAppboyEvent(event) {\n        var sanitizedEventName = getSanitizedValueForAppboy(event.EventName);\n        var sanitizedProperties = getSanitizedCustomProperties(\n            event.EventAttributes\n        );\n\n        if (sanitizedProperties == null) {\n            return (\n                'Properties did not pass validation for ' + sanitizedEventName\n            );\n        }\n\n        var reportEvent = appboy.logCustomEvent(\n            sanitizedEventName,\n            sanitizedProperties\n        );\n        return reportEvent === true;\n    }\n\n    /**************************/\n    /** Begin mParticle API **/\n    /**************************/\n    function processEvent(event) {\n        var reportEvent = false;\n\n        if (\n            event.EventDataType == MessageType.Commerce &&\n            event.EventCategory == mParticle.CommerceEventType.ProductPurchase\n        ) {\n            reportEvent = logPurchaseEvent(event);\n        } else if (event.EventDataType == MessageType.Commerce) {\n            var listOfPageEvents = mParticle.eCommerce.expandCommerceEvent(\n                event\n            );\n            if (listOfPageEvents != null) {\n                for (var i = 0; i < listOfPageEvents.length; i++) {\n                    // finalLoopResult keeps track of if any logAppBoyEvent in this loop returns true or not\n                    var finalLoopResult = false;\n                    try {\n                        reportEvent = logAppboyEvent(listOfPageEvents[i]);\n                        if (reportEvent === true) {\n                            finalLoopResult = true;\n                        }\n                    } catch (err) {\n                        return 'Error logging page event' + err.message;\n                    }\n                }\n                reportEvent = finalLoopResult === true;\n            }\n        } else if (event.EventDataType == MessageType.PageEvent) {\n            reportEvent = logAppboyEvent(event);\n        } else if (event.EventDataType == MessageType.PageView) {\n            if (forwarderSettings.forwardScreenViews == 'True') {\n                reportEvent = logAppboyPageViewEvent(event);\n            }\n        } else {\n            return (\n                \"Can't send event type to forwarder \" +\n                name +\n                ', event type is not supported'\n            );\n        }\n\n        if (reportEvent === true && reportingService) {\n            reportingService(self, event);\n        }\n    }\n\n    function removeUserAttribute(key) {\n        if (!(key in DefaultAttributeMethods)) {\n            var sanitizedKey = getSanitizedValueForAppboy(key);\n            appboy.getUser().setCustomUserAttribute(sanitizedKey, null);\n        } else {\n            return setDefaultAttribute(key, null);\n        }\n    }\n\n    function setUserAttribute(key, value) {\n        if (!(key in DefaultAttributeMethods)) {\n            var sanitizedKey = getSanitizedValueForAppboy(key);\n            var sanitizedValue = getSanitizedValueForAppboy(value);\n            if (value != null && sanitizedValue == null) {\n                return 'Value did not pass validation for ' + key;\n            }\n            appboy\n                .getUser()\n                .setCustomUserAttribute(sanitizedKey, sanitizedValue);\n        } else {\n            return setDefaultAttribute(key, value);\n        }\n    }\n\n    function setUserIdentity(id, type) {\n        // Only use this method when mParicle core SDK is version 1\n        // Other versions use onUserIdentified, which is called after setUserIdentity from core SDK\n        if (window.mParticle.getVersion().split('.')[0] === '1') {\n            if (type == window.mParticle.IdentityType.CustomerId) {\n                appboy.changeUser(id);\n            } else if (type == window.mParticle.IdentityType.Email) {\n                appboy.getUser().setEmail(id);\n            } else {\n                return (\n                    \"Can't call setUserIdentity on forwarder \" +\n                    name +\n                    ', identity type not supported.'\n                );\n            }\n        }\n    }\n\n    // onUserIdentified is not used in version 1 so there is no need to check for version number\n    function onUserIdentified(user) {\n        var appboyUserIDType,\n            userIdentities = user.getUserIdentities().userIdentities;\n\n        if (forwarderSettings.userIdentificationType === 'MPID') {\n            appboyUserIDType = user.getMPID();\n        } else {\n            appboyUserIDType =\n                userIdentities[\n                    forwarderSettings.userIdentificationType.toLowerCase()\n                ];\n        }\n\n        appboy.changeUser(appboyUserIDType);\n\n        if (userIdentities.email) {\n            appboy.getUser().setEmail(userIdentities.email);\n        }\n    }\n\n    function primeAppBoyWebPush() {\n        appboy.subscribeToNewInAppMessages(function(inAppMessages) {\n            var message = inAppMessages[0];\n            var pushPrimer = false;\n            if (message != null) {\n                var shouldDisplay = true;\n\n                if (message instanceof appboy.ab.InAppMessage) {\n                    // Read the key-value pair for msg-id\n                    var msgId = message.extras['msg-id'];\n\n                    // If this is our push primer message\n                    if (msgId == 'push-primer') {\n                        pushPrimer = true;\n                        // We don't want to display the soft push prompt to users on browsers that don't support push, or if the user\n                        // has already granted/blocked permission\n                        if (\n                            !appboy.isPushSupported() ||\n                            appboy.isPushPermissionGranted() ||\n                            appboy.isPushBlocked()\n                        ) {\n                            shouldDisplay = false;\n                        }\n                        if (message.buttons[0] != null) {\n                            // Prompt the user when the first button is clicked\n                            message.buttons[0].subscribeToClickedEvent(\n                                function() {\n                                    appboy.registerAppboyPushMessages();\n                                }\n                            );\n                        }\n                    }\n                }\n\n                // Display the message if it's a push primer message and shouldDisplay is true\n                if (\n                    (pushPrimer && shouldDisplay) ||\n                    (!pushPrimer && forwarderSettings.register_inapp === 'True')\n                ) {\n                    appboy.display.showInAppMessage(message);\n                }\n            }\n\n            // Remove this message from the array of IAMs and return whatever's left\n            return inAppMessages.slice(1);\n        });\n    }\n\n    function openSession(forwarderSettings) {\n        appboy.openSession(function() {\n            if (forwarderSettings.softPushCustomEventName) {\n                appboy.logCustomEvent(\n                    forwarderSettings.softPushCustomEventName\n                );\n            }\n        });\n    }\n\n    function initForwarder(\n        settings,\n        service,\n        testMode,\n        trackerId,\n        userAttributes,\n        userIdentities,\n        appVersion,\n        appName,\n        customFlags\n    ) {\n        console.warn(\n            'mParticle is upgrading the Braze web kit that you are currently using on 6/14/2022.  You will automatically receive this update if implementing mParticle via snippet/CDN.  There may be breaking changes if you invoke deprecated Braze SDK methods. Please see https://docs.mparticle.com/integrations/braze/event for more information.'\n        );\n        // eslint-disable-line no-unused-vars\n        mpCustomFlags = customFlags;\n        try {\n            forwarderSettings = settings;\n            reportingService = service;\n            // 30 min is Appboy default\n            options.sessionTimeoutInSeconds =\n                forwarderSettings.ABKSessionTimeoutKey || 1800;\n            options.sdkFlavor = 'mparticle';\n            options.enableHtmlInAppMessages =\n                forwarderSettings.enableHtmlInAppMessages == 'True';\n            options.doNotLoadFontAwesome =\n                forwarderSettings.doNotLoadFontAwesome == 'True';\n\n            if (forwarderSettings.safariWebsitePushId) {\n                options.safariWebsitePushId =\n                    forwarderSettings.safariWebsitePushId;\n            }\n\n            if (forwarderSettings.serviceWorkerLocation) {\n                options.serviceWorkerLocation =\n                    forwarderSettings.serviceWorkerLocation;\n            }\n\n            var cluster =\n                forwarderSettings.cluster ||\n                forwarderSettings.dataCenterLocation;\n\n            if (clusterMapping.hasOwnProperty(cluster)) {\n                options.baseUrl = clusterMapping[cluster];\n            } else {\n                var customUrl = decodeClusterSetting(cluster);\n                if (customUrl) {\n                    options.baseUrl = customUrl;\n                }\n            }\n\n            if (mpCustomFlags && mpCustomFlags[moduleId.toString()]) {\n                var brazeFlags = mpCustomFlags[moduleId.toString()];\n\n                if (typeof brazeFlags.initOptions === 'function') {\n                    brazeFlags.initOptions(options);\n                }\n            }\n\n            if (testMode !== true) {\n                /* eslint-disable */\n                appboy.initialize(forwarderSettings.apiKey, options);\n\n                primeAppBoyWebPush();\n                openSession(forwarderSettings);\n\n                /* eslint-enable */\n            } else {\n                if (!appboy.initialize(forwarderSettings.apiKey, options)) {\n                    return 'Failed to initialize: ' + name;\n                }\n\n                primeAppBoyWebPush();\n                openSession(forwarderSettings);\n            }\n            return 'Successfully initialized: ' + name;\n        } catch (e) {\n            return (\n                'Failed to initialize: ' + name + ' with error: ' + e.message\n            );\n        }\n    }\n    /**************************/\n    /** End mParticle API **/\n    /**************************/\n\n    function decodeClusterSetting(clusterSetting) {\n        if (clusterSetting) {\n            var decodedSetting = clusterSetting.replace(/&amp;/g, '&');\n            decodedSetting = clusterSetting.replace(/&quot;/g, '\"');\n            try {\n                var clusterSettingObject = JSON.parse(decodedSetting);\n                if (clusterSettingObject && clusterSettingObject.JS) {\n                    return 'https://' + clusterSettingObject.JS + '/api/v3';\n                }\n            } catch (e) {\n                console.log(\n                    'Unable to configure custom Appboy cluster: ' + e.toString()\n                );\n            }\n        }\n    }\n\n    function getSanitizedStringForAppboy(value) {\n        if (typeof value === 'string') {\n            if (value.substr(0, 1) === '$') {\n                return value.replace(/^\\$+/g, '');\n            } else {\n                return value;\n            }\n        }\n        return null;\n    }\n\n    function getSanitizedValueForAppboy(value) {\n        if (typeof value === 'string') {\n            return getSanitizedStringForAppboy(value);\n        }\n\n        if (Array.isArray(value)) {\n            var sanitizedArray = [];\n            for (var i in value) {\n                var element = value[i];\n                var sanitizedElement = getSanitizedStringForAppboy(element);\n                if (sanitizedElement == null) {\n                    return null;\n                }\n                sanitizedArray.push(sanitizedElement);\n            }\n            return sanitizedArray;\n        }\n        return value;\n    }\n\n    function getSanitizedCustomProperties(customProperties) {\n        var sanitizedProperties = {},\n            value,\n            sanitizedPropertyName,\n            sanitizedValue;\n\n        if (customProperties == null) {\n            customProperties = {};\n        }\n\n        if (typeof customProperties !== 'object') {\n            return null;\n        }\n\n        for (var propertyName in customProperties) {\n            value = customProperties[propertyName];\n            sanitizedPropertyName = getSanitizedValueForAppboy(propertyName);\n            sanitizedValue =\n                typeof value === 'string'\n                    ? getSanitizedValueForAppboy(value)\n                    : value;\n            sanitizedProperties[sanitizedPropertyName] = sanitizedValue;\n        }\n        return sanitizedProperties;\n    }\n\n    this.init = initForwarder;\n    this.process = processEvent;\n    this.setUserIdentity = setUserIdentity;\n    this.setUserAttribute = setUserAttribute;\n    this.onUserIdentified = onUserIdentified;\n    this.removeUserAttribute = removeUserAttribute;\n    this.decodeClusterSetting = decodeClusterSetting;\n};\n\nfunction getId() {\n    return moduleId;\n}\n\nfunction register(config) {\n    if (!config) {\n        window.console.log(\n            'You must pass a config object to register the kit ' + name\n        );\n        return;\n    }\n\n    if (!isObject(config)) {\n        window.console.log(\n            \"'config' must be an object. You passed in a \" + typeof config\n        );\n        return;\n    }\n\n    if (isObject(config.kits)) {\n        config.kits[name] = {\n            constructor: constructor,\n        };\n    } else {\n        config.kits = {};\n        config.kits[name] = {\n            constructor: constructor,\n        };\n    }\n    window.console.log(\n        'Successfully registered ' + name + ' to your mParticle configuration'\n    );\n}\n\nif (window && window.mParticle && window.mParticle.addForwarder) {\n    window.mParticle.addForwarder({\n        name: name,\n        constructor: constructor,\n        getId: getId,\n    });\n}\n\nfunction isObject(val) {\n    return (\n        val != null && typeof val === 'object' && Array.isArray(val) === false\n    );\n}\n\nvar AppboyKitDev = {\n    register: register,\n    getVersion: function() {\n        return version;\n    },\n};\nvar AppboyKitDev_1 = AppboyKitDev.register;\nvar AppboyKitDev_2 = AppboyKitDev.getVersion;\n\nexports.default = AppboyKitDev;\nexports.getVersion = AppboyKitDev_2;\nexports.register = AppboyKitDev_1;\n","'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n// This will live in a declaration file in core sdk\n// once we set that up.\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"PageEvent\"] = 4] = \"PageEvent\";\n    MessageType[MessageType[\"Media\"] = 20] = \"Media\";\n})(MessageType || (MessageType = {}));\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"Media\"] = 9] = \"Media\";\n})(EventType || (EventType = {}));\nvar MediaEventType;\n(function (MediaEventType) {\n    MediaEventType[MediaEventType[\"Play\"] = 23] = \"Play\";\n    MediaEventType[MediaEventType[\"Pause\"] = 24] = \"Pause\";\n    MediaEventType[MediaEventType[\"ContentEnd\"] = 25] = \"ContentEnd\";\n    MediaEventType[MediaEventType[\"SessionStart\"] = 30] = \"SessionStart\";\n    MediaEventType[MediaEventType[\"SessionEnd\"] = 31] = \"SessionEnd\";\n    MediaEventType[MediaEventType[\"SeekStart\"] = 32] = \"SeekStart\";\n    MediaEventType[MediaEventType[\"SeekEnd\"] = 33] = \"SeekEnd\";\n    MediaEventType[MediaEventType[\"BufferStart\"] = 34] = \"BufferStart\";\n    MediaEventType[MediaEventType[\"BufferEnd\"] = 35] = \"BufferEnd\";\n    MediaEventType[MediaEventType[\"UpdatePlayheadPosition\"] = 36] = \"UpdatePlayheadPosition\";\n    MediaEventType[MediaEventType[\"AdClick\"] = 37] = \"AdClick\";\n    MediaEventType[MediaEventType[\"AdBreakStart\"] = 38] = \"AdBreakStart\";\n    MediaEventType[MediaEventType[\"AdBreakEnd\"] = 39] = \"AdBreakEnd\";\n    MediaEventType[MediaEventType[\"AdStart\"] = 40] = \"AdStart\";\n    MediaEventType[MediaEventType[\"AdEnd\"] = 41] = \"AdEnd\";\n    MediaEventType[MediaEventType[\"AdSkip\"] = 42] = \"AdSkip\";\n    MediaEventType[MediaEventType[\"SegmentStart\"] = 43] = \"SegmentStart\";\n    MediaEventType[MediaEventType[\"SegmentEnd\"] = 44] = \"SegmentEnd\";\n    MediaEventType[MediaEventType[\"SegmentSkip\"] = 45] = \"SegmentSkip\";\n    MediaEventType[MediaEventType[\"UpdateQoS\"] = 46] = \"UpdateQoS\";\n    MediaEventType[MediaEventType[\"SessionSummary\"] = 47] = \"SessionSummary\";\n    MediaEventType[MediaEventType[\"SegmentSummary\"] = 48] = \"SegmentSummary\";\n    MediaEventType[MediaEventType[\"AdSummary\"] = 49] = \"AdSummary\";\n})(MediaEventType || (MediaEventType = {}));\nvar MediaEventName = {\n    Play: 'Play',\n    Pause: 'Pause',\n    ContentEnd: 'Media Content End',\n    SessionStart: 'Media Session Start',\n    SessionEnd: 'Media Session End',\n    SeekStart: 'Seek Start',\n    SeekEnd: 'Seek End',\n    BufferStart: 'Buffer Start',\n    BufferEnd: 'Buffer End',\n    UpdatePlayheadPosition: 'Update Playhead Position',\n    AdClick: 'Ad Click',\n    AdBreakStart: 'Ad Break Start',\n    AdBreakEnd: 'Ad Break End',\n    AdStart: 'Ad Start',\n    AdEnd: 'Ad End',\n    AdSkip: 'Ad Skip',\n    SegmentStart: 'Segment Start',\n    SegmentEnd: 'Segment End',\n    SegmentSkip: 'Segment Skip',\n    UpdateQoS: 'Update QoS',\n    SessionSummary: 'Media Session Summary',\n    SegmentSummary: 'Media Segment Summary',\n    AdSummary: 'Media Ad Summary',\n};\nvar MediaContentType;\n(function (MediaContentType) {\n    MediaContentType[\"Video\"] = \"Video\";\n    MediaContentType[\"Audio\"] = \"Audio\";\n})(MediaContentType || (MediaContentType = {}));\nvar MediaStreamType;\n(function (MediaStreamType) {\n    MediaStreamType[\"LiveStream\"] = \"LiveStream\";\n    MediaStreamType[\"OnDemand\"] = \"OnDemand\";\n    MediaStreamType[\"Linear\"] = \"Linear\";\n    MediaStreamType[\"Podcast\"] = \"Podcast\";\n    MediaStreamType[\"Audiobook\"] = \"Audiobook\";\n})(MediaStreamType || (MediaStreamType = {}));\nvar ValidMediaAttributeKeys = {\n    mediaSessionId: 'media_session_id',\n    playheadPosition: 'playhead_position',\n    id: 'id',\n    //MediaConent\n    contentTitle: 'content_title',\n    contentId: 'content_id',\n    duration: 'content_duration',\n    streamType: 'stream_type',\n    contentType: 'content_type',\n    //Seek\n    seekPosition: 'seek_position',\n    //Buffer\n    bufferDuration: 'buffer_duration',\n    bufferPercent: 'buffer_percent',\n    bufferPosition: 'buffer_position',\n    //QoS\n    qosBitrate: 'qos_bitrate',\n    qosFramesPerSecond: 'qos_fps',\n    qosStartupTime: 'qos_startup_time',\n    qosDroppedFrames: 'qos_dropped_frames',\n    //MediaAd\n    adTitle: 'ad_content_title',\n    adDuration: 'ad_content_duration',\n    adId: 'ad_content_id',\n    adAdvertiserId: 'ad_content_advertiser',\n    adCampaign: 'ad_content_campaign',\n    adCreative: 'ad_content_creative',\n    adPlacement: 'ad_content_placement',\n    adPosition: 'ad_content_position',\n    adSiteId: 'ad_content_site_id',\n    //MediaAdBreak\n    adBreakTitle: 'ad_break_title',\n    adBreakDuration: 'ad_break_duration',\n    adBreakPlaybackTime: 'ad_break_playback_time',\n    adBreakId: 'ad_break_id',\n    //Segment\n    segmentTitle: 'segment_title',\n    segmentIndex: 'segment_index',\n    segmentDuration: 'segment_duration',\n    // Session Summary Attributes\n    mediaSessionIdKey: 'media_session_id',\n    startTimestampKey: 'media_session_start_time',\n    endTimestampKey: 'media_session_end_time',\n    contentIdKey: 'content_id',\n    contentTitleKey: 'content_title',\n    mediaTimeSpentKey: 'media_time_spent',\n    contentTimeSpentKey: 'media_content_time_spent',\n    contentCompleteKey: 'media_content_complete',\n    totalSegmentsKey: 'media_session_segment_total',\n    totalAdTimeSpentKey: 'media_total_ad_time_spent',\n    adTimeSpentRateKey: 'media_ad_time_spent_rate',\n    totalAdsKey: 'media_session_ad_total',\n    adIDsKey: 'media_session_ad_objects',\n    // Ad Summary Attributes\n    adBreakIdKey: 'ad_break_id',\n    adContentIdKey: 'ad_content_id',\n    adContentStartTimestampKey: 'ad_content_start_time',\n    adContentEndTimestampKey: 'ad_content_end_time',\n    adContentTitleKey: 'ad_content_title',\n    adContentSkippedKey: 'ad_skipped',\n    adContentCompletedKey: 'ad_completed',\n    // Segment Summary Attributes\n    segmentIndexKey: 'segment_index',\n    segmentTitleKey: 'segment_title',\n    segmentStartTimestampKey: 'segment_start_time',\n    segmentEndTimestampKey: 'segment_end_time',\n    segmentTimeSpentKey: 'media_segment_time_spent',\n    segmentSkippedKey: 'segment_skipped',\n    segmentCompletedKey: 'segment_completed',\n};\n\nvar uuid = function () {\n    // Thanks to StackOverflow user Briguy37\n    // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\nvar getNameFromType = function (type) {\n    return MediaEventName[MediaEventType[type]];\n};\n\n/**\n * Represents a Base event for mParticle Core\n */\nvar BaseEvent = /** @class */ (function () {\n    /**\n     *\n     * @param name The name of the event\n     * @param eventType an Event Type that corresponds to [EventType](https://github.com/mParticle/mparticle-web-sdk/blob/master/src/types.js) in Core SDK\n     * @param messageType A message type that corresponds to MessageType\n     */\n    function BaseEvent(name, eventType, messageType) {\n        this.name = name;\n        this.eventType = eventType;\n        this.messageType = messageType;\n    }\n    return BaseEvent;\n}());\n/**\n * Represents a single media event. Generally you won't call this class directly. The Media SDK calls this class internally when you invoke methods on [[MediaSession]].\n *\n * ## Custom Attributes\n * By default, a `MediaEvent` will have certain required attributes,\n * such as `custom_media_id` and `custom_media_title`, etc. However,\n * if you need to log something custom, such as `content_season_number`\n * or `player_name`, this can be included in the `customAttributes` object .\n *\n * These `customAttributes` are attributes unique to the media event\n * but can be passed through the `MediaSession` via the various log\n * functions as an `options` parameter.\n */\nvar MediaEvent = /** @class */ (function (_super) {\n    __extends(MediaEvent, _super);\n    /**\n     * Constructor for Media Event\n     * @param type Type of action being performed, i.e. play, pause, seek, etc.\n     * @param contentTitle Title of the Media Content\n     * @param contentId Unique Identifier for the Media Content\n     * @param duration Length of time for the Media Content\n     * @param contentType Content Type. i.e. video vs audio\n     * @param streamType Stream Type i.e. live vs on demand\n     * @param mediaSessionID Session ID from media Session\n     * @param customAttributes A dictionary of custom attributes\n     * @returns An instance of a Media Event\n     */\n    function MediaEvent(eventType, contentTitle, contentId, duration, contentType, streamType, mediaSessionID, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, getNameFromType(eventType), eventType, MessageType.Media) || this;\n        _this.eventType = eventType;\n        _this.contentTitle = contentTitle;\n        _this.contentId = contentId;\n        _this.duration = duration;\n        _this.contentType = contentType;\n        _this.streamType = streamType;\n        _this.mediaSessionID = mediaSessionID;\n        _this.options = options;\n        _this.id = uuid();\n        /**\n         * @hidden Returns custom attributes\n         */\n        _this.getCustomAttributes = function () {\n            return _this.options.customAttributes;\n        };\n        /**\n         * @hidden Returns session related event attributes\n         */\n        _this.getSessionAttributes = function () {\n            var sessionAttributes = {\n                content_title: _this.contentTitle,\n                content_duration: _this.duration,\n                content_id: _this.contentId,\n                content_type: MediaContentType[_this.contentType],\n                stream_type: MediaStreamType[_this.streamType],\n                media_session_id: _this.mediaSessionID,\n            };\n            if (typeof _this.playheadPosition === 'number') {\n                sessionAttributes[ValidMediaAttributeKeys.playheadPosition] = _this.playheadPosition;\n            }\n            return sessionAttributes;\n        };\n        /**\n         * @hidden Representation of the Media Event as a Custom Event\n         */\n        _this.getEventAttributes = function () {\n            var eventAttributes = {};\n            if (_this.seekPosition) {\n                eventAttributes[ValidMediaAttributeKeys.seekPosition] = _this.seekPosition;\n            }\n            if (_this.bufferDuration) {\n                eventAttributes[ValidMediaAttributeKeys.bufferDuration] = _this.bufferDuration;\n            }\n            if (_this.bufferPercent) {\n                eventAttributes[ValidMediaAttributeKeys.bufferPercent] = _this.bufferPercent;\n            }\n            if (_this.bufferPosition) {\n                eventAttributes[ValidMediaAttributeKeys.bufferPosition] = _this.bufferPosition;\n            }\n            // QoS\n            if (_this.qos) {\n                if (typeof _this.qos.bitRate === 'number') {\n                    eventAttributes[ValidMediaAttributeKeys.qosBitrate] = _this.qos.bitRate;\n                }\n                if (typeof _this.qos.fps === 'number') {\n                    eventAttributes[ValidMediaAttributeKeys.qosFramesPerSecond] = _this.qos.fps;\n                }\n                if (typeof _this.qos.startupTime === 'number') {\n                    eventAttributes[ValidMediaAttributeKeys.qosStartupTime] = _this.qos.startupTime;\n                }\n                if (typeof _this.qos.droppedFrames === 'number') {\n                    eventAttributes[ValidMediaAttributeKeys.qosDroppedFrames] = _this.qos.droppedFrames;\n                }\n            }\n            // Ad Content\n            if (_this.adContent) {\n                if (_this.adContent.title) {\n                    eventAttributes[ValidMediaAttributeKeys.adTitle] = _this.adContent.title;\n                }\n                if (_this.adContent.id) {\n                    eventAttributes[ValidMediaAttributeKeys.adId] = _this.adContent.id;\n                }\n                if (_this.adContent.advertiser) {\n                    eventAttributes[ValidMediaAttributeKeys.adAdvertiserId] = _this.adContent.advertiser;\n                }\n                if (_this.adContent.siteid) {\n                    eventAttributes[ValidMediaAttributeKeys.adSiteId] = _this.adContent.siteid;\n                }\n                if (typeof _this.adContent.placement === 'string') {\n                    eventAttributes[ValidMediaAttributeKeys.adPlacement] = _this.adContent.placement;\n                }\n                if (typeof _this.adContent.position === 'number') {\n                    eventAttributes[ValidMediaAttributeKeys.adPosition] = _this.adContent.position;\n                }\n                if (_this.adContent.duration) {\n                    eventAttributes[ValidMediaAttributeKeys.adDuration] = _this.adContent.duration;\n                }\n                if (_this.adContent.creative) {\n                    eventAttributes[ValidMediaAttributeKeys.adCreative] = _this.adContent.creative;\n                }\n                if (_this.adContent.campaign) {\n                    eventAttributes[ValidMediaAttributeKeys.adCampaign] = _this.adContent.campaign;\n                }\n            }\n            // Ad Break\n            if (_this.adBreak) {\n                if (_this.adBreak.id) {\n                    eventAttributes[ValidMediaAttributeKeys.adBreakId] = _this.adBreak.id;\n                }\n                if (_this.adBreak.title) {\n                    eventAttributes[ValidMediaAttributeKeys.adBreakTitle] = _this.adBreak.title;\n                }\n                if (_this.adBreak.duration) {\n                    eventAttributes[ValidMediaAttributeKeys.adBreakDuration] = _this.adBreak.duration;\n                }\n            }\n            // Segments\n            if (_this.segment) {\n                if (_this.segment.title) {\n                    eventAttributes[ValidMediaAttributeKeys.segmentTitle] = _this.segment.title;\n                }\n                if (_this.segment.index) {\n                    eventAttributes[ValidMediaAttributeKeys.segmentIndex] = _this.segment.index;\n                }\n                if (_this.segment.duration) {\n                    eventAttributes[ValidMediaAttributeKeys.segmentDuration] = _this.segment.duration;\n                }\n            }\n            return eventAttributes;\n        };\n        /**\n         * Returns a dictionary of attributes\n         * @returns Object\n         */\n        _this.getAttributes = function () {\n            return __assign(__assign(__assign({}, _this.getSessionAttributes()), _this.getEventAttributes()), _this.getCustomAttributes());\n        };\n        /**\n         * Representation of the Media Event as a Page Event for the core SDK\n         * @returns Object\n         */\n        _this.toPageEvent = function () {\n            return {\n                name: _this.name,\n                eventType: EventType.Media,\n                messageType: MessageType.PageEvent,\n                data: _this.getAttributes(),\n            };\n        };\n        /**\n         * @hidden Representation of the Media Event for the server model\n         */\n        _this.toEventAPIObject = function () {\n            return {\n                // Core Event Attributes\n                EventName: _this.name,\n                EventCategory: _this.eventType,\n                EventDataType: _this.messageType,\n                AdContent: _this.adContent,\n                AdBreak: _this.adBreak,\n                Segment: _this.segment,\n                SeekPosition: _this.seekPosition,\n                BufferDuration: _this.bufferDuration,\n                BufferPercent: _this.bufferPercent,\n                BufferPosition: _this.bufferPosition,\n                PlayheadPosition: _this.playheadPosition,\n                QoS: _this.qos,\n                ContentTitle: _this.contentTitle,\n                ContentId: _this.contentId,\n                Duration: _this.duration,\n                ContentType: MediaContentType[_this.contentType],\n                StreamType: MediaStreamType[_this.streamType],\n                EventAttributes: _this.options.customAttributes,\n            };\n        };\n        _this.playheadPosition = options === null || options === void 0 ? void 0 : options.currentPlayheadPosition;\n        _this.customAttributes = options === null || options === void 0 ? void 0 : options.customAttributes;\n        return _this;\n    }\n    return MediaEvent;\n}(BaseEvent));\n\n/**\n * The MediaSession class is the primary class that will be used to engage with the mParticle Media SDK.\n *\n * # Usage\n * ## MediaSession Instance\n *\n * ```javascript\n * const mediaSession = new MediaSession(\n *   mParticle,                    // mParticle SDK Instance\n *   '1234567',                    // Custom media ID\n *   'Funny Internet cat video',   // Custom media Title\n *   120000,                       // Duration in milliseconds\n *   'Video',                      // Content Type (Video or Audio)\n *   'OnDemand'                    // Stream Type (OnDemand, Live, etc.)\n *   true,                         // Log Page Event Toggle (true/false)\n *   true,                         // Log Media Event Toggle (true/false)\n * )\n * ```\n *\n * ## Logging Events\n *\n * Once initiated, a [[MediaSession]] provides various log methods\n * that will trigger a [[MediaEvent]].\n *\n * ```javascript\n * mediaSession.logMediaSessionStart();\n * mediaSession.logPlay();\n * ```\n *\n * ## Custom Attributes\n * By default, a `MediaEvent` will have certain required attributes,\n * such as `custom_media_id` and `custom_media_title`, etc. However,\n * if you require to log something custom, such as `content_season_number`\n * or `player_name`, this can be added to `customAttributes`.\n *\n * These `customAttributes` are attributes unique to the media event\n * but can be passed through the `MediaSession` via the various log\n * functions as an `options` parameter.\n *\n * ```javascript\n * const customAttributes = {\n *     content_season: 3,\n *     content_episode: 26,\n *     content_episode_name: 'The Best of Both Worlds',\n * };\n *\n * mediaSession.logPlay({ options: currentAttributes })\n * ```\n */\nvar MediaSession = /** @class */ (function () {\n    /**\n     * Initializes the Media Session object. This does not start a session, you can do so by calling `logMediaSessionStart`.\n     * @param mparticleInstance Your mParticle global object\n     * @param contentId A unique identifier for your media content\n     * @param title The title of your media content\n     * @param duration The length of time for the complete media content (not including ads or breaks)\n     * @param contentType A descriptor for the type of content, i.e. Audio or Video\n     * @param streamType A descriptor for the type of stream, i.e. live or on demand\n     * @param logPageEvent A flag that toggles sending mParticle Events to Core SDK\n     * @param logMediaEvent A flag that toggles sending Media Events to Core SDK\n     */\n    function MediaSession(mparticleInstance, contentId, title, duration, contentType, streamType, logPageEvent, logMediaEvent) {\n        if (logPageEvent === void 0) { logPageEvent = false; }\n        if (logMediaEvent === void 0) { logMediaEvent = true; }\n        this.mparticleInstance = mparticleInstance;\n        this.contentId = contentId;\n        this.title = title;\n        this.duration = duration;\n        this.contentType = contentType;\n        this.streamType = streamType;\n        this.logPageEvent = logPageEvent;\n        this.logMediaEvent = logMediaEvent;\n        this._sessionId = '';\n        this.currentQoS = {\n            startupTime: 0,\n            fps: 0,\n            bitRate: 0,\n            droppedFrames: 0,\n        };\n        this.customAttributes = {};\n        this.mediaSessionStartTimestamp = Date.now(); //Timestamp created on logMediaSessionStart event\n        this.mediaSessionEndTimestamp = Date.now(); //Timestamp updated when any event is loggged\n        this.storedPlaybackTime = 0; //On Pause calculate playback time and clear currentPlaybackTime\n        this.mediaContentCompleteLimit = 100; //Percentage of content that must be progressed through to mark as completed\n        this.mediaContentComplete = false; //Updates to true triggered by logMediaContentEnd, 0 or false if complete milestone not reached.\n        this.mediaSessionSegmentTotal = 0; //number incremented with each logSegmentStart\n        this.mediaTotalAdTimeSpent = 0; //total second sum of ad break time spent\n        this.mediaSessionAdTotal = 0; //number of ads played in the media session - increment on logAdStart\n        this.mediaSessionAdObjects = []; //array of unique identifiers for ads played in the media session - append ad_content_ID on logAdStart\n        this.sessionSummarySent = false; // Ensures we only send the summary event once\n        this.listenerCallback = function () { };\n        this.mediaSessionStartTimestamp = Date.now();\n    }\n    Object.defineProperty(MediaSession.prototype, \"sessionId\", {\n        get: function () {\n            return this._sessionId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MediaSession.prototype.mediaTimeSpent = function () {\n        return this.mediaSessionEndTimestamp - this.mediaSessionStartTimestamp;\n    };\n    MediaSession.prototype.mediaContentTimeSpent = function () {\n        if (this.currentPlaybackStartTimestamp) {\n            return (this.storedPlaybackTime +\n                (Date.now() - this.currentPlaybackStartTimestamp));\n        }\n        else {\n            return this.storedPlaybackTime;\n        }\n    };\n    MediaSession.prototype.mediaAdTimeSpentRate = function () {\n        return ((this.mediaTotalAdTimeSpent / this.mediaContentTimeSpent()) * 100);\n    };\n    /**\n     * Creates a base Media Event\n     * @param eventType\n     * @param customAttributes\n     */\n    MediaSession.prototype.createMediaEvent = function (eventType, options) {\n        if (options === void 0) { options = {}; }\n        // Set event option based on options or current state\n        this.currentPlayheadPosition =\n            (options === null || options === void 0 ? void 0 : options.currentPlayheadPosition) || this.currentPlayheadPosition;\n        this.customAttributes = (options === null || options === void 0 ? void 0 : options.customAttributes) || {};\n        options = __assign({ currentPlayheadPosition: this.currentPlayheadPosition, customAttributes: this.customAttributes }, options);\n        return new MediaEvent(eventType, this.title, this.contentId, this.duration, this.contentType, this.streamType, this.sessionId, options);\n    };\n    /**\n     * Sends MediaEvent to CoreSDK depending on if [logMediaEvent] or [logPageEvent] are set\n     * @param event MediaEvent\n     */\n    MediaSession.prototype.logEvent = function (event) {\n        this.mediaSessionEndTimestamp = Date.now();\n        if (this.mediaContentCompleteLimit !== 100) {\n            if (this.duration &&\n                this.currentPlayheadPosition &&\n                this.currentPlayheadPosition / this.duration >=\n                    this.mediaContentCompleteLimit / 100) {\n                this.mediaContentComplete = true;\n            }\n        }\n        this.mediaEventListener(event);\n        if (this.logMediaEvent) {\n            this.mparticleInstance.logBaseEvent(event);\n        }\n        if (this.logPageEvent) {\n            if (event.eventType !== MediaEventType.UpdatePlayheadPosition) {\n                var mpEvent = event.toPageEvent();\n                this.mparticleInstance.logBaseEvent(mpEvent);\n            }\n        }\n    };\n    /**\n     * Returns QoS attributes as a flat object\n     */\n    MediaSession.prototype.getQoSAttributes = function () {\n        var result = {};\n        if (this.currentQoS.bitRate) {\n            result.qos_bitrate = this.currentQoS.bitRate;\n        }\n        if (this.currentQoS.startupTime) {\n            result.qos_startup_time = this.currentQoS.startupTime;\n        }\n        if (this.currentQoS.fps) {\n            result.qos_fps = this.currentQoS.fps;\n        }\n        if (this.currentQoS.droppedFrames) {\n            result.qos_dropped_frames = this.currentQoS.droppedFrames;\n        }\n        return result;\n    };\n    /**\n     * Returns session attributes as a flat object\n     */\n    MediaSession.prototype.getAttributes = function () {\n        var attributes = {\n            content_title: this.title,\n            content_duration: this.duration,\n            content_id: this.contentId,\n            content_type: MediaContentType[this.contentType],\n            stream_type: MediaStreamType[this.streamType],\n            media_session_id: this.sessionId,\n        };\n        if (this.currentPlayheadPosition) {\n            attributes['playhead_position'] = this.currentPlayheadPosition;\n        }\n        return attributes;\n    };\n    /**\n     * Starts your media session. Should be triggered before any prerolls or ads\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logMediaSessionStart = function (options) {\n        this._sessionId = uuid();\n        this.mediaSessionStartTimestamp = Date.now();\n        var event = this.createMediaEvent(MediaEventType.SessionStart, options);\n        this.logEvent(event);\n    };\n    /**\n     * Ends your media session. Should be triggered after all ads and content have been completed\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logMediaSessionEnd = function (options) {\n        var event = this.createMediaEvent(MediaEventType.SessionEnd, options);\n        this.logEvent(event);\n        this.logSessionSummary();\n    };\n    /**\n     * Logs when your media content has ended, usually before a post-roll ad.\n     * Must be fired between MediaSessionStart and MediaSessionEnd\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logMediaContentEnd = function (options) {\n        this.mediaContentComplete = true;\n        var event = this.createMediaEvent(MediaEventType.ContentEnd, options);\n        this.logEvent(event);\n    };\n    /**\n     * Logs when an Ad Break pod has started\n     * @param adBreakContent An object representing an [[AdBreak]] (collection of ads)\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdBreakStart = function (adBreakContent, options) {\n        this.adBreak = adBreakContent;\n        var event = this.createMediaEvent(MediaEventType.AdBreakStart, options);\n        event.adBreak = adBreakContent;\n        this.logEvent(event);\n    };\n    /**\n     * Logs when an [[AdBreak]] pod has ended\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdBreakEnd = function (options) {\n        var event = this.createMediaEvent(MediaEventType.AdBreakEnd, options);\n        event.adBreak = this.adBreak;\n        this.logEvent(event);\n        this.adBreak = undefined;\n    };\n    /**\n     * Logs when a single ad plays\n     * @param adContent An object representing a single Ad\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdStart = function (adContent, options) {\n        this.mediaSessionAdTotal += 1;\n        this.mediaSessionAdObjects.push(adContent.id);\n        this.adContent = adContent;\n        this.adContent.adStartTimestamp = Date.now();\n        var event = this.createMediaEvent(MediaEventType.AdStart, options);\n        event.adContent = adContent;\n        this.logEvent(event);\n    };\n    /**\n     * Logs when a single ad ends\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdEnd = function (options) {\n        var _a;\n        if ((_a = this.adContent) === null || _a === void 0 ? void 0 : _a.adStartTimestamp) {\n            this.adContent.adEndTimestamp = Date.now();\n            this.adContent.adCompleted = true;\n            this.adContent.adSkipped = false;\n            this.mediaTotalAdTimeSpent +=\n                this.adContent.adEndTimestamp -\n                    this.adContent.adStartTimestamp;\n        }\n        var event = this.createMediaEvent(MediaEventType.AdEnd, options);\n        event.adContent = this.adContent;\n        this.logEvent(event);\n        this.logAdSummary();\n    };\n    /**\n     * Logs when a single ad is skipped by a visitor\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdSkip = function (options) {\n        var _a;\n        if ((_a = this.adContent) === null || _a === void 0 ? void 0 : _a.adStartTimestamp) {\n            this.adContent.adEndTimestamp = Date.now();\n            this.adContent.adSkipped = true;\n            this.adContent.adCompleted = false;\n            this.mediaTotalAdTimeSpent +=\n                this.adContent.adEndTimestamp -\n                    this.adContent.adStartTimestamp;\n        }\n        var event = this.createMediaEvent(MediaEventType.AdSkip, options);\n        event.adContent = this.adContent;\n        this.logEvent(event);\n        this.logAdSummary();\n    };\n    /**\n     * Logs when a single ad is clicked on by a visitor\n     * @param options Optional Custom Attributes\n     * @category Advertising\n     */\n    MediaSession.prototype.logAdClick = function (adContent, options) {\n        this.adContent = adContent;\n        var event = this.createMediaEvent(MediaEventType.AdClick, options);\n        event.adContent = this.adContent;\n        this.logEvent(event);\n    };\n    /**\n     * Logs the start of a buffering event\n     * @param bufferDuration The duration of a buffering event\n     * @param bufferPercent The percent that has been buffered\n     * @param bufferPosition The playhead position of the buffering event\n     * @param options Optional Custom Attributes\n     * @category Buffering\n     */\n    MediaSession.prototype.logBufferStart = function (bufferDuration, bufferPercent, bufferPosition, options) {\n        var event = this.createMediaEvent(MediaEventType.BufferStart, options);\n        event.bufferDuration = bufferDuration;\n        event.bufferPercent = bufferPercent;\n        event.bufferPosition = bufferPosition;\n        this.logEvent(event);\n    };\n    /**\n     * Logs the end of a buffering event\n     * @param bufferDuration The duration of a buffering event\n     * @param bufferPercent The percent that has been buffered\n     * @param bufferPosition The playhead position of the buffering event\n     * @param options Optional Custom Attributes\n     * @category Buffering\n     */\n    MediaSession.prototype.logBufferEnd = function (bufferDuration, bufferPercent, bufferPosition, options) {\n        var event = this.createMediaEvent(MediaEventType.BufferEnd, options);\n        event.bufferDuration = bufferDuration;\n        event.bufferPercent = bufferPercent;\n        event.bufferPosition = bufferPosition;\n        this.logEvent(event);\n    };\n    /**\n     * Logs a play event\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logPlay = function (options) {\n        if (!this.currentPlaybackStartTimestamp) {\n            this.currentPlaybackStartTimestamp = Date.now();\n        }\n        var event = this.createMediaEvent(MediaEventType.Play, options);\n        this.logEvent(event);\n    };\n    /**\n     * Logs a pause event\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logPause = function (options) {\n        if (this.currentPlaybackStartTimestamp) {\n            this.storedPlaybackTime =\n                this.storedPlaybackTime +\n                    (Date.now() - this.currentPlaybackStartTimestamp);\n            this.currentPlaybackStartTimestamp = undefined;\n        }\n        var event = this.createMediaEvent(MediaEventType.Pause, options);\n        this.logEvent(event);\n    };\n    /**\n     * Logs the start of a Segment or Chapter\n     * @param segment An object representing a segment or chapter of content\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logSegmentStart = function (segment, options) {\n        this.mediaSessionSegmentTotal += 1;\n        segment.segmentStartTimestamp = Date.now();\n        this.segment = segment;\n        var event = this.createMediaEvent(MediaEventType.SegmentStart, options);\n        event.segment = segment;\n        this.logEvent(event);\n    };\n    /**\n     * Logs the end of a Segment or Chapter\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logSegmentEnd = function (options) {\n        var _a;\n        if ((_a = this.segment) === null || _a === void 0 ? void 0 : _a.segmentStartTimestamp) {\n            this.segment.segmentEndTimestamp = Date.now();\n            this.segment.segmentCompleted = true;\n            this.segment.segmentSkipped = false;\n        }\n        var event = this.createMediaEvent(MediaEventType.SegmentEnd, options);\n        event.segment = this.segment;\n        this.logEvent(event);\n        this.logSegmentSummary();\n    };\n    /**\n     * Logs when a visitor skips a Segment or Chapter\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logSegmentSkip = function (options) {\n        var _a;\n        if ((_a = this.segment) === null || _a === void 0 ? void 0 : _a.segmentStartTimestamp) {\n            this.segment.segmentEndTimestamp = Date.now();\n            this.segment.segmentSkipped = true;\n            this.segment.segmentCompleted = false;\n        }\n        var event = this.createMediaEvent(MediaEventType.SegmentSkip, options);\n        event.segment = this.segment;\n        this.logEvent(event);\n        this.logSegmentSummary();\n    };\n    /**\n     * Logs when a visitor starts seeking\n     * @param seekPosition the desired playhead position\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logSeekStart = function (seekPosition, options) {\n        var event = this.createMediaEvent(MediaEventType.SeekStart, options);\n        event.seekPosition = seekPosition;\n        this.logEvent(event);\n    };\n    /**\n     * Logs when a visitor stops seeking\n     * @param seekPosition the desired playhead position\n     * @param options Optional Custom Attributes\n     * @category Media\n     */\n    MediaSession.prototype.logSeekEnd = function (seekPosition, options) {\n        var event = this.createMediaEvent(MediaEventType.SeekEnd, options);\n        event.seekPosition = seekPosition;\n        this.logEvent(event);\n    };\n    /**\n     * Logs when the playhead position is updated\n     * @param playheadPosition The updated playhead position\n     * @category Media\n     */\n    MediaSession.prototype.logPlayheadPosition = function (playheadPosition) {\n        this.currentPlayheadPosition = playheadPosition;\n        var event = this.createMediaEvent(MediaEventType.UpdatePlayheadPosition);\n        event.playheadPosition = playheadPosition;\n        this.logEvent(event);\n    };\n    /**\n     * Logs an update in the Quality of Service\n     * @param qos An object representing QoS\n     * @param options Optional Custom Attributes\n     * @category Quality of Service\n     */\n    MediaSession.prototype.logQoS = function (qos, options) {\n        this.currentQoS = __assign(__assign({}, this.currentQoS), qos);\n        var event = this.createMediaEvent(MediaEventType.UpdateQoS, options);\n        event.qos = __assign({}, this.currentQoS);\n        this.logEvent(event);\n    };\n    /**\n     * Creates a Custom Page Event which can then be passed into\n     * Core SDK as an event\n     *\n     * ```typescript\n     * const customMPEvent = MediaSession.createPageEvent(\n     *     'My Custom Event',\n     * .   {\n     *        \"custom-property\": \"custom-value\"\n     *     }\n     * );\n     *\n     * mParticle.logEvent(customMPEvent);\n     * ```\n     *\n     * returns a Custom Page Event\n     * @param eventName The name of your custom event\n     * @param attributes An Attribute Key/Value pair\n     */\n    MediaSession.prototype.createPageEvent = function (eventName, attributes) {\n        return {\n            name: eventName,\n            eventType: EventType.Media,\n            messageType: MessageType.PageEvent,\n            data: __assign(__assign(__assign({}, this.getAttributes()), this.getQoSAttributes()), attributes),\n        };\n    };\n    Object.defineProperty(MediaSession.prototype, \"mediaEventListener\", {\n        /**\n         * Subscribes your Media Session to an array of [[MediaEventType]] and fires a\n         * callback when they are triggered\n         *\n         * ```typescript\n         * const mediaSession = new MediaSession(\n         *     mParticle,\n         *     title = \"Media Title\"\n         *     contentId = \"123\"\n         *     duration = 1000\n         *     streamType = StreamType.LiveStream\n         *     contentType = ContentType.Video\n         *\n         *     logPageEvents = false              //optional, defaults to false anyway\n         *     logMediaEvents = false\n         * );\n         *\n         * const myCallback = (event: MediaEvent): void => {\n         *     // Some custom callback method defined by user\n         *     // Should only trigger when play or pause is fired\n         *     if (\n         *         event.type == MediaEventType.Play ||\n         *         event.type == MediaEventType.Pause\n         *     ) {\n         *         const mpEvent = mediaEvent.toPageEvent();\n         *         mParticle.getInstance().logEvent(mpEvent);\n         *     }\n         * }\n         *\n         * mediaSession.mediaEventListener(myCallback);\n         *\n         * ```\n         * @param eventTypes An Array of MediaEventTypes that are being subscribed to\n         * @param callback A callback function\n         */\n        get: function () {\n            return this.listenerCallback;\n        },\n        set: function (callback) {\n            this.listenerCallback = callback;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MediaSession.prototype.logSessionSummary = function () {\n        if (!this.sessionSummarySent) {\n            if (!this.mediaSessionEndTimestamp) {\n                this.mediaSessionEndTimestamp = Date.now();\n            }\n            // tslint:disable-next-line: no-any\n            var customAttributes = {};\n            customAttributes[ValidMediaAttributeKeys.mediaSessionIdKey] = this.sessionId;\n            customAttributes[ValidMediaAttributeKeys.startTimestampKey] = this.mediaSessionStartTimestamp;\n            customAttributes[ValidMediaAttributeKeys.endTimestampKey] = this.mediaSessionEndTimestamp;\n            customAttributes[ValidMediaAttributeKeys.contentIdKey] = this.contentId;\n            customAttributes[ValidMediaAttributeKeys.contentTitleKey] = this.title;\n            customAttributes[ValidMediaAttributeKeys.mediaTimeSpentKey] = this.mediaTimeSpent();\n            customAttributes[ValidMediaAttributeKeys.contentTimeSpentKey] = this.mediaContentTimeSpent();\n            customAttributes[ValidMediaAttributeKeys.contentCompleteKey] = this.mediaContentComplete;\n            customAttributes[ValidMediaAttributeKeys.totalSegmentsKey] = this.mediaSessionSegmentTotal;\n            customAttributes[ValidMediaAttributeKeys.totalAdTimeSpentKey] = this.mediaTotalAdTimeSpent;\n            customAttributes[ValidMediaAttributeKeys.adTimeSpentRateKey] = this.mediaAdTimeSpentRate();\n            customAttributes[ValidMediaAttributeKeys.totalAdsKey] = this.mediaSessionAdTotal;\n            customAttributes[ValidMediaAttributeKeys.adIDsKey] = this.mediaSessionAdObjects;\n            var options = {\n                currentPlayheadPosition: this.currentPlayheadPosition,\n                customAttributes: customAttributes,\n            };\n            var summaryEvent = this.createMediaEvent(MediaEventType.SessionSummary, options);\n            this.logEvent(summaryEvent);\n            this.sessionSummarySent = true;\n        }\n    };\n    MediaSession.prototype.logSegmentSummary = function () {\n        var _a;\n        if ((_a = this.segment) === null || _a === void 0 ? void 0 : _a.segmentStartTimestamp) {\n            if (!this.segment.segmentEndTimestamp) {\n                this.segment.segmentEndTimestamp = Date.now();\n            }\n            // tslint:disable-next-line: no-any\n            var customAttributes = {};\n            customAttributes[ValidMediaAttributeKeys.mediaSessionIdKey] = this.sessionId;\n            customAttributes[ValidMediaAttributeKeys.contentId] = this.contentId;\n            customAttributes[ValidMediaAttributeKeys.segmentIndexKey] = this.segment.index;\n            customAttributes[ValidMediaAttributeKeys.segmentTitleKey] = this.segment.title;\n            customAttributes[ValidMediaAttributeKeys.segmentStartTimestampKey] = this.segment.segmentStartTimestamp;\n            customAttributes[ValidMediaAttributeKeys.segmentEndTimestampKey] = this.segment.segmentEndTimestamp;\n            customAttributes[ValidMediaAttributeKeys.segmentTimeSpentKey] =\n                this.segment.segmentEndTimestamp -\n                    this.segment.segmentStartTimestamp;\n            customAttributes[ValidMediaAttributeKeys.segmentSkippedKey] = this.segment.segmentSkipped;\n            customAttributes[ValidMediaAttributeKeys.segmentCompletedKey] = this.segment.segmentCompleted;\n            var options = {\n                currentPlayheadPosition: this.currentPlayheadPosition,\n                customAttributes: customAttributes,\n            };\n            var summaryEvent = this.createMediaEvent(MediaEventType.SegmentSummary, options);\n            this.logEvent(summaryEvent);\n        }\n        this.segment = undefined;\n    };\n    MediaSession.prototype.logAdSummary = function () {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (this.adContent) {\n            if (this.adContent.adStartTimestamp &&\n                !this.adContent.adEndTimestamp) {\n                this.adContent.adEndTimestamp = Date.now();\n                this.mediaTotalAdTimeSpent +=\n                    this.adContent.adEndTimestamp -\n                        this.adContent.adStartTimestamp;\n            }\n            // tslint:disable-next-line: no-any\n            var customAttributes = {};\n            customAttributes[ValidMediaAttributeKeys.mediaSessionIdKey] = this.sessionId;\n            customAttributes[ValidMediaAttributeKeys.adBreakIdKey] = (_a = this.adBreak) === null || _a === void 0 ? void 0 : _a.id;\n            customAttributes[ValidMediaAttributeKeys.adContentIdKey] = (_b = this.adContent) === null || _b === void 0 ? void 0 : _b.id;\n            customAttributes[ValidMediaAttributeKeys.adContentStartTimestampKey] = (_c = this.adContent) === null || _c === void 0 ? void 0 : _c.adStartTimestamp;\n            customAttributes[ValidMediaAttributeKeys.adContentEndTimestampKey] = (_d = this.adContent) === null || _d === void 0 ? void 0 : _d.adEndTimestamp;\n            customAttributes[ValidMediaAttributeKeys.adContentTitleKey] = (_e = this.adContent) === null || _e === void 0 ? void 0 : _e.title;\n            customAttributes[ValidMediaAttributeKeys.adContentSkippedKey] = (_f = this.adContent) === null || _f === void 0 ? void 0 : _f.adSkipped;\n            customAttributes[ValidMediaAttributeKeys.adContentCompletedKey] = (_g = this.adContent) === null || _g === void 0 ? void 0 : _g.adCompleted;\n            var options = {\n                currentPlayheadPosition: this.currentPlayheadPosition,\n                customAttributes: customAttributes,\n            };\n            var summaryEvent = this.createMediaEvent(MediaEventType.AdSummary, options);\n            this.logEvent(summaryEvent);\n        }\n        this.adContent = undefined;\n    };\n    return MediaSession;\n}());\n\nmodule.exports = MediaSession;\n","// Import each library\nimport mParticle from '@mparticle/web-sdk';\nimport appboyKit from '@mparticle/web-appboy-kit';\nimport MediaSession from '@mparticle/web-media-sdk';\n\nvar WEBKEY = localStorage.mpKey || \"us2-5844b462fde9e846af3c4ed52516e61a\";\n\n// Configure mParticle as needed for your project\nconst mParticleConfig = {\n    isDevelopmentMode: true,\n    dataPlan: {\n        planId: \"tw_uk\",\n        planVersion: 1\n    },\n    identityCallback: function(e) {\n        e.getUser()\n    }\n};\n\n\n// Initialize mParticle\nmParticle.init('us2-5844b462fde9e846af3c4ed52516e61a', mParticleConfig);\n\nconst mediaSession = new MediaSession(\n    mParticle,                    // mParticle SDK Instance\n    '1234567',                    // Custom media ID\n    'Funny Internet cat video',   // Custom media Title\n    120000,                       // Duration in milliseconds\n    'Video',                      // Content Type (Video or Audio)\n    'OnDemand',                    // Stream Type (OnDemand, Live, etc.)\n    true,                         // Log Page Event Toggle (true/false)\n    true,                         // Log Media Event Toggle (true/false)\n)\n\nmediaSession.logMediaSessionStart();\nmediaSession.logPlay();\n\nvar host = \"www.treatwell.co.uk\";\n\nvar nav_base_class = \"Navigation-module--navigation--\";\nvar nav_base_dropdown_class = \"NavigationDropdownContent-module--active\";\nvar personalise_class = \"HeroBanner-module--backgroundWrapper\"\n\nvar background_colour = \"#ffffff!important\";\nvar button_colour = \"#ff5c39\";\n\nvar customerid = \"98760803\";\nvar email = \"demo0803@mailinator.com\";\nvar mobile = \"+447890123456\";\nvar user_profile = {};\n\nvar loginDisplay = function(btn) {\n\n    var loggedInAs = mParticle.Identity.getCurrentUser() ? mParticle.Identity.getCurrentUser().getUserIdentities().userIdentities.email : null;\n    //console.log(loggedInAs + \" ::: \" + btn.innerText);\n    btn.innerText = loggedInAs ? ('Logout: Lara (' + email + ')') : ('Log In (' + email + ')');\n    loggedInAs ? (btn.dataset.loggedInAs = loggedInAs) : (delete btn.dataset.loggedInAs);  \n}\n\nasync function mp_login({ email = email, customerid = customerid } = {}, btn) {\n    \n    var identityRequest = {\n        userIdentities: {\n            customerid: `${customerid}`,\n            email: `${email}`\n        }\n    };\n\n    let callback = (e) => {\n        if (e.getUser()) {\n            const a = e.getUser();\n            e.getPreviousUser();\n            console.log(\"Login MPID: \" + mParticle.Identity.getCurrentUser().getMPID());\n            \n            let mPcookies = Object.keys(localStorage).filter((propertyName)=>{return propertyName.indexOf(\"mprtcl\") === 0;});\n            let das = \"\"\n            mPcookies.forEach((cookie)=>{\n              if(localStorage[cookie] && localStorage[cookie].includes(\"|\")){\n                if(localStorage[cookie].split(\"|\").find((e)=>{return e.includes(\"dt\")}).split(\":\")[1] == `'${WEBKEY}'`){\n                  das = localStorage[cookie].split(\"|\").find((e)=>{return e.includes(\"das\")}).split(\":\")[1].replace(/'/g,\"\")\n                  return\n                }\n              }\n            })\n            \n            var marketing_consent = mParticle.Consent.createGDPRConsent(\n                true, // Consented\n                Date.now(), // Timestamp\n                \"marketing_agreement_v4\", // Document\n                \"London\", // Location\n                \"DAS:\"+das // Hardware ID\n            );\n\n            var analytics_consent = mParticle.Consent.createGDPRConsent(\n                true, // Consented\n                Date.now(), // Timestamp\n                \"analytics_agreement_v2\", // Document\n                \"London\", // Location\n                \"DAS:\"+das // Hardware ID\n            );\n            var consentState = mParticle.Consent.createConsentState();\n            consentState.addGDPRConsentState(\"Marketing\", marketing_consent);\n            consentState.addGDPRConsentState(\"Analytics\", analytics_consent);\n            a.setConsentState(consentState);\n\n            a.setUserAttribute(\"$FirstName\", \"Lara\");\n            a.setUserAttribute(\"$LastName\", \"Pulver\");\n            a.setUserAttribute(\"$Mobile\", mobile);\n            a.setUserAttribute(\"$Country\", \"United Kingdom\");\n            a.setUserAttribute(\"$City\", \"London\");\n            \n            loginDisplay(btn);\n            personalise_banner();\n            mParticle.logEvent(\n                'login',\n                mParticle.EventType.Other,\n                {\n                    \"userid\": mParticle.Identity.getCurrentUser().getUserIdentities().userIdentities.customerid,\n                    \"contact\": mParticle.Identity.getCurrentUser().getUserIdentities().userIdentities.email\n                }\n            );\n        } else {\n            var t = window.mParticle.Identity.HTTPCodes;\n            switch (e.httpCode) {\n                case t.noHttpCoverage:\n                case t.activeIdentityRequest:\n                case 429:\n                    break;\n                case t.validationIssue:\n                case 400:\n                    console.log(e.body)\n            }\n        }\n    };\n    await mParticle.Identity.login(identityRequest, callback);  \n}\n\nasync function mp_logout(btn) {\n    \n    let callback = (result) => {\n        loginDisplay(btn);\n        //document.evaluate('//*[contains(@class, \"b4 bj\")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null).snapshotItem(1).textContent = \"Sign In\";\n        if (result.getUser()) {\n\n        }\n    };\n    \n    mParticle.logEvent(\n        'logout',\n        mParticle.EventType.Other,\n        {\n            \"userid\": mParticle.Identity.getCurrentUser().getUserIdentities().userIdentities.customerid,\n            \"email\": mParticle.Identity.getCurrentUser().getUserIdentities().userIdentities.email\n        }\n    );\n    mParticle.Identity.logout({},callback);\n    \n}\n\nasync function request_token() {\n    var e = {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                client_id: \"wawVx2Ejl0K2FUo79pyr6CQWyRmEuXSE\",\n                client_secret: \"zK57_GIo6de0UHThW7iVEac3d6od4pRVDD0GbAcuaEpRZtlBTeXw0bxYf4KIhhvA\",\n                audience: \"https://api.mparticle.com\",\n                grant_type: \"client_credentials\"\n            }),\n            mode: \"cors\",\n            method: \"POST\"\n        },\n        t = await (await fetch(\"https://\" + host + \"/oauth/token\", e)).json();\n    localStorage.access_token = t.access_token, localStorage.token_expiration = Date.now() + 1e3 * (t.expires_in - 60)\n}\n\nasync function request_user_profile(e) {\n    \n    console.log(\"User Profile MPID: \" + e);\n    localStorage.access_token && \"\" != localStorage.access_token && localStorage.token_expiration && \"\" != localStorage.token_expiration && !(localStorage.token_expiration < Date.now()) || await request_token();\n    var t = \"https://\" + host + \"/userprofile/v1/5000011/167/205/\" + e + \"?fields=user_identities,user_attributes,audience_memberships,attribution\",\n        e = {\n            headers: new Headers({\n                Authorization: \"Bearer \" + localStorage.access_token\n            }),\n            method: \"GET\"\n        },\n        a = await (await fetch(t, e)).json();\n        user_profile = await a;\n}\n\nfunction gtag_report_conversion(url) {\n    var callback = function () {\n        if (typeof(url) != 'undefined') {\n            window.location = url;\n        }\n    };\n    gtag('event', 'conversion', {\n        'send_to': 'AW-380364769/l30VCO_Q3pADEOHPr7UB',\n        'event_callback': callback\n    });\n}\n\nfunction uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nfunction fetch_o_xpath(parent_object, child_filter, type = \"obj\", attribute_name = null) {\n    \n    switch (type) {\n        case \"obj\":\n            return document.evaluate('.//*[contains(@class, \"' + child_filter + '\")]', parent_object, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n        case \"text\":\n            return document.evaluate('.//*[contains(@class, \"' + child_filter + '\")]', parent_object, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.innerText;\n        case \"link\":\n            return document.evaluate('.//*[contains(@class, \"' + child_filter + '\")]', parent_object, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.href;\n        case \"attribute\":\n            return document.evaluate('.//*[contains(@class, \"' + child_filter + '\")]', parent_object, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.getAttribute(attribute_name);\n        default:\n            return document.evaluate('.//*[contains(@class, \"' + child_filter + '\")]', parent_object, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n    }\n}\n\n\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag() { dataLayer.push(arguments); }\ngtag('js', new Date());\ngtag('config', 'AW-380364769');\n\nfunction hyperlink_events() {\n    \n    //const targetNode = document.evaluate('//*[contains(@class, \"' + nav_base_class + '\")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null).snapshotItem(0);\n    const targetNode = document.body;\n    \n    var config = { childList: true, subtree: true, characterData: true, attributes: true };\n    const callback = function(mutationsList, observer) {\n        for (let mutation of mutationsList) {\n            //console.log(\"Target: \"+ mutation.target.tagName + \" --- \" + mutation.target.className + \" --- \" + mutation.type);     \n            //if (mutation.type == \"childList\" && !b_switch && document.getElementsByClassName(\"WebItemBtnTitle\").length > 0) {\n            if (mutation.type == \"attributes\" && mutation.target.className.indexOf(\"NavigationTab-module--active\") > -1) {\n                console.log(\"Target: \"+ mutation.target.tagName + \" --- \" + mutation.target.className + \" --- \" + mutation.type);\n                let s_Category = mutation.target.innerText;\n                let o_subcategory_base = document.evaluate('//*[contains(@class, \"' + nav_base_dropdown_class + '\")]', mutation.target.parentElement.parentElement.parentElement, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);\n                if (o_subcategory_base.snapshotLength > 0) {\n                    let o_links = o_subcategory_base.snapshotItem(0).getElementsByTagName(\"a\");\n                    for (let j=0; j<o_links.length; j++) {\n                        o_links[j].addEventListener('click', (evt)=>{\n                            mParticle.logEvent(\n                                'View_Category',\n                                mParticle.EventType.Navigation,\n                                {\n                                    \"Category\": s_Category,\n                                    \"SubCategory\": o_links[j].className.indexOf(\"Promotion\") < 0?o_links[j].innerText:\"Promotion\",\n                                    \"Link\": o_links[j].href\n                                }\n                            );\n                        });\n                    }\n                }\n            }\n            return;\n        }\n    };\n\n    const observer = new MutationObserver(callback);\n    if(targetNode) { observer.observe(document, config); }\n    \n    console.log(\"Observer Starts!\");\n    \n}\n\nfunction mp_init() {\n\n    var toggleLogin = async function(evt) {\n        var btn = evt.currentTarget;\n        if (btn.dataset.loggedInAs) {\n            mp_logout(btn);\n            console.log(\"+++ Logout +++\")\n               \n        } else {\n            gtag_report_conversion();\n            await mp_login({customerid: customerid, email: email}, btn);\n            setTimeout(async function() {\n                await request_user_profile(mParticle.Identity.getCurrentUser().getMPID());\n                var o_personalise_base = document.evaluate('//*[contains(@class, \"' + personalise_class + '\")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);\n                if (o_personalise_base.snapshotLength > 0) {\n                    o_personalise_base.snapshotItem(0).getElementsByTagName(\"source\")[0].srcset=\"https://demo.mp.com/\" + user_profile.user_attributes[\"last View Category\"].toLowerCase().replace(\" \", \"_\") + \".png\";\n                }\n                console.log(user_profile)\n            }, 1000);\n        \n        }\n    }\n\n    var loginBtn = document.createElement('button');\n    loginBtn.style.cssText = 'z-index:1081; cursor:pointer; font-size: 13px; height: 28px; width: 170px;position: fixed; right: 0px; top: 20px; border: none; padding: 5px 5px; background: ' + background_colour + '; color: ' + button_colour;\n    loginDisplay(loginBtn);\n    loginBtn.addEventListener('click', toggleLogin);\n    document.body.appendChild(loginBtn);\n\n    //Broom to clear mP data in localStorage\n    var tmp = document.createElement('div');\n    tmp.innerHTML = '<div style=\"position:fixed;bottom:0;right:0;padding:10px;cursor:pointer;z-index:999;\" onclick=\"for(var removeKeys=[],i=0;i<localStorage.length;i++)localStorage.key(i).match(/^mprtcl/)&&removeKeys.push(localStorage.key(i));removeKeys.forEach(e=>localStorage.removeItem(e));window.location=window.location;\">🧹</div>';\n    document.body.appendChild(tmp.children[0]);\n    \n    \n    var o_category_base = document.evaluate('//*[contains(@class, \"' + nav_base_class + '\")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);\n    if (o_category_base.snapshotLength > 0) {\n        var o_categories = o_category_base.snapshotItem(0).getElementsByTagName(\"a\");\n        for (let i=0; i<o_categories.length; i++) {\n            if (o_categories[i].innerText.indexOf(\"LOOKBOOK\") > -1 || o_categories[i].innerText.indexOf(\"THE TREATMENT FILES\") > -1) {\n                o_categories[i].addEventListener('click', (evt)=>{\n                    mParticle.logEvent(\n                        'View_Category',\n                        mParticle.EventType.Navigation,\n                        {\n                            \"Category\": o_categories[i].innerText,\n                            \"Link\": o_categories[i].href\n                        }\n                    );\n                });\n            }\n        }\n    }\n    \n    var worker = new Worker('https://' + host + '/service-worker.js');\n    appboy.registerAppboyPushMessages();\n    \n    console.log(\"Event Listeners Added!\");\n\n}\n\nfunction fire_campaignEvent() {\n    \n    var curr_location = decodeURI(window.location.href);\n    var a_match = curr_location.match(/^https:\\/\\/www\\.treatwell\\.co\\.uk\\/\\?subject=\"(.+)\"&campaign=\"(.+)\"&medium=\"(.+)\"&publisher=\"(.+)\"/);\n    \n    if (a_match && a_match.length > 0) {\n        mParticle.logEvent(\n            'Land_Campaign',\n            mParticle.EventType.Unknown,\n            {\n                \"Landing_URL\": window.location.href,\n                \"Subject\": a_match[1],\n                \"Campaign_Name\": a_match[2],\n                \"Campaign_Medium\": a_match[3],\n                \"Publisher\": a_match[4]\n            }\n        );\n    }\n    \n    var a_utm_match = curr_location.match(/^https:\\/\\/www\\.treatwell\\.co\\.uk\\/\\?utm_medium=([^&]+)&.+&utm_content=([^&]+)&utm_source=([^&]+)&utm_campaign=([^&]+)&.+/);\n    \n    if (a_utm_match && a_utm_match.length > 0) {\n        mParticle.logEvent(\n            'Land_Campaign',\n            mParticle.EventType.Unknown,\n            {\n                \"Landing_URL\": window.location.href,\n                \"Subject\": a_utm_match[2],\n                \"Campaign_Name\": a_utm_match[4],\n                \"Campaign_Medium\": a_utm_match[1],\n                \"Publisher\": a_utm_match[3]\n            }\n        );\n    }\n}\n\nfunction personalise_banner() {\n    console.log(\"+++++Personalise+++++\");\n    if(\"user_attributes\" in user_profile && \"last View Category\" in user_profile.user_attributes && user_profile.user_attributes[\"last View Category\"]) {\n        var o_personalise_base = document.evaluate('//*[contains(@class, \"' + personalise_class + '\")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);\n        if (o_personalise_base.snapshotLength > 0) {\n            o_personalise_base.snapshotItem(0).getElementsByTagName(\"source\")[0].srcset=\"https://demo.mp.com/\" + user_profile.user_attributes[\"last View Category\"].toLowerCase().replace(\" \", \"_\") + \".png\";\n            mParticle.logEvent(\n                'deliver_personalisation',\n                mParticle.EventType.Other,\n                {\n                    \"Subject\": user_profile.user_attributes[\"last View Category\"],\n                    \"Email\": user_profile.user_identities[1].value\n                }\n            );\n            console.log(\"++++++Personlisation Delivered!+++++\");\n        }\n    }\n    \n}\n\n//window.addEventListener('load', fire_campaignEvent(), true);\ndocument.addEventListener('DOMContentLoaded', fire_campaignEvent(), false);\nsetTimeout(function() {mp_init();hyperlink_events();}, 1000);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}