{"version":3,"sources":["public/mp/eJ_app.js"],"names":["parse","require","fs","path","flights","flight_search","airport_code","eJ_flight_price","createReadStream","pipe","delimiter","from_line","on","row","error","console","log","message","module","exports"],"mappings":"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","file":"eJ_app.js","sourceRoot":"../src","sourcesContent":["const { parse } = require(\"csv-parse\");\nconst fs = require('fs');\nconst path = require('path');\n\nvar flights = {}\nvar flight_search = {}\nvar airport_code = {}\n\nvar eJ_flight_price = {\n    \"Unit_Price\": 0.1,\n    \"Extra Legroom\": [0.3, 0.4],\n    \"Up Front\": [0.2, 0.3, 0.4],\n    \"Standard\": [0.0],\n    \"Standard Plus\": [0.3, 0.4],\n    \"Essentials\": [0.5, 0.6],\n    \"Large Cabin Bag\":[0.12, 0.25],\n    \"15kg Hold Bag\": [0.25, 0.35, 0.55],\n    \"23kg Hold Bag\": [0.45, 0.65],\n    \"26kg Hold Bag\": [0.4, 0.6],\n    \"Discount\": [0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.2, 0.25, 0.3, 0.35],\n    \"Inspire_Me_Type\": \"I don't mind|City explorer|Adventure and the great outdoors|Family holiday|Foodies|Going solo|Honeymoons and romance|Inspired by movies and TV|Instagram hotspots|Music and festivals|Off the beaten track|Sand sun and swim|Snow and slopes (and a little apres)\",\n    \"Inspire_Me_Trip\": \"Anytime|Summer-23|Autumn-23|Winter-23\",\n    \"Inspire_Me_Time\": \"One-Way|7d-Return|14d-Return|Weekend-Return\"\n}\n\nfs.createReadStream(\"/Users/hsyang/Downloads/eCommerce - webApp/mP-Media/src/public/mp/flights-details.txt\")\n    .pipe(parse({ delimiter: \",\", from_line: 2 }))\n    .on(\"data\", function (row) {\n        flights[row[0]] = {};\n        flights[row[0]]['F-IATA'] = row[1]\n        flights[row[0]]['F-City'] = row[2]\n        flights[row[0]]['F-Country'] = row[3]\n        flights[row[0]]['F-Terminal'] = row[4]\n        flights[row[0]]['F-Time'] = row[5]\n        flights[row[0]]['T-IATA'] = row[6]\n        flights[row[0]]['T-City'] = row[7]\n        flights[row[0]]['T-Country'] = row[8]\n        flights[row[0]]['T-Terminal'] = row[9]\n        flights[row[0]]['T-Time'] = row[10]\n        flights[row[0]]['Distance'] = row[11]\n        flights[row[0]]['Duration'] = row[12]\n        \n        airport_code[row[2]] = row[1]\n        \n        if (typeof flight_search[row[2]] == \"undefined\") {\n            flight_search[row[2]] = {}\n            if (typeof flight_search[row[2]][row[7]] == \"undefined\") {\n                flight_search[row[2]][row[7]] = {}\n            }\n        } else {\n            if (typeof flight_search[row[2]][row[7]] == \"undefined\") {\n                flight_search[row[2]][row[7]] = {}\n            }\n        }\n        flight_search[row[2]][row[7]][row[5]] = row[0]\n    })\n    .on(\"error\", function (error) {\n        console.log(error.message);\n    })\n    .on(\"end\", function () {\n        console.log(\"Done\");\n    });\n\nmodule.exports = {\n    flights: flights,\n    flight_search: flight_search,\n    airport_code: airport_code,\n    eJ_flight_price: eJ_flight_price\n}"]}